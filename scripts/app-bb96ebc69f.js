/******/!function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}// webpackBootstrap
/******/
var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var a=i(1),r=n(a),o=i(2),s=n(o),l=i(3),c=n(l),u=i(4),d=n(u),v=i(5),p=n(v),m=i(6),h=n(m),f=i(7),g=n(f),b=i(8),y=n(b),S=i(9),k=n(S),w=i(10),_=n(w),M=i(11),O=n(M),C=i(12),I=n(C),P=i(13),$=n(P),E=i(14),T=n(E),A=i(15),L=n(A),U=i(16),D=(n(U),i(17)),R=n(D),V=i(18),N=n(V),x=i(19),j=n(x),B=i(20),F=n(B),W=i(21),Y=n(W),z=i(22),G=n(z),q=i(23),H=n(q),K=i(24),Q=n(K),Z=i(25),X=n(Z),J=i(26),ee=n(J),te=i(27),ie=n(te),ne=i(28),ae=n(ne),re=i(29),oe=n(re),se=i(30),le=n(se),ce=i(31),ue=n(ce),de=i(32),ve=n(de),pe=i(33),me=n(pe),he=i(34),fe=n(he),ge=i(35),be=n(ge),ye=i(36),Se=n(ye),ke=i(37),we=n(ke),_e=i(38),Me=n(_e),Oe=i(39),Ce=n(Oe),Ie=i(40),Pe=n(Ie),$e=i(41),Ee=n($e),Te=i(42),Ae=n(Te),Le=i(43),Ue=n(Le),De=i(45),Re=n(De),Ve=i(46),Ne=n(Ve),xe=i(47),je=n(xe),Be=i(48),Fe=n(Be),We=i(49),Ye=n(We),ze=i(50),Ge=n(ze),qe=i(51),He=n(qe),Ke=i(52),Qe=n(Ke),Ze=i(53),Xe=n(Ze),Je=i(54),et=n(Je),tt=i(55),it=n(tt),nt=i(56),at=n(nt),rt=i(57),ot=n(rt),st=i(58),lt=n(st),ct=i(59),ut=n(ct),dt=i(60),vt=n(dt),pt=i(61),mt=n(pt),ht=i(62),ft=n(ht),gt=i(63),bt=n(gt),yt=i(64),St=n(yt),kt=i(65),wt=n(kt),_t=i(66),Mt=n(_t),Ot=i(67),Ct=n(Ot),It=i(68),Pt=n(It),$t=i(69),Et=n($t),Tt=i(70),At=n(Tt),Lt=i(71),Ut=n(Lt),Dt=i(72),Rt=n(Dt),Vt=i(73),Nt=n(Vt),xt=i(74),jt=n(xt),Bt=i(75),Ft=n(Bt),Wt=i(76),Yt=n(Wt),zt=i(77),Gt=n(zt),qt=i(78),Ht=n(qt),Kt=i(79),Qt=n(Kt),Zt=i(80),Xt=n(Zt),Jt=i(81),ei=n(Jt),ti=i(82),ii=n(ti),ni=i(83),ai=n(ni),ri=i(84),oi=n(ri),si=i(85),li=n(si),ci=i(86),ui=n(ci),di=i(87),vi=n(di),pi=i(88),mi=n(pi),hi=i(89),fi=n(hi),gi=i(90),bi=n(gi),yi=i(91),Si=n(yi),ki=i(92),wi=n(ki),_i=i(93),Mi=n(_i),Oi=i(94),Ci=n(Oi),Ii=i(95),Pi=n(Ii),$i=i(96),Ei=n($i),Ti=i(97),Ai=n(Ti),Li=i(98),Ui=n(Li),Di=i(99),Ri=n(Di),Vi=i(100),Ni=n(Vi),xi=i(101),ji=n(xi),Bi=i(102),Fi=n(Bi),Wi=i(103),Yi=n(Wi),zi=i(104),Gi=n(zi),qi=i(105),Hi=n(qi),Ki=i(106),Qi=n(Ki),Zi=i(107),Xi=n(Zi),Ji=i(110),en=n(Ji),tn=i(111),nn=n(tn),an=i(112),rn=n(an),on=i(113),sn=n(on),ln=i(114),cn=n(ln),un=i(115),dn=n(un),vn=i(116),pn=n(vn),mn=i(117),hn=n(mn),fn=i(118),gn=n(fn),bn=i(119),yn=n(bn),Sn=i(120),kn=n(Sn),wn=i(121),_n=n(wn),Mn=i(122),On=n(Mn),Cn=i(123),In=n(Cn),Pn=i(124),$n=n(Pn),En=i(125),Tn=n(En),An=i(126),Ln=n(An),Un=i(127),Dn=n(Un),Rn=i(128),Vn=n(Rn),Nn=i(129),xn=n(Nn),jn=i(130),Bn=n(jn),Fn=i(131),Wn=n(Fn),Yn=i(132),zn=n(Yn),Gn=i(133),qn=n(Gn),Hn=i(134),Kn=n(Hn),Qn=i(135),Zn=n(Qn),Xn=i(136),Jn=n(Xn),ea=i(137),ta=n(ea),ia=i(138),na=n(ia),aa=i(139),ra=n(aa),oa=i(140),sa=n(oa);angular.module("volumio",["volumio.constant","ui.bootstrap-slider","ui.bootstrap","toastr","ngDraggable","ui.select","frapontillo.bootstrap-switch","ui.router","matchmedia-ng","hmTouchEvents","ngFileUpload","pascalprecht.translate","LocalStorageModule","cg.mailchimp","cfp.loadingBar","ngTouch","ngSanitize","ngLetterAvatar","angular-country-select","720kb.datepicker","firebase","stripe.checkout"]).config(r["default"]).config(s["default"]).run(c["default"]).service("socketService",d["default"]).service("playerService",p["default"]).service("browseService",h["default"]).service("playlistService",y["default"]).service("playQueueService",g["default"]).service("multiRoomService",k["default"]).service("toastMessageService",_["default"]).service("updaterService",O["default"]).service("modalService",I["default"]).service("modalService",I["default"]).service("modalListenerService",$["default"]).service("audioOutputsService",T["default"]).service("matchmediaService",L["default"]).service("mockService",R["default"]).service("ripperService",N["default"]).service("uiSettingsService",j["default"]).service("devService",F["default"]).service("deviceEndpointsService",Y["default"]).service("cloudService",G["default"]).service("redirectService",H["default"]).service("angularFireService",Q["default"]).service("authService",X["default"]).service("paymentsService",ee["default"]).service("stripeService",ie["default"]).service("paddleService",ae["default"]).service("databaseService",oe["default"]).service("productsService",le["default"]).service("remoteStorageService",ue["default"]).service("myVolumioDevicesService",ve["default"]).service("firebaseApiFunctionsService",me["default"]).service("statisticsService",fe["default"]).service("growSurfService",be["default"]).provider("themeManager",Se["default"]).provider("themeManager",Se["default"]).directive("playerButtons",["themeManager",function(e){return new we["default"](e)}]).directive("volumeManager",["themeManager",function(e){return new Me["default"](e)}]).directive("trackManager",["themeManager","$log",function(e,t){return new Ce["default"](e,t)}]).directive("trackInfo",["themeManager",function(e){return new Pe["default"](e)}]).directive("playerStatus",function(){return new Ee["default"]}).directive("sideMenu",function(){return new Ae["default"]}).directive("audioOutputs",function(){return new Ue["default"]}).directive("knob",function(){return new Re["default"]}).directive("multiRoomDock",["themeManager",function(e){return new Ne["default"](e)}]).directive("airplayScrim",function(){return new je["default"]}).directive("waitBackendScrim",function(){return new Fe["default"]}).directive("playerLogger",function(){return new Ye["default"]}).directive("playlist",["themeManager",function(e){return new Ge["default"](e)}]).directive("browseScrollManager",["browseService","matchmediaService",function(e,t){return new He["default"](e,t)}]).directive("browseHamburgerMenu",function(){return new Qe["default"]}).directive("trackInfoBar",function(){return new Xe["default"]}).directive("trackInfoBarButtons",function(){return new et["default"]}).directive("equalizer",function(){return new it["default"]}).directive("pluginAttributes",function(){return new St["default"]}).directive("favouriteTrackBtn",["themeManager",function(e){return new vt["default"](e)}]).directive("addTrackToPlaylistBtn",["themeManager",function(e){return new mt["default"](e)}]).directive("trackActionsBtn",["themeManager",function(e){return new ft["default"](e)}]).directive("lightSwitchBtn",["themeManager",function(e){return new bt["default"](e)}]).directive("mainMenu",["themeManager",function(e){return new ot["default"](e)}]).directive("onCloudActions",["themeManager",function(e){return new lt["default"](e)}]).directive("playerSeekbar",["themeManager",function(e){return new ut["default"](e)}]).directive("stripePayButton",function(){return new Mt["default"]}).directive("paddlePayButton",function(){return new Ct["default"]}).directive("myVolumioUserCard",function(){return new Pt["default"]}).directive("myVolumioBackButton",function(){return new Et["default"]}).directive("myVolumioAlreadyLogged",function(){return new At["default"]}).directive("myVolumioCurrentPlanCard",function(){return new Ut["default"]}).directive("myVolumioFileOnChange",function(){return new Rt["default"]}).directive("myVolumioAvatarImage",function(){return new Nt["default"]}).directive("myVolumioPlanCard",function(){return new jt["default"]}).directive("myVolumioVerificationCard",function(){return new Ft["default"]}).directive("myVolumioDeviceSelector",function(){return new Yt["default"]}).directive("growsurfReferralCard",function(){return new Gt["default"]}).controller("HeaderController",Ht["default"]).controller("LayoutController",Qt["default"]).controller("FooterController",Xt["default"]).controller("DebugController",ei["default"]).controller("StaticPageController",ii["default"]).controller("MultiRoomManagerController",ai["default"]).controller("PluginController",mi["default"]).controller("PluginManagerController",fi["default"]).component("pluginComponent",new wt["default"]).controller("BrowseController",oi["default"]).controller("BrowseMusicController",li["default"]).controller("PlaybackController",ui["default"]).controller("PlayQueueController",vi["default"]).controller("WizardController",bi["default"]).controller("ModalController",at["default"]).controller("ModalPlaylistController",Mi["default"]).controller("ModalWebRadioController",Ci["default"]).controller("ModalPowerOffController",Pi["default"]).controller("ModalSleepController",Ei["default"]).controller("ModalAlarmClockController",Ai["default"]).controller("ModalUpdaterController",Ui["default"]).controller("ModalProgressCustomController",Ri["default"]).controller("ModalGotitController",Ni["default"]).controller("ModalConfirmController",ji["default"]).controller("ModalRipperController",Fi["default"]).controller("ModalCustomController",Yi["default"]).controller("ModalPasswordController",Gi["default"]).controller("ModalKaraokeController",Hi["default"]).controller("ModalPluginInstallerController",Qi["default"]).controller("ModalTrackManagerActionsController",Xi["default"]).controller("ModalNetwordDrivesPasswordController",en["default"]).controller("ModalCryptoController",nn["default"]).controller("MyVolumioTermsModalController",rn["default"]).controller("MyVolumioPayingModalController",sn["default"]).controller("WifiPluginController",dn["default"]).controller("NetworkStatusPluginController",pn["default"]).controller("MyMusicPluginController",hn["default"]).controller("NetworkDrivesPluginController",gn["default"]).controller("SystemVersionPluginController",yn["default"]).controller("FirmwareUploadPluginController",kn["default"]).controller("UiSettingsPluginController",_n["default"]).controller("MyMusicPluginEnablerController",On["default"]).controller("ModalCreditsDetailsController",cn["default"]).controller("HomeController",Si["default"]).controller("SettingsController",wi["default"]).controller("MyVolumioLoginController",In["default"]).controller("MyVolumioSignupController",$n["default"]).controller("MyVolumioSignupNewController",Tn["default"]).controller("MyVolumioPremiumStreamingController",Ln["default"]).controller("MyVolumioProfileController",Dn["default"]).controller("MyVolumioPlansController",Vn["default"]).controller("MyVolumioSubscribeController",xn["default"]).controller("MyVolumioPaymentSuccessController",Bn["default"]).controller("MyVolumioPaymentFailController",Wn["default"]).controller("MyVolumioRecoverPasswordController",zn["default"]).controller("MyVolumioEditProfileController",qn["default"]).controller("MyVolumioVerifyUserController",Kn["default"]).controller("MyVolumioCancelSubscriptionController",Zn["default"]).controller("MyVolumioChangeSubscriptionController",Jn["default"]).controller("MyVolumioCloudSelectDeviceController",ta["default"]).controller("MyVolumioAccessController",na["default"]).controller("MyVolumioReferralController",ra["default"]).controller("MyVolumioWelcomeController",sa["default"])},function(e,t){"use strict";function i(e,t,i,n,a,r,o,s,l,c,u,d,v,p,m,h){"ngInject";m.includeSpinner=!1,r.enabled=!0,a.theme=e,a.variant=t,i.debugEnabled(h!==!1),s.html5Mode(!0),l.useApplyAsync(!0),angular.extend(n,{maxOpened:!0,preventOpenDuplicates:!0}),u.setPrefix("volumio"),p.setConfig({username:"volumio",dc:"us11",u:"64b4a843c27713ee9da781aa9",id:"030f96ce5c"}),c.useStaticFilesLoader({prefix:"app/i18n/locale-",suffix:".json"}).fallbackLanguage("en"),c.useSanitizeValueStrategy("sanitizeParameters")}i.$inject=["theme","variant","$logProvider","toastrConfig","themeManagerProvider","$touchProvider","env","$locationProvider","$httpProvider","$translateProvider","localStorageServiceProvider","StripeCheckoutProvider","authServiceProvider","CgMailChimpServiceProvider","cfpLoadingBarProvider","debug"],Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i,e.exports=t["default"]},function(e,t){"use strict";function i(e,t,i,n){"ngInject";console.info("[TEME]: "+n.theme,"[VARIANT]: "+n.variant);i.html5Mode(!0),e.state("volumio",{url:"/","abstract":!0,views:{layout:{templateUrl:n.getHtmlPath("layout"),controller:"LayoutController",controllerAs:"layout"},"header@volumio":{templateUrl:n.getHtmlPath("header"),controller:"HeaderController",controllerAs:"header"},"footer@volumio":{templateUrl:n.getHtmlPath("footer"),controller:"FooterController",controllerAs:"footer"}},resolve:{dependenciesResolver:["$rootScope","ripperService","modalListenerService","toastMessageService","uiSettingsService","updaterService",function(e,t,i,n,a,r){}],socketResolver:["$rootScope","deviceEndpointsService","$q","$document",function(e,t,i,n){var a=i.defer();return t.initSocket().then(function(e){return e===!1?void a.reject("NO_SOCKET_ENDPOINTS"):(n[0].body.classList.remove("myVolumioBkg"),void a.resolve(e))}),a.promise}]}}).state("volumio.browse",{url:"browse",params:{source:null},views:{"content@volumio":{templateUrl:n.getHtmlPath("browse-music"),controller:"BrowseMusicController",controllerAs:"browse"}}}).state("volumio.play-queue",{url:"queue",views:{"content@volumio":{templateUrl:n.getHtmlPath("play-queue"),controller:"PlayQueueController",controllerAs:"playQueue"}}}).state("volumio.playback",{url:"playback",views:{"content@volumio":{templateUrl:n.getHtmlPath("playback"),controller:"PlaybackController",controllerAs:"playback"}}}).state("volumio.debug",{url:"debug",views:{"content@volumio":{templateUrl:"app/components/debug/volumio-debug.html",controller:"DebugController",controllerAs:"debug"}}}).state("volumio.multi-room",{url:"multi-room",views:{"content@volumio":{templateUrl:"app/themes/axiom/multi-room-manager/axiom-multi-room-manager.html",controller:"MultiRoomManagerController",controllerAs:"multiRoomManager"}}}).state("volumio.plugin",{url:"plugin/:pluginName",params:{isPluginSettings:null},views:{"content@volumio":{templateUrl:"app/plugin/plugin.html",controller:"PluginController",controllerAs:"plugin"}}}).state("volumio.plugin-manager",{url:"plugin-manager",views:{"content@volumio":{templateUrl:"app/plugin-manager/plugin-manager.html",controller:"PluginManagerController",controllerAs:"pluginManager"}}}).state("volumio.home",{url:"home",views:{"content@volumio":{templateUrl:n.getHtmlPath("home"),controller:"HomeController",controllerAs:"home"}}}).state("volumio.search",{url:"search",params:{isDedicatedSearch:!0},views:{"content@volumio":{templateUrl:n.getHtmlPath("browse-music"),controller:"BrowseMusicController",controllerAs:"browse"}}}).state("volumio.settings",{url:"settings",views:{"content@volumio":{templateUrl:n.getHtmlPath("settings"),controller:"SettingsController",controllerAs:"settings"}}}).state("myvolumio",{url:"/myvolumio","abstract":!0,views:{layout:{templateUrl:n.getHtmlPath("layout"),controller:"LayoutController",controllerAs:"layout"},"header@myvolumio":{templateUrl:n.getHtmlPath("header"),controller:"HeaderController",controllerAs:"header"},"footer@myvolumio":{templateUrl:n.getHtmlPath("footer"),controller:"FooterController",controllerAs:"footer"}},resolve:{dependenciesResolver:["$rootScope","modalListenerService","toastMessageService","uiSettingsService",function(e,t,i,n){return!0}],socketResolver:["$rootScope","deviceEndpointsService","$q","uiSettingsService","$document",function(e,t,i,n,a){var r=i.defer();return t.setCloudAutoConnectValue(!1),a[0].body.classList.add("myVolumioBkg"),t.initSocket().then(function(e){n.setLanguage(),r.resolve(!0)})["catch"](function(e){r.resolve(!1)}),r.promise}],authEnabled:["authService","$q",function(e,t){var i=t.defer();return e.isAuthEnabled().then(function(e){e?i.resolve(!0):i.reject("MYVOLUMIO_NOT_ENABLED")}),i.promise}]}}).state("myvolumio.login",{url:"/login",views:{"content@myvolumio":{templateUrl:"app/components/myvolumio/login/myvolumio-login.html",controller:"MyVolumioLoginController",controllerAs:"myVolumioLoginController",resolve:{user:["authService",function(e){return e.requireNullUserOrRedirect()}]}}}}).state("myvolumio.logout",{url:"/logout",onEnter:["authService","$state","redirectService",function(e,t,i){e.logOut().then(function(){return i.stateGo("myvolumio.access"),!0})}]}).state("myvolumio.signupOld",{url:"/signup-old",views:{"content@myvolumio":{templateUrl:"app/components/myvolumio/signup/myvolumio-signup.html",controller:"MyVolumioSignupController",controllerAs:"myVolumioSignupController",resolve:{user:["authService",function(e){return e.requireNullUserOrRedirect()}]}}}}).state("myvolumio.signup",{url:"/signup",views:{"content@myvolumio":{templateUrl:"app/components/myvolumio/signup-new/myvolumio-signup-new.html",controller:"MyVolumioSignupNewController",controllerAs:"MyVolumioSignupNewController",resolve:{user:["authService",function(e){return null}]}}}}).state("myvolumio.premiumStreaming",{url:"/premium-streaming/:serviceName",views:{"content@myvolumio":{templateUrl:"app/components/myvolumio/premium-streaming/myvolumio-premium-streaming.html",controller:"MyVolumioPremiumStreamingController",controllerAs:"MyVolumioPremiumStreamingController",resolve:{user:["authService",function(e){return null}]}}}}).state("myvolumio.access",{url:"/access",views:{"content@myvolumio":{templateUrl:"app/components/myvolumio/access/myvolumio-access.html",controller:"MyVolumioAccessController",controllerAs:"myVolumioAccessController",resolve:{user:["authService",function(e){return e.requireNullUserOrRedirect()}]}}}}).state("myvolumio.profile",{url:"/profile",views:{"content@myvolumio":{templateUrl:"app/components/myvolumio/profile/myvolumio-profile.html",controller:"MyVolumioProfileController",controllerAs:"myVolumioProfileController",resolve:{user:["authService",function(e){return e.requireVerifiedUserOrRedirect()}]}}}}).state("myvolumio.edit-profile",{url:"/profile/edit",views:{"content@myvolumio":{templateUrl:"app/components/myvolumio/edit-profile/myvolumio-edit-profile.html",controller:"MyVolumioEditProfileController",controllerAs:"myVolumioEditProfileController",resolve:{user:["authService",function(e){return e.requireUser()}]}}}}).state("myvolumio.plans",{url:"/plans",views:{"content@myvolumio":{templateUrl:"app/components/myvolumio/plans/myvolumio-plans.html",controller:"MyVolumioPlansController",controllerAs:"myVolumioPlansController",resolve:{user:["authService",function(e){return e.requireVerifiedUserOrRedirect()}]}}}}).state("myvolumio.subscribe",{url:"/subscribe/:plan/:planDuration",views:{"content@myvolumio":{templateUrl:"app/components/myvolumio/subscribe/myvolumio-subscribe.html",controller:"MyVolumioSubscribeController",controllerAs:"myVolumioSubscribeController",resolve:{user:["authService",function(e){return e.requireVerifiedUserOrRedirect()}]}}}}).state("myvolumio.payment-success",{url:"/payment/success",views:{"content@myvolumio":{templateUrl:"app/components/myvolumio/payment-success/myvolumio-payment-success.html",controller:"MyVolumioPaymentSuccessController",controllerAs:"myVolumioPaymentSuccessController",resolve:{user:["authService",function(e){return e.requireVerifiedUserOrRedirect()}]}}}}).state("myvolumio.payment-fail",{url:"/payment/fail",views:{"content@myvolumio":{templateUrl:"app/components/myvolumio/payment-fail/myvolumio-payment-fail.html",controller:"MyVolumioPaymentFailController",controllerAs:"myVolumioPaymentFailController",resolve:{user:["authService",function(e){return e.requireVerifiedUserOrRedirect()}]}}}}).state("myvolumio.recover-password",{url:"/recover-password",views:{"content@myvolumio":{templateUrl:"app/components/myvolumio/recover-password/myvolumio-recover-password.html",controller:"MyVolumioRecoverPasswordController",controllerAs:"myVolumioRecoverPasswordController",resolve:{user:["authService",function(e){return e.waitForUser()}]}}}}).state("myvolumio.verify-user",{url:"/profile/verify",views:{"content@myvolumio":{templateUrl:"app/components/myvolumio/verify-user/myvolumio-verify-user.html",controller:"MyVolumioVerifyUserController",controllerAs:"myVolumioVerifyUserController",resolve:{user:["authService",function(e){return e.requireUser()}]}}}}).state("myvolumio.cancel-subscription",{url:"/subscription/cancel",views:{"content@myvolumio":{templateUrl:"app/components/myvolumio/cancel-subscription/myvolumio-cancel-subscription.html",controller:"MyVolumioCancelSubscriptionController",controllerAs:"myVolumioCancelSubscriptionController",resolve:{user:["authService",function(e){return e.requireVerifiedUserOrRedirect()}]}}}}).state("myvolumio.change-subscription",{url:"/subscription/change/:plan/:planDuration",views:{"content@myvolumio":{templateUrl:"app/components/myvolumio/change-subscription/myvolumio-change-subscription.html",controller:"MyVolumioChangeSubscriptionController",controllerAs:"myVolumioChangeSubscriptionController",resolve:{user:["authService",function(e){return e.requireVerifiedUserOrRedirect()}]}}}}).state("myvolumio.referral",{url:"/profile/referral",views:{"content@myvolumio":{templateUrl:"app/components/myvolumio/referral/myvolumio-referral.html",controller:"MyVolumioReferralController",controllerAs:"myVolumioReferralController",resolve:{user:["authService",function(e){return e.requireVerifiedUserOrRedirect()}]}}}}).state("myvolumio.welcome",{url:"/welcome",views:{"content@myvolumio":{templateUrl:"app/components/myvolumio/welcome/myvolumio-welcome.html",controller:"MyVolumioWelcomeController",controllerAs:"myVolumioWelcomeController"}}}).state("volumio.static-page",{url:"static-page/:pageName",views:{"content@volumio":{templateUrl:"app/static-pages/static-page.html",controller:"StaticPageController",controllerAs:"staticPage"}}}).state("redirect",{url:"/redirect",views:{layout:{template:"",controller:["$state","cloudService","redirectService","$location",function(e,t,i,n){var a=n.url().split("?")[1];return t.isCloudReferralLink===!0?void i.urlGo("myvolumio/welcome",a):t.isOnCloud===!0?void i.urlGo("myvolumio/access",a):void i.urlGo("indexstate-redirect",a)}]}}}).state("volumio.redirect",{url:"indexstate-redirect",views:{"content@volumio":{template:"",controller:["$state","uiSettingsService","browseService","$stateParams","$window","redirectService","$location",function(e,t,i,n,a,r,o){var s=o.url().split("?")[1];t.initService().then(function(e){e&&e.indexState?e.indexStateHome?(i.backHome(),r.urlGo(""+e.indexState,s)):r.urlGo(""+e.indexState,s):r.urlGo("playback",s)})}],controllerAs:"redirect"}}}).state("volumio.wizard",{url:"wizard",views:{"content@volumio":{templateUrl:"app/wizard/wizard.html",controller:"WizardController",controllerAs:"wizard"}}}),t.otherwise(function(e,t){var i=t.url().split("?")[1],n=i&&i.length?"/redirect?"+i:"/redirect";return n})}i.$inject=["$stateProvider","$urlRouterProvider","$locationProvider","themeManagerProvider"],Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i,e.exports=t["default"]},function(e,t){"use strict";function i(e,t,i,n){"ngInject";e.setPageMetadata(),i.state=t,i.$on("$stateChangeError",function(e,i,a,r,o,s){return e.preventDefault(),"MYVOLUMIO_NOT_ENABLED"===s?void t.go("volumio.browse"):"MYVOLUMIO_REQUIRED"===s?void t.go("myvolumio.access"):"AUTH_REQUIRED"===s?void t.go("myvolumio.access"):"NO_SOCKET_ENDPOINTS"===s&&n.isOnCloud?void t.go("myvolumio.access"):"MYVOLUMIO_USER_ALREADY_LOGGED"===s?void t.go("myvolumio.profile"):void 0})}i.$inject=["themeManager","$state","$rootScope","cloudService"],Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o){"ngInject";i(this,e),this.$rootScope=t,this.$http=n,this.$window=a,this.$log=r,this.loadingBar=o,this.loadingBarEnabled=!0,this._host=null,this.hosts={},this.loadingBarRequestEvents=["browseLibrary","search","goTo","GetTrackInfo","createPlaylist","listPlaylist","addToPlaylist","playPlaylist","enqueue","addToFavourites","playFavourites","addToRadioFavourites","removeFromRadioFavourites","playRadioFavourites","getSleep","getAlarms","saveAlarm","setMultiroom","getWirelessNetworks","getInfoNetwork"],this.loadingBarResponseEvents=["pushBrowseLibrary","pushGetTrackInfo","pushCreatePlaylist","pushListPlaylist","pushAddToPlaylist","pushPlayPlaylist","pushEnqueue","urifavourites","pushPlayFavourites","pushAddToRadioFavourites","pushRemoveFromRadioFavourites","pushPlayRadioFavourites","pushSleep","pushAlarm","pushSleep","pushMultiroom","pushWirelessNetworks","pushInfoNetwork","pushToastMessage"]}return e.$inject=["$rootScope","$http","$window","$log","cfpLoadingBar"],n(e,[{key:"isSocketAvalaible",value:function(){return null!==this._host}},{key:"changeHost",value:function(e){var t=this;this.$window.socket&&(this.$window.socket.disconnect(),this.$window.socket.removeAllListeners()),this.$window.socket=io(this.host,{timeout:500}),this.$window.socket.connect(),this.$window.socket.on("connect_error",function(){t.$log.debug("Socket connect_error for host "+t.host),t._connectToNextHost()}),this.$window.socket.on("connect_timeout",function(){t.$log.debug("Socket connect_timeout for host "+t.host),t._connectToNextHost()}),this.$rootScope.$emit("socket:init")}},{key:"_connectToNextHost",value:function(){var e=this,t=Object.keys(this.hosts);if(t.length>1){var i=t.findIndex(function(t){return e.hosts[t]===e.host});++i>=t.length&&(i=0);var n=this.hosts[t[i]];this.$log.info("Try to connect to host: "+t[i]+": "+n),this.host=n}}},{key:"on",value:function(e,t){var i=this;return this.$window.socket.on(e,function(n){i.stopLoadingBar(e),i.$rootScope.$apply(function(){t&&t(n)})})}},{key:"off",value:function(e,t){this.$window.socket.off(e,t)}},{key:"emit",value:function(e,t,i){var n=this;this.startLoadingBar(e),this.$window.socket.emit(e,t,function(e){n.$rootScope.$apply(function(){i&&i(e)})})}},{key:"connect",value:function(e){var t=this;this.$window.socket.on("connect",function(){t.$log.debug("Socket connected to "+t.host),e()})}},{key:"reconnect",value:function(e){var t=this;this.$window.socket.on("reconnect",function(){t.$log.debug("Socket reconnect"),t.$rootScope.$emit("socket:reconnect"),e()})}},{key:"disconnect",value:function(e){var t=this;this.$window.socket.on("disconnect",function(i){t.$log.debug("Socket disconnect"),e(i)})}},{key:"startLoadingBar",value:function(e){this.loadingBarEnabled&&this.loadingBarRequestEvents.includes(e)&&this.loadingBar.start()}},{key:"stopLoadingBar",value:function(e){this.loadingBarResponseEvents.includes(e)&&this.loadingBar.complete()}},{key:"isConnected",get:function(){return this.$window.socket.connected}},{key:"host",set:function(e){this._host=e,this.changeHost(e),this.$log.debug("New host: "+this._host)},get:function(){return this._host}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l){"ngInject";var c=this;i(this,e),this.$log=n,this.$interval=a,this.socketService=r,this.themeManager=o,this.$rootScope=t,this.uiSettingsService=s,this.$document=l,this.state=null,this.trackInfo=null,this.favourite={favourite:!1},this.seek=0,this._thick=1e3,this._seekScale=1e3,this.elapsedTimeString="0:00",this._volume=80,this._volumeStep=10,this.mute=void 0,this.disableVolumeControl=!1,this._shuffle=!1,this._repeatTrack=!1,this._repeatAlbum=!1,this.localVolume=0,this.lastVolumeUpdateTime=-1e3,this.init(),t.$on("socket:init",function(){c.init()}),t.$on("socket:reconnect",function(){c.initService()})}return e.$inject=["$rootScope","$log","$interval","socketService","themeManager","uiSettingsService","$document"],n(e,[{key:"play",value:function(){this.$log.debug("play"),this.socketService.emit("play")}},{key:"volatilePlay",value:function(){this.$log.debug("volatilePlay"),this.socketService.emit("volatilePlay")}},{key:"pause",value:function(){this.$log.debug("pause"),this.stopSeek(),this.socketService.emit("pause")}},{key:"stop",value:function(){this.$log.debug("stop"),this.socketService.emit("stop"),this.$interval.cancel(this.intervalHandler),this.seekPercent=0,this.elapsedTime=0,this.calculateElapsedTimeString()}},{key:"prev",value:function(){this.socketService.emit("prev")}},{key:"next",value:function(){this.socketService.emit("next")}},{key:"skipBackwards",value:function(){this.socketService.emit("skipBackwards")}},{key:"skipForward",value:function(){this.socketService.emit("skipForward")}},{key:"shuffle",value:function(){this.$log.debug(!this.state.random),this.socketService.emit("setRandom",{value:!this.state.random})}},{key:"repeatAlbum",value:function(e,t){this.socketService.emit("setRepeat",{value:e,repeatSingle:t})}},{key:"rebuildSpopLibrary",value:function(){this.socketService.emit("spopUpdateTracklist")}},{key:"rebuildLibrary",value:function(){this.socketService.emit("rebuildLibrary")}},{key:"volumeUp",value:function(){this.socketService.emit("volume","+")}},{key:"volumeDown",value:function(){this.socketService.emit("volume","-")}},{key:"toggleMute",value:function(){this.state.mute?(this.$log.debug("unmute",this.state.mute),this.socketService.emit("unmute")):(this.$log.debug("mute",this.state.mute),this.socketService.emit("mute"))}},{key:"calculateSeekPercent",value:function(){return Math.floor(this.elapsedTime/this._seekScale/this.state.duration*100*10)}},{key:"calculateElapsedTimeString",value:function(){var e=moment.duration(this.elapsedTime),t=e.hours(),i=e.minutes(),n=e.seconds();i+=60*t,this.elapsedTimeString=i+":"+(10>n?"0"+n:n)}},{key:"startSeek",value:function(){var e=this;this.stopSeek(),this.intervalHandler=this.$interval(function(){e.elapsedTime+=e._thick,e.updateSeek()},this._thick)}},{key:"updateSeek",value:function(){this.seekPercent=this.calculateSeekPercent(),this.calculateElapsedTimeString(),this.seekPercent>=this._seekScale&&(this.stopSeek(),this.seekPercent=0)}},{key:"stopSeek",value:function(){this.intervalHandler&&this.$interval.cancel(this.intervalHandler)}},{key:"getAlbumart",value:function(e){return e?~e.indexOf("http")?e:""+this.socketService.host+e:""}},{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"updatePageTitle",value:function(){this.pageTitle="","play"!==this.state.status||!this.state.artist&&!this.state.title?this.pageTitle=this.uiSettingsService.defaultPageTitle:(this.state.artist&&(this.pageTitle=this.state.artist),this.state.title&&(this.pageTitle+=this.pageTitle?" - "+this.state.title:this.state.title)),this.pageTitle&&(this.$document[0].title=this.pageTitle)}},{key:"updateFavicon",value:function(){"volumio"===this.themeManager.theme&&(this.$rootScope.favicon="play"===this.state.status?""+this.$rootScope.variantAssetsUrl+"/favicons/favicon-play.png":"pause"===this.state.status?""+this.$rootScope.variantAssetsUrl+"/favicons/favicon-pause.png":""+this.$rootScope.variantAssetsUrl+"/favicons/favicon.png")}},{key:"loadFileFormatIcon",value:function(e){var t,i;if(i=e?e:this.state.trackType)switch(i){case"dff":t={url:"dsd",name:"dff dsd"};break;case"dsf":t={url:"dsd",name:"dsf dsd"};break;case"ogg":t={url:"ogg",name:"oga vorbis"};break;case"oga":t={url:"ogg",name:"ogg vorbis"};break;case"wv":t={url:"wavpack",name:"wavpack"};break;case"aac":case"aiff":case"alac":case"dsd":case"dts":case"flac":case"m4a":case"mp3":case"mp4":case"opus":case"spotify":case"wav":case"wawpack":case"airplay":case"YouTube":case"rr":case"bt":case"cd":case"tidal":case"qobuz":case"mg":case"mb":case"wma":case"qobuz":case"tidal":t={url:i,name:i};break;default:this.state.fileFormat=null}else this.state.fileFormat=null;return e?t:void(this.state.fileFormat=t)}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushState",function(t){if(e.$log.debug("pushState",t),e.state=t,e.state.disableUi=e.state.disableUiControls||"analogin"===e.state.service,e.elapsedTime=e.state.seek,"play"===e.state.status?e.startSeek():"stop"===e.state.status?(e.stopSeek(),
e.elapsedTimeString="0:00",e.updateSeek()):"pause"===e.state.status&&(e.stopSeek(),e.updateSeek()),e.state.duration){e.songLength=Math.floor(e.state.duration/60);var i=e.state.duration%60;i=1===String(i).length?"0"+i:i,e.songLength+=":"+i}else e.elapsedTimeString=void 0,e.songLength=void 0;e.mute=t.mute,e.disableVolumeControl=t.disableVolumeControl,e.$rootScope.$broadcast("socket:pushState",e.state),e.updatePageTitle(),e.updateFavicon(),e.loadFileFormatIcon()}),this.socketService.on("pushTrackInfo",function(t){e.$log.debug("pushTrackInfo",t),e.trackInfo=t}),this.socketService.on("pushGetSeek",function(t){e.$log.debug("pushGetSeek",t),e.seek=t}),this.socketService.on("urifavourites",function(t){e.$log.debug("urifavourites",t),e.favourite=t})}},{key:"initService",value:function(){this.socketService.emit("getState"),this.socketService.emit("getTrackInfo"),this.socketService.emit("getSeek")}},{key:"seek",set:function(e){if(this.state&&!this.state.disableUi){this.stopSeek();var t=Math.ceil(this.state.duration/this._seekScale*e);this.socketService.emit("seek",t)}},get:function(){return null}},{key:"duration",get:function(){return this.state.duration}},{key:"remoteVolume",get:function(){return this.state?parseInt(this.state.volume):0},set:function(e){0>e?e=0:e>100&&(e=100),this.$log.debug("volume",e),this.socketService.emit("volume",e)}},{key:"volume",get:function(){return Date.now()-this.lastVolumeUpdateTime>1e3&&(this.localVolume=this.remoteVolume),this.localVolume},set:function(e){Date.now()-this.lastVolumeUpdateTime>100&&this.localVolume!==e&&(this.lastVolumeUpdateTime=Date.now(),this.remoteVolume=e),this.localVolume=e}},{key:"albumart",get:function(){return this.state&&this.state.albumart?this.getAlbumart(this.state.albumart):null}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c){"ngInject";var u=this;i(this,e),this.$log=a,this.socketService=r,this.$interval=s,this.$window=l,this.$rootScope=t,this.$log=a,this.$timeout=n,this.mockService=o,this.isPhone=!1,this.filterBy="any",this.isBrowsing=!1,this.isSearching=!1,this.localStorageService=c,this.limiter=10,this.currentFetchRequest={},this.historyUri=[],this.scrollPositions=new Map,this.lastBrowseLists=[],this.navigationStack=[],this.init(),t.$on("socket:init",function(){u.init()}),t.$on("socket:reconnect",function(){u.initService()})}return e.$inject=["$rootScope","$timeout","$log","socketService","mockService","$interval","$window","localStorageService"],n(e,[{key:"fetchLibrary",value:function(e,t){if("/"===e.uri)return this.backHome(),!1;var i={uri:e.uri};t?this.historyUri.pop():(this.historyUri.length&&(i.prevUri=this.historyUri[this.historyUri.length-1].uri),this.historyUri.push(e)),this.$log.debug("fetchLibrary",i),this.currentFetchRequest=e,this.socketService.emit("browseLibrary",i),e["static"]||(this.isBrowsing=!0),t||this.scrollPositions["delete"](e.uri)}},{key:"goBack",value:function(){var e=this.navigationStack.length;e>1?(this.lists=this.navigationStack[e-2].lists,this.lastBrowseLists=this.navigationStack[e-2].lists,this.info=this.navigationStack[e-2].info,this.breadcrumbs=this.navigationStack[e-2].prev,this.eject=this.navigationStack[e-2].eject,this.rip=this.navigationStack[e-2].rip,this.navigationStack.pop(),this.$rootScope.$broadcast("browseService:fetchEnd"),this.currentFetchRequest=this.navigationStack[e-2]):(this.navigationStack=[],this.backHome())}},{key:"removeLocationHash",value:function(){var e=window.location.href.replace(/#.*$/,"");window.history.replaceState("",document.title,e)}},{key:"sendEject",value:function(e){this.socketService.emit("callMethod",e),this.$rootScope.$broadcast("browseService:eject"),this.backHome()}},{key:"sendRip",value:function(e){this.socketService.emit("callMethod",e)}},{key:"backHome",value:function(){this.isBrowsing=!1,this.isSearching=!1,this.lists=[],this.historyUri=[],this.currentFetchRequest={},this.scrollPositions.clear()}},{key:"goTo",value:function(e){var t=this;this.backHome(),this.isSearching=!0,this.isBrowsing=!1,this.$log.debug("goTo",e),this.$timeout(function(){t.socketService.emit("goTo",e)},0)}},{key:"filterBy",value:function(e){this.filterBy===e&&(e="all"),this.filterBy=e}},{key:"canShowGridView",value:function(e){return 1===e.availableListViews.length?"grid"===e.availableListViews[0]:this.showGridView&&~e.availableListViews.indexOf("grid")?!0:!1}},{key:"toggleGridView",value:function(){this.showGridView=!this.showGridView}},{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushBrowseFilters",function(t){e.$log.debug("pushBrowseFilters",t),e.filters=t}),this.socketService.on("pushBrowseSources",function(t){e.availableListViews=["list"];for(var i=0;i<t.length;i++)t[i].albumart&&(t[i].albumart=e.getSourcesAlbumart(t[i].albumart));e.sources=t,e.$log.debug("pushBrowseSources",t)}),this.socketService.on("pushBrowseLibrary",function(t){t.navigation&&(e.$log.debug("pushBrowseLibrary",t),e.lists=t.navigation.lists,e.lastBrowseLists=t.navigation.lists,e.info=t.navigation.info,e.breadcrumbs=t.navigation.prev,e.eject=t.navigation.eject,e.rip=t.navigation.rip,e.navigationStack.push({album:e.currentFetchRequest.album||null,albumart:e.currentFetchRequest.albumart||null,artist:e.currentFetchRequest.artist||null,service:e.currentFetchRequest.service||null,title:e.currentFetchRequest.title||null,type:e.currentFetchRequest.type||null,uri:e.currentFetchRequest.uri||null,plugin_name:e.currentFetchRequest.plugin_name||null,plugin_type:e.currentFetchRequest.plugin_type||null,icon:e.currentFetchRequest.icon||null,lists:t.navigation.lists||null,info:t.navigation.info||null,breadcrumbs:t.navigation.prev||null,eject:t.navigation.eject||null,rip:t.navigation.rip||null}),e.$log.debug("navigationStack",e.navigationStack),e.$rootScope.$broadcast("browseService:fetchEnd"))}),this.socketService.on("pushActiveDumbInput",function(t){for(var i in e.lists[0].items)e.lists[0].items[i].active=e.lists[0].items[i].title===t?!0:!1;e.$rootScope.$broadcast("browseService:fetchEnd")})}},{key:"findHashInNavigationStack",value:function(e){return this.navigationStack.find(function(t){return t.uri===e})}},{key:"getSourcesAlbumart",value:function(e){return e?~e.indexOf("http")?e:""+this.socketService.host+e:""}},{key:"initService",value:function(){this.socketService.emit("getBrowseFilters"),this.socketService.emit("getBrowseSources"),this._listBy="track",this._showGridView=this.localStorageService.get("showGridView")}},{key:"filters",get:function(){return this._filters},set:function(e){this._filters=e}},{key:"sources",get:function(){return this._sources},set:function(e){this._sources=e}},{key:"list",get:function(){return this._list},set:function(e){this._list=e}},{key:"isBrowsing",get:function(){return this._isBrowsing},set:function(e){this._isBrowsing=e}},{key:"breadcrumbs",get:function(){return this._breadcrumbs},set:function(e){this._breadcrumbs=e}},{key:"showGridView",get:function(){return this._showGridView},set:function(e){this.localStorageService.set("showGridView",e),this._showGridView=e}},{key:"showGridViewSelector",get:function(){if(!this.lists||0===this.lists.length)return!1;for(var e=0;e<this.lists.length;e++)if(this.lists[e].availableListViews.length>1)return!0;return!1}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r){"ngInject";var o=this;i(this,e),this.$log=n,this.socketService=a,this.playerService=r,this.$rootScope=t,this._queue=null,this.init(),t.$on("socket:init",function(){o.init()}),t.$on("socket:reconnect",function(){o.initService()})}return e.$inject=["$rootScope","$log","socketService","playerService"],n(e,[{key:"play",value:function(e){this.$log.debug("PlayQueueService play",e),this.socketService.emit("play",{value:e})}},{key:"addPlay",value:function(e){this.$log.debug("PlayQueueService addPlay",e),this.socketService.emit("addPlay",{uri:e.uri,title:e.title,albumart:e.albumart||null,service:e.service||null})}},{key:"replaceAndPlay",value:function(e){this.$log.debug("PlayQueueService replaceAndPlay",e),this.socketService.emit("replaceAndPlay",{uri:e.uri,title:e.title,albumart:e.albumart||null,service:e.service||null})}},{key:"playItemsList",value:function(e,t,i){this.$log.debug("PlayQueueService playItemsList",e,t,i),this.socketService.emit("playItemsList",{item:e,list:t,index:i})}},{key:"replaceAndPlayCue",value:function(e){this.$log.debug("PlayQueueService replaceAndPlayCue",e),this.socketService.emit("replaceAndPlayCue",{uri:e.uri,number:e.number,service:e.service||null})}},{key:"playPlaylist",value:function(e){this.$log.debug("PlayQueueService playPlaylist",e),this.socketService.emit("playPlaylist",{name:e.title})}},{key:"addAndPlayList",value:function(e,t,i){this.$log.debug("PlayQueueService addAndPlayList",e,t,i),this.socketService.emit("addPlayList",{item:e,list:t,index:i})}},{key:"add",value:function(e){this.$log.debug("PlayQueueService addToQueue",e),this.socketService.emit("addToQueue",{uri:e.uri,title:e.title,albumart:e.albumart||null,service:e.service||null})}},{key:"enqueue",value:function(e){this.$log.debug("PlayQueueService enqueue",e),this.socketService.emit("enqueue",{name:e.title})}},{key:"addPlayCue",value:function(e){this.$log.debug("addPlayCue",e),this.socketService.emit("addPlayCue",{uri:e.uri,number:e.number,service:e.service||null})}},{key:"remove",value:function(e){this.$log.debug("removeFromQueue",e),this.socketService.emit("removeFromQueue",{value:e})}},{key:"clearQueue",value:function(){this.$log.debug("clearQueue"),this.socketService.emit("clearQueue")}},{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushQueue",function(t){e.$log.debug("pushQueue",t),e._queue=t,e.$rootScope.$broadcast("playQueueService:pushQueue")})}},{key:"initService",value:function(){this.socketService.emit("getQueue")}},{key:"queue",get:function(){return this._queue}},{key:"lenght",get:function(){return this._queue.lenght}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r){"ngInject";var o=this;i(this,e),this.socketService=n,this.$timeout=a,this.$log=r,this.playlists=[],this.init(),t.$on("socket:init",function(){o.init()}),t.$on("socket:reconnect",function(){o.initService()})}return e.$inject=["$rootScope","socketService","$timeout","$log"],n(e,[{key:"addToPlaylist",value:function(e,t){var i={name:t,uri:e.uri,service:e.service||null};this.$log.debug("addToPlaylist",i),this.socketService.emit("addToPlaylist",i)}},{key:"addQueueToPlaylist",value:function(e){this.$log.debug("saveQueueToPlaylist",{name:e}),this.socketService.emit("saveQueueToPlaylist",{name:e})}},{key:"removeFromPlaylist",value:function(e,t){this.$log.debug("removeFromPlaylist",e,t),this.socketService.emit("removeFromPlaylist",{name:t,uri:e.uri,service:e.service||null})}},{key:"deletePlaylist",value:function(e){this.socketService.emit("deletePlaylist",{name:e})}},{key:"addToFavourites",value:function(e){e&&e.uri&&(this.$log.debug("addToFavourites",e),this.socketService.emit("addToFavourites",{uri:e.uri,title:e.title,service:e.service||null}))}},{key:"removeFromFavourites",value:function(e){e&&e.uri&&(this.$log.debug("removeFromFavourites",e),this.socketService.emit("removeFromFavourites",{uri:e.uri,service:e.service||null}))}},{key:"addWebRadio",value:function(e){this.$log.debug("addWebRadio",e),e&&e.title&&e.uri&&this.socketService.emit("addWebRadio",{name:e.title,uri:e.uri})}},{key:"editWebRadio",value:function(e){this.$log.debug("editWebRadio",e),this.addWebRadio(e)}},{key:"deleteWebRadio",value:function(e){this.$log.debug("removeWebRadio",e),e&&e.title&&this.socketService.emit("removeWebRadio",{name:e.title})}},{key:"addWebRadioToFavourites",value:function(e){this.$log.debug("addWebRadioToFavourites",e),this.addToFavourites(e)}},{key:"removeWebRadioFromFavourites",value:function(e){this.$log.debug("removeWebRadioFromFavourites",e),this.removeFromFavourites(e)}},{key:"refreshPlaylists",value:function(){this.socketService.emit("listPlaylist")}},{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushListPlaylist",function(t){e.$log.debug("pushListPlaylist",t),e.playlists=t})}},{key:"initService",value:function(){this.socketService.emit("listPlaylist")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o){"ngInject";var s=this;i(this,e),this.socketService=n,this.mockService=a,this.$log=r,this.themeManager=o,this.init(),t.$on("socket:init",function(){s.init()}),t.$on("socket:reconnect",function(){s.initService()})}return e.$inject=["$rootScope","socketService","mockService","$log","themeManager"],n(e,[{key:"mapDevices",value:function(e){var t=[];return e.forEach(function(e){t.push(e),e.child&&e.child.forEach(function(e){e.isChild=!0,t.push(e)})}),t}},{key:"addChild",value:function(e,t){var i={ip:e.ip,set:"client"};this.$log.debug("setClient",i),this.socketService.emit("setMultiroom",i),i={ip:t.ip,set:"server"},this.$log.debug("setServer",i),this.socketService.emit("setMultiroom",i)}},{key:"removeChildDevice",value:function(e){var t={ip:e,set:"single"};this.$log.debug("removeChildDevice",t),this.socketService.emit("setMultiroom",t)}},{key:"changeGroupVolume",value:function(e,t){var i={ip:e,groupvolume:t};this.$log.debug("changeGroupVolume",i),this.socketService.emit("setMultiroom",i)}},{key:"changeChildVolume",value:function(e,t){var i={ip:e,volume:t};this.$log.debug("changeChildVolume",i),this.socketService.emit("setMultiroom",i)}},{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushMultiRoomDevices",function(t){e.$log.debug("pushMultiRoomDevices",t),e.devices=e.mapDevices(t.list)}),this.socketService.on("pushMultiroom",function(t){e.$log.debug("pushMultiRoom",t),e.multiRoomDevices=t})}},{key:"initService",value:function(){this.socketService.emit("getMultiRoomDevices"),this.socketService.emit("getMultiroom")}},{key:"isVolumio3Theme",value:function(){return"volumio3"===this.themeManager.theme}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r){"ngInject";var o=this;i(this,e),this.socketService=a,this.toastr=n,this.$log=r,this.toastrDefaultConfig={timeOut:5e3,extendedTimeOut:1e3,progressBar:!0,maxOpened:1,autoDismiss:!0},t.$on("socket:init",function(){o.init()}),t.$on("socket:reconnect",function(){o.initService()})}return e.$inject=["$rootScope","toastr","socketService","$log"],n(e,[{key:"showMessage",value:function(e,t,i){switch(e){case"success":this.toastr.success(t,i,this.toastrDefaultConfig);break;case"info":this.toastr.info(t,i,this.toastrDefaultConfig);break;case"warning":this.toastr.warning(t,i,this.toastrDefaultConfig);break;case"error":this.toastr.error(t,i,this.toastrDefaultConfig);break;case"stickyerror":this.toastr.error(t,i,{closeButton:!0})}}},{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushToastMessage",function(t){e.showMessage(t.type,t.message,t.title)})}},{key:"initService",value:function(){}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o){"ngInject";var s=this;i(this,e),this.socketService=n,this.modalService=a,this.$timeout=r,this.$log=o,t.$on("socket:init",function(){s.init()}),t.$on("socket:reconnect",function(){s.initService()})}return e.$inject=["$rootScope","socketService","modalService","$timeout","$log"],n(e,[{key:"openUpdateModal",value:function(){this.status="updateReady",this.modalService.openModal("ModalUpdaterController","app/components/modals/modal-updater.html",this.updateReady,"lg")}},{key:"update",value:function(e){this.updateReady.alternativeEmit?this.socketService.emit(this.updateReady.alternativeEmit.message,this.updateReady.alternativeEmit.payload):this.socketService.emit("update",{value:e})}},{key:"updateDone",value:function(){this.status="updateDone",this.updateDone={status:"success",message:"Update succes"}}},{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("updateWaitMsg",function(t){e.$log.debug("updateWaitMsg",t),e.modalService.closeAllModals(),e.updateReady=t,setTimeout(function(){e.openUpdateModal()},100)}),this.socketService.on("updateReady",function(t){e.$log.debug("updateReady",t),e.modalService.closeAllModals(),e.updateReady=t,setTimeout(function(){e.openUpdateModal()},100)}),this.socketService.on("updateProgress",function(t){e.$log.debug("updateProgress",t),e.status="updateProgress",e.updateProgress=t}),this.socketService.on("updateDone",function(t){e.$log.debug("updateDone",t),e.status="updateDone",e.updateDone=t}),this.socketService.on("closeAllModals",function(t){e.$log.debug("closeAllModals",t),e.modalService.closeAllModals()})}},{key:"initService",value:function(){}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o){"ngInject";var s=this;i(this,e),this.$uibModal=t,this.$filteredTranslate=r("translate"),this.socketService=n,this.$log=o,this.openedModals=[],a.$on("socket:init",function(){s.init()}),a.$on("socket:reconnect",function(){s.initService()})}return e.$inject=["$uibModal","socketService","$rootScope","$filter","$log"],n(e,[{key:"openModal",value:function(){var e=void 0===arguments[0]?"ModalController":arguments[0],t=void 0===arguments[1]?"app/components/modals/default-modal.html":arguments[1],i=void 0===arguments[2]?null:arguments[2],n=this,a=void 0===arguments[3]?"sm":arguments[3],r=void 0===arguments[4]?"static":arguments[4],o=this.$uibModal.open({animation:!0,templateUrl:t,controller:e,controllerAs:"modal",size:a,backdrop:r,resolve:{dataObj:function(){return i}}});return this.openedModals.push(o),function(e){o.closed.then(function(t){n.openedModals.splice(e,1)})}(this.openedModals.length-1),o}},{key:"openDefaultModal",value:function(e,t){var i=void 0===arguments[2]?null:arguments[2],n={title:this.$filteredTranslate(e),message:this.$filteredTranslate(t),disableCancelButton:!0,callback:i};return this.openModal(void 0,void 0,n)}},{key:"openDefaultConfirm",value:function(e,t){var i=void 0===arguments[2]?null:arguments[2],n=void 0===arguments[3]?null:arguments[3],a={title:this.$filteredTranslate(e),message:this.$filteredTranslate(t),disableCancelButton:!1,callback:i,cancelCallback:n};return this.openModal(void 0,void 0,a)}},{key:"openDefaultErrorModal",value:function(){var e=void 0===arguments[0]?"":arguments[0],t=void 0===arguments[1]?null:arguments[1];return this.$log.debug("MyVolumio error: ",e),e.constructor!==String&&e.constructor===Object&&(e=this.parseErrorObject(e)),this.openDefaultModal(this.$filteredTranslate("MYVOLUMIO.ERROR"),e,t)}},{key:"parseErrorObject",value:function(e){return e.error?e.error:e.data&&e.data.error&&e.data.error.message?e.data.error.message:e.message?e.message:this.$filteredTranslate("MYVOLUMIO.ERROR")}},{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("closeAllModals",function(){e.closeAllModals()})}},{key:"closeAllModals",value:function(){this.openedModals.forEach(function(e){e.close()})}},{key:"initService",value:function(){}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o){"ngInject";var s=this;i(this,e),this.socketService=n,this.modalService=a,this.$log=o,t.$on("socket:init",function(){s.init()}),t.$on("socket:reconnect",function(){s.initService()})}return e.$inject=["$rootScope","socketService","modalService","mockService","$log"],n(e,[{key:"openModal",value:function(e){this.modalService.openModal("ModalCustomController","app/components/modals/modal-custom.html",e,e.size)}},{key:"openModalProgress",value:function(e){this.modalService.openModal("ModalProgressCustomController","app/components/modals/modal-progress.html",e,e.size)}},{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("openModal",function(t){e.$log.debug("openModal",t),t.progress?(e.openModalProgress(t),e.registerModalUpdateListner()):e.openModal(t)})}},{key:"registerModalUpdateListner",value:function(){var e=this;this.socketService.on("modalProgress",function(t){e.$log.debug("modalProgress",t),e.modalService.status="modalProgress",e.modalService.modalProgress=t}),this.socketService.on("modalDone",function(t){e.$log.debug("modalDone",t),e.modalService.status="modalDone",e.modalService.modalProgress=t})}},{key:"initService",value:function(){}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r){"ngInject";i(this,e),this.socketService=n,this.multiRoomService=r,this.$rootScope=t,this.$log=a,this.pushedOutputs=[],this.outputs=[],this.multiRoomDevices=[],this.registerListener(),this.initService()}return e.$inject=["$rootScope","socketService","$log","multiRoomService"],n(e,[{key:"registerListener",value:function(){var e=this;this.socketService.on("pushAudioOutputs",function(t){e.$log.debug("pushAudioOutputs",t),e.onDeviceListChange(t)}),this.$rootScope.$watch(function(){return e.multiRoomService.devices},function(t){t&&e.onMultiRoomListChange(t)},!0)}},{key:"initService",value:function(){this.socketService.emit("getAudioOutputs")}},{key:"enableAudioOutput",value:function(e){this.socketService.emit("enableAudioOutput",{id:e})}},{key:"disableAudioOutput",value:function(e){this.socketService.emit("disableAudioOutput",{id:e})}},{key:"onDeviceVolumeChange",value:function(e){var t=e.id,i=e.type,n=e.host,a=!1,r=e.state.volume;this.socketService.emit("setAudioOutputVolume",{id:t,type:i,host:n,mute:a,volume:r})}},{key:"onDeviceListChange",value:function(e){this.pushedOutputs=e.availableOutputs.filter(function(e){return"browser"!==e.type}),this.mergeMultiroomProperties()}},{key:"mergeMultiroomProperties",value:function(){for(var e in this.pushedOutputs){var t=this.pushedOutputs[e];for(var i in this.outputs){var n=this.outputs[i];t.id===n.id&&(n.available=t.available,n.enabled=t.enabled,n.plugin=t.plugin)}}}},{key:"onMultiRoomListChange",value:function(e){this.outputs=e,this.mergeMultiroomProperties()}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t){"ngInject";var n=this;i(this,e),this.isPhone=!1,this.matchmedia=t,t.onPhone(function(e){n.isPhone=e.matches}),t.onPortrait(function(){n.isPortrait=!0,n.isLandscape=!1}),t.onLandscape(function(){n.isLandscape=!0,n.isPortrait=!1})}return e.$inject=["matchmedia"],n(e,[{key:"onPortrait",value:function(e){this.matchmedia.onPortrait(e)}},{key:"onLandscape",value:function(e){this.matchmedia.onLandscape(e)}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a){"ngInject";var r=this;i(this,e),this.$log=n,this._log=null,this.socketService=a,this.init(),t.$on("socket:init",function(){r.init()}),t.$on("socket:reconnect",function(){r.initService()})}return e.$inject=["$rootScope","$log","socketService"],n(e,[{key:"pushLog",value:function(e){this.log="<br/>"+e+this.log}},{key:"clear",value:function(){this.log=""}},{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("printConsoleMessage",function(t){e.pushLog(t)})}},{key:"initService",value:function(){}},{key:"log",get:function(){return this._log},set:function(e){this._log=e}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(){"ngInject";i(this,e),this.init()}return n(e,[{key:"get",value:function(e){if(this._mock[e])return this._mock[e];throw"No mock data present"}},{key:"init",value:function(){this._mock={browseMusic:{getMainPageSources:{lists:[{title:"Pinned",icon:"fa-thumb-tack",showMoreUri:"pin",service:"smart_suggestions",items:[{title:"Artists",uri:"artists://",albumart:"https://h9aodgwnwvttt2hsvzpd3hjngau1-7be29a3e4adf930b235602881f0bfab2.eu2.myvolumio.org/albumart?sourceicon=music_service/mpd/artisticon.png",extensionIcon:"",plugin_type:"music_service",plugin_name:"mpd",explicit:!1,meta:"",genre:"",type:"pin"},{title:"Albums",uri:"albums://",albumart:"http://192.168.1.2/albumart?sourceicon=music_service/mpd/albumicon.png",extensionIcon:"",plugin_type:"music_service",plugin_name:"mpd",explicit:!1,meta:"",genre:"",type:"pin"}]},{title:"Recently played",icon:"https://img.apksum.com/81/com.qobuz.music/5.6.3/icon.png",showMoreUri:"recently_played",service:"smart_suggestions",items:[{title:"Division bell",uri:"QOBUZ:uri_stuff",albumart:"https://lastfm.freetls.fastly.net/i/u/300x300/e7090eb6d05349ae8e0932264910d875.jpg",extensionIcon:"https://resources.mynewsdesk.com/image/upload/c_limit,dpr_2.0,f_auto,h_700,q_auto,w_1400/slza5xaljuypmtrtgnbo.jpg",plugin_type:"music_service",plugin_name:"streaming:qobuz",explicit:!1,meta:"2014 Jun",genre:"POP",type:"cuesong"}]}]},getArtistPageContent:{info:{uri:"artists://The%20Beatles",title:"The Beatles",description:"\n              <p>The Beatles were an iconic rock group from Liverpool, England. They are frequently cited as the most commercially successful and critically acclaimed band in modern history, with innovative music, a cultural impact that helped define the 1960s and an enormous influence on music that is still felt today. Currently, The Beatles are one of the two musical acts to sell more than 1 billion records, with only Elvis Presley having been able to achieve the same feat.</p>\n              <p>After conquering Europe, with successful tours to Germany and Sweden, the Beatles led the mid-1960s musical 'British Invasion' into the United States. Although their initial musical style was rooted in 1950s rock and roll and homegrown skiffle, the group explored a great variety of musical styles including Psychedelic Rock, Experimental, Ballads, Western and Indian Classical among others. Their clothes, hairstyles, and statements made them trend-setters, while their growing social awareness saw their influence extend into the social and cultural revolutions of the 1960s.</p>\n            ",service:"mpd",type:"artist",genre:"Pop",local_albums:2,streaming_albums:132,albumart:"https://lastfm.freetls.fastly.net/i/u/770x0/d586183f5e3fc6f578e753e0a3e29c79.jpg#d586183f5e3fc6f578e753e0a3e29c79",favorite:!1,credits:[{key:"drums (drum set)",values:[{name:"Phil Rudd",uri:"mbid:/artist/9e01d7c2-e322-4e24-a0fb-24e986523c01"}]},{key:"bass",values:[{name:"Cliff Williams",uri:"mbid:/artist/44bb6793-2fa2-40be-9377-0bd0242368da"}]},{key:"guitar",values:[{name:"Angus Young",uri:"mbid:/artist/a0a54c69-b0d2-4d2a-bcf8-994b8846b0d8"},{name:"Malcolm Young",uri:"mbid:/artist/ea719716-da05-46f8-bbd5-cc5803db3d0e"}]}],availableListViews:["list","grid"]},lists:[{title:"Local albums",icon:"",items:[{service:"mpd",type:"folder",title:"Abbey Road (Anniversary Edition)",
artist:"",albumart:"https://lastfm.freetls.fastly.net/i/u/770x0/307370ac9c7cb089bcd6f60f1222f7c2.jpg#307370ac9c7cb089bcd6f60f1222f7c2",uri:"artists:///Abbey%20Road%20(Anniversary%20Edition)",meta:"Jun 2014",genre:"Pop rock",extensionIcon:"https://resources.mynewsdesk.com/image/upload/c_limit,dpr_2.0,f_auto,h_700,q_auto,w_1400/slza5xaljuypmtrtgnbo.jpg",favorite:!0,tracks:[{uri:"music-library/INTERNAL/The Beatles - Abbey Road (Anniversary Edition 2 CD 2019) [FLAC]/CD 1/01 - Come Together.flac",service:"mpd",title:"Come Together",artist:"The Beatles",album:"Abbey Road (Anniversary Edition)",type:"song",tracknumber:"1",duration:260,trackType:"flac",favorite:!1},{uri:"music-library/INTERNAL/The Beatles - Abbey Road (Anniversary Edition 2 CD 2019) [FLAC]/CD 1/02 - Something.flac",service:"mpd",title:"Something",artist:"The Beatles",album:"Abbey Road (Anniversary Edition)",type:"song",tracknumber:"2",duration:182,trackType:"flac",favorite:!1},{uri:"music-library/INTERNAL/The Beatles - Abbey Road (Anniversary Edition 2 CD 2019) [FLAC]/CD 1/04 - Oh! Darling.flac",service:"mpd",title:"Oh! Darling",artist:"The Beatles",album:"Abbey Road (Anniversary Edition)",type:"song",tracknumber:"4",duration:207,trackType:"flac",favorite:!0},{uri:"music-library/INTERNAL/The Beatles - Abbey Road (Anniversary Edition 2 CD 2019) [FLAC]/CD 1/05 - Octopus's Garden.flac",service:"mpd",title:"Octopus's Garden",artist:"The Beatles",album:"Abbey Road (Anniversary Edition)",type:"song",tracknumber:"5",duration:171,trackType:"flac",favorite:!1},{uri:"music-library/INTERNAL/The Beatles - Abbey Road (Anniversary Edition 2 CD 2019) [FLAC]/CD 1/06 - I Want You (She's So Heavy).flac",service:"mpd",title:"I Want You (She's So Heavy)",artist:"The Beatles",album:"Abbey Road (Anniversary Edition)",type:"song",tracknumber:"6",duration:467,trackType:"flac",favorite:!1}]}]}]},getAlbumPageContent:{info:{uri:"album://Abbey%20Road%20(Remastered)",album:"Abbey Road (Remastered)",artist:"The Beatles",description:'\n              <p>Abbey Road is the eleventh studio album by English rock band the Beatles, released on 26 September 1969 by Apple Records. The recording sessions for the album were the last in which all four Beatles participated. Although Let It Be was the final album that the Beatles completed before the band\'s dissolution in April 1970, most of the album had been recorded before the Abbey Road sessions began. A two-sided hit single from the album, "Something" backed with "Come Together", released in October, topped the Billboard Hot 100 chart in the US.</p>\n              <p>Abbey Road is a rock album that incorporates genres such as blues, pop, and progressive rock, and it makes prominent use of the Moog synthesizer and the Leslie speaker. Side two contains a medley of song fragments edited together to form a single piece. The album was recorded amid a more enjoyable atmosphere than the Get Back/Let It Be sessions earlier in the year, but there were still frequent disagreements within the band. John Lennon had privately left the group by the time the album was released and McCartney publicly quit the following year.</p>\n            ',service:"mpd",type:"album",genre:"Pop",duration:"99:23",year:"Sep 2019",favorite:!0,albumart:"https://lastfm.freetls.fastly.net/i/u/770x0/e97046f5bc772a726c602cc2e01830c0.webp#e97046f5bc772a726c602cc2e01830c0",credits:[{key:"drums (drum set)",values:[{name:"Phil Rudd",uri:"mbid:/artist/9e01d7c2-e322-4e24-a0fb-24e986523c01"}]},{key:"bass",values:[{name:"Cliff Williams",uri:"mbid:/artist/44bb6793-2fa2-40be-9377-0bd0242368da"}]},{key:"guitar",values:[{name:"Angus Young",uri:"mbid:/artist/a0a54c69-b0d2-4d2a-bcf8-994b8846b0d8"},{name:"Malcolm Young",uri:"mbid:/artist/ea719716-da05-46f8-bbd5-cc5803db3d0e"}]}],availableListViews:["list"]}}},wizard:{steps:["Language","Name","Output","Network","Music","Done"],language:{defaultLanguage:{code:"en",language:"English"},available:[{code:"en",language:"English"},{code:"it",language:"Italiano"},{code:"fr",language:"French"}]},deviceName:{name:"volumio"},outputDevices:{devices:[{id:1,name:"Out 1"},{id:2,name:"Out 2"}],i2s:[{id:1,name:"Out i2s 1"},{id:2,name:"Out i2s 2"}]},donation:{donationAmount:20,customAmount:150,amounts:[10,20,50,100]}},networkSharesDiscovery:{nas:[{name:"VOLUMIO",shares:[{sharename:"IPC$",path:"VOLUMIO/IPC$"},{sharename:"NAS",path:"VOLUMIO/NAS"},{sharename:"USB",path:"VOLUMIO/USB"}]},{name:"FRITZ-NAS",shares:[{sharename:"IPC$",path:"FRITZ-NAS/IPC$"},{sharename:"FRITZ.NAS",path:"FRITZ-NAS/FRITZ.NAS"}]},{name:"DISKSTATION",shares:[{sharename:"IPC$",path:"DISKSTATION/IPC$"},{sharename:"video",path:"DISKSTATION/video"},{sharename:"Torrent",path:"DISKSTATION/Torrent"},{sharename:"Programmi",path:"DISKSTATION/Programmi"},{sharename:"photo",path:"DISKSTATION/photo"},{sharename:"NetBackup",path:"DISKSTATION/NetBackup"},{sharename:"music",path:"DISKSTATION/music"},{sharename:"Mi",path:"DISKSTATION/Mi"},{sharename:"IMGs",path:"DISKSTATION/IMGs"},{sharename:"homes",path:"DISKSTATION/homes"},{sharename:"FLAC",path:"DISKSTATION/FLAC"},{sharename:"Film",path:"DISKSTATION/Film"},{sharename:"Backup",path:"DISKSTATION/Backup"}]}]},installedPlugins:[{prettyName:"Nome Plugin 1",enabled:!0,active:!0,category:"Category 1",name:"name"},{prettyName:"Nome Plugin 2",enabled:!1,active:!1,category:"Category 2",name:"name2"}],availablePlugins:{metaData:{repoUlr:"fetching ulr",repoStatus:"Up"},categories:[{name:"Music Services ",id:"cat1",description:"Plugins for Adding Music Sources to Volumio",plugins:[{name:"Spotify",version:"1.0",url:"volumio.github.io/volumio-plugins/plugins/volumio/armhf/music_service/spotify/spotify.zip",license:"Free for non commercial USE",description:"plugin 1 desc",author:"Volumio Team",updated:"23-04-2016"},{name:"Another WebRadio Plugin",version:"1.0",url:"volumio.github.io/volumio-plugins/plugins/volumio/armhf/music_service/spotify/spotify.zip",license:"gpl-v3",description:"Adding other WebRadios",author:"Volumio Team",updated:"23-04-2016"}]},{name:"Miscelleanea",id:"cat2",description:"Things that cannot go in other categories",plugins:[{name:"Random thing",version:"1.0",url:"volumio.github.io/volumio-plugins/plugins/volumio/armhf/music_service/spotify/spotify.zip",license:"gpl-v3",description:"Something Random",author:"Volumio Team",updated:"23-04-2016"}]},{name:"System Tools",id:"cat3",description:"Volumio System Tools",plugins:[{name:"Touchscreen display",version:"1.0",url:"volumio.github.io/volumio-plugins/plugins/volumio/armhf/music_service/spotify/spotify.zip",license:"gpl-v3",description:"Use the 7 inches pi display",author:"Volumio Team",updated:"23-04-2016"}]}]},customModals:{title:"titolo in alto della modale",message:"contenuto html <p>paragraph</p>",size:"lg",buttons:[{name:"Nome bottone","class":"btn btn-primary",emit:"emit",payload:"payload emit"},{name:"Nome bottone 2","class":"btn btn-primary",emit:"emit 2",payload:"payload emit 2"},{name:"Close","class":"btn btn-warning"}]},ripper:{content:"<strong>Content</strong> of ripper",title:"Rip Cd",artist:"Noep",album:"Movee",tracks:[{number:1,title:"titolo traccia 1"},{number:2,title:"titolo traccia 2"}]},playlist:[{order:2,prettyname:"Bar Day",path:"bergues-bar-day",intensity:2,description:"Une ambiance sphistiquée aux influences jazzy.",styles:"jazzy, soul, lounge",ambienticons:["fa-building","fa-glass"],createdAt:"2015-11-28T09:44:14.319Z",updatedAt:"2015-11-28T09:44:14.326Z",id:"playlist-test1"},{ambienticons:["fa-building","fa-glass"],createdAt:"2015-11-28T09:40:07.313Z",description:"Im too lazy to go on the web to copy and .....",intensity:1,order:1,path:"bergues-bar-morning",prettyname:"Bar Morning",styles:"jazzy, hip, world",updatedAt:"2015-11-28T09:48:54.036Z",id:"test3"}],networkInfos:[{type:"wireless",ssid:"Mare Nostrum",signal:5,status:"connected",ip:"192.168.1.12",speed:"100M",online:!1},{type:"cable",status:"connected",ip:"192.168.1.120",speed:"1000M",online:!0}],wirelessNetworks:{connectedTo:{signal:5,encryption:"wpa2",ssid:"Mare Nostrum"},available:[{signal:5,encryption:"wpa2",ssid:"miarete1"},{signal:4,encryption:"wpa2",ssid:"AUAUAUA"},{signal:3,encryption:"wep",ssid:"Speck"},{signal:2,encryption:"open",ssid:"asd"},{signal:1,encryption:"open",ssid:"ASD"}]},infoShare:[{name:"SHARE",ip:"192.168.10.35",path:"path",id:"suasianure 2",mounted:"true",size:"40 GB",fstype:"cifs"},{name:"SHARE",ip:"192.168.10.99",path:"path",id:"id nuovo",mounted:"false",size:"450 GB",fstype:"nfs"}],listUsbDrives:[{name:"Transcend 2",size:"2gb",freespace:"3gb"},{name:"Sandisk",size:"2gb",freespace:"3gb"}],myCollectionStats:{artists:"120",albums:"23",songs:"67",playtime:"10h"},getBrowseFilters:[{name:"Genres by Name",index:"index:Genres by Name"},{name:"Artists by Name",index:"index:Artists by Name"},{name:"Albums by Name",index:"index:Albums by Name"},{name:"Albums by Artist",index:"index:Albums by Artist"},{name:"Tracks by Name",index:"index:Tracks by Name"}],getBrowseSources:[{albumart:"/albumart?sourceicon=music_service/mpd/favouritesicon.png",name:"Favorites",uri:"favourites",plugin_type:"",plugin_name:""},{albumart:"/albumart?sourceicon=music_service/mpd/playlisticon.svg",name:"Playlists",uri:"playlists",plugin_type:"music_service",plugin_name:"mpd"},{albumart:"/albumart?sourceicon=music_service/mpd/musiclibraryicon.svg",name:"Music Library",uri:"music-library",plugin_type:"music_service",plugin_name:"mpd"},{albumart:"/albumart?sourceicon=music_service/mpd/artisticon.png",name:"Artists",uri:"artists://",plugin_type:"music_service",plugin_name:"mpd"},{albumart:"/albumart?sourceicon=music_service/mpd/albumicon.png",name:"Albums",uri:"albums://",plugin_type:"music_service",plugin_name:"mpd"},{albumart:"/albumart?sourceicon=music_service/mpd/genreicon.png",name:"Genres",uri:"genres://",plugin_type:"music_service",plugin_name:"mpd"},{albumart:"/albumart?sourceicon=music_service/last_100/icon.svg",name:"last 100",uri:"Last_100",plugin_type:"music_service",plugin_name:"last_100"},{albumart:"/albumart?sourceicon=music_service/webradio/icon.svg",icon:"fa fa-microphone",name:"Web Radio",uri:"radio",plugin_type:"music_service",plugin_name:"webradio"},{name:"Audio CD",uri:"cd",info:"CD ",plugin_type:"music_service",plugin_name:"cd_controller",menuItems:[{name:"link1",socketCall:{emit:"callMethod",payload:{endpoint:"music_service/cd_controller",method:"playCD",data:""}}},{name:"link2",socketCall:{emit:"callMethod",payload:{endpoint:"music_service/cd_controller",method:"getRipInfo",data:""}}},{name:"link3",socketCall:{emit:"callMethod",payload:{endpoint:"music_service/cd_controller",method:"eject",data:""}}}]}],getBrowseLibrary:{navigation:{lists:[{title:"Artists",icon:"fa fa-music",availableListViews:["grid","list"],items:[{service:"mpd",type:"song",title:"Led Zeppelin",icon:"fa fa-music",uri:"search://artist/Led Zeppelin"}]},{title:"Webradios",icon:"",availableListViews:["list"],items:[{service:"webradio",type:"webradio",title:"ledjam",artist:"",album:"",icon:"fa fa-microphone",uri:"http://yp.shoutcast.com/sbin/tunein-station.m3u?id=492072"},{service:"webradio",type:"webradio",title:"NAXI 80-e RADIO (NAXI,Belgrade,Serbia, NAXI,Beograd,Srbija) - 128k",artist:"",album:"",icon:"fa fa-microphone",uri:"http://yp.shoutcast.com/sbin/tunein-station.m3u?id=68544"}]}],prev:{uri:"/"}}},getMultiRoomDevices:{misc:{debug:!0},list:[{id:"device_1",host:"http://192.168.0.120:3000",model:"model Small",signal:"low",name:"Bedroom",state:{status:"play",volume:80,mute:!1,artist:"Franz ferdinand",track:"No you Girls"},child:[{id:"device_3",host:"http://192.168.0.18:3000",model:"xx",signal:"low",name:"Bedroom left"},{id:"device_4",host:"http://192.168.0.18:3000",model:"yy",signal:"low",name:"Bedroom right"},{id:"device_5",host:"http://192.168.0.18:3000",model:"zz",signal:"low",name:"Bedroom center"}]},{id:"device_2",host:"http://192.168.0.10:3000",model:"model Xlarge",signal:"high",name:"Living room",state:{status:"play",volume:80,mute:!1,artist:"Korn",track:"Adidas"}},{id:"device_6",host:"http://192.168.0.18:3000",model:"model Xlarge",signal:"high",name:"Garden",state:{status:"play",volume:80,mute:!1,artist:"Banks",track:"Warm water"}}]},getMenuItems:[{id:"home",name:"Home",state:"volumio.playback"},{id:"components",name:"Components",state:"volumio.components"},{id:"network",name:"Network",state:"volumio.plugin",params:{pluginName:"network"}},{id:"multi-room",name:"Multi Room",state:"volumio.multi-room"},{id:"modal",name:"Power off",params:{modalName:"modal-power-off"}},{id:"static-page",name:"Credits",pageName:"test-static-page"}],multiRoomDevices:[{name:"AxiomAir4",ip:"http://192.168.1.159:3000",isSelf:!0,state:{volume:0,track:"aa",artist:"bb",albumart:""}},{name:"AxiomAir6",ip:"http://192.168.1.129:3000",state:{volume:0,track:"aa",artist:"bb",albumart:""}},{name:"AxiomAir6",ip:"http://192.168.1.129:3000",state:{volume:0,track:"aa",artist:"bb",albumart:""}},{type:"GROUP",name:"Kitchen",server:{name:"AxiomAir",ip:"http://192.168.1.111:3000",state:{volume:50,track:"Group track",artist:"art",albumart:""}},clients:[{name:"Child 1",ip:"http://192.168.1.110:3000",state:{volume:0,track:"",artist:"",albumart:""}},{name:"Child 2",ip:"http://192.168.1.116:3000",state:{volume:0,track:"aa",artist:"bb",albumart:""}}]}],getSettings:{page:{label:"Settings",description:"If you mess up with this configuration, you can reset to default.",passwordProtection:{enabled:!0,message:"Insert password for"}},sections:[{id:"section_player_name",hidden:!1,element:"section",label:"Player name",plugin:"settings/playback_conf",onSave:{type:"plugin",endpoint:"music_services/spop",method:"saveSpopConf",askForConfirm:{title:"Confirm",message:"Do you want to save this values?"}},saveButton:{label:"salva",data:["playerName"],hidden:!1},content:[{id:"playerName",element:"input",type:"text",label:"Player Name",attributes:[{placeholder:"call me with a fancy name"}],value:"Volumio",hidden:!1,description:"This is a desc",doc:"This is a doc"}]},{id:"section_services_management",element:"section",label:"Services management",description:"Enable or disable certain Volumio functionalities",onSave:{type:"plugin",endpoint:"music_services/spop",method:"saveSpopConf"},saveButton:{label:"salva",data:["airplay","upnp","upnp_dlna_indexing","dlna_library"]},content:[{id:"airplay",element:"switch",label:"Airplay",description:"Apple airplay",value:!0},{id:"upnp",element:"switch",label:"UPNP Control",value:!0},{id:"upnp_dlna_indexing",element:"switch",label:"UPNP/DLNA Indexing",value:!0},{id:"dlna_library",element:"switch",label:"DLNA Library Server",value:!0}]},{id:"section_streaming_services",element:"section",label:"Streaming services",description:"Enable or disable Spotify Streaming services",onSave:{type:"plugin",endpoint:"music_services/spop",method:"saveSpopConf"},saveButton:{label:"salva",data:["spotify_service","spotify_username","spotify_password","prefer_high_quality"]},content:[{id:"spotify_service",element:"switch",label:"Spotify Service",value:!0},{id:"spotify_username",element:"input",attributes:[{placeholder:"Type your spotify username"},{maxlength:5}],label:"Username",value:"asd",description:"desc",doc:"Spot doc",visibleIf:{field:"spotify_service",value:!0}},{id:"spotify_password",element:"input",type:"password",label:"Password",value:"dusdhsudhsu",visibleIf:{field:"spotify_service",value:!0}},{id:"prefer_high_quality",element:"switch",label:"Prefer high quality music",value:"false",visibleIf:{field:"spotify_service",value:!0}}]},{id:"section_sound_quality",type:"section",label:"Sound quality tweaks",description:"These profiles??",onSave:{type:"plugin",endpoint:"music_services/spop",method:"saveSpopConf"},saveButton:{label:"salva",data:["kernel_profile"]},content:[{id:"kernel_profile",element:"select",label:"Kernel profile",value:{value:2,label:"Less Jitter"},options:[{value:1,label:"Default"},{value:2,label:"Less Jitter"},{value:3,label:"Jitter"},{value:4,label:"Focus"}]}]},{id:"section_updates",type:"section",label:"System updates",content:[{id:"update",element:"button",label:"System updates",description:"You can check?...",onClick:{type:"emit",data:"search-for-upgrade",message:"updateCheck",askForConfirm:{title:"Confirm",message:"are you sure?"}}}]},{id:"eq",type:"section",label:"Equalizer",onSave:{type:"plugin",endpoint:"music_services/eq",method:"saveEqValues"},saveButton:{label:"Save eq settings",data:["bandEqualizer","equalizerSelector"]},content:[{id:"eq_switch",element:"switch",label:"Test eq switch",value:!0},{id:"bandEqualizer",element:"equalizer",label:"Music EQ",description:"Desc",visibleIf:{field:"eq_switch",value:!0},config:{orientation:"vertical",bars:[{min:-100,max:100,step:20,value:20,tooltip:"always"},{min:0,max:50,step:20,value:25,tooltip:"hide"},{min:0,max:50,step:20,value:25,tooltip:"always"}]}},{id:"equalizerSelector",element:"equalizer",label:"Slider selector",description:"Desc",config:{orientation:"horizontal",bars:[{min:0,max:50,step:10,value:[10,20],range:!0,tooltip:"always"},{ticks:[1,2,3],ticksLabels:["Min","Medium","Max"],value:2,tooltip:"show"},{ticks:[1,2,3,4,5],ticksPositions:[0,20,40,80,100],ticksLabels:["1","2","3","4","5"],tickSnapBounds:20,value:4,tooltip:"show"}]}}]}]}}}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s){"ngInject";var l=this;i(this,e),this.socketService=n,this.modalService=a,this.themeManager=r,this.$log=s,this.modalDataObj={},t.$on("socket:init",function(){l.init()}),t.$on("socket:reconnect",function(){l.initService()})}return e.$inject=["$rootScope","socketService","modalService","themeManager","mockService","$log"],n(e,[{key:"cdRipStart",value:function(e){this.modalService.openModal("ModalRipperController","app/themes/"+this.themeManager.theme+"/components/modals/modal-ripper.html",this.modalDataObj,"lg")}},{key:"startToRipCd",value:function(){var e=angular.copy(this.modalDataObj);this.$log.debug("emit ripCD",e),this.socketService.emit("callMethod",{endpoint:"music_service/cd_controller",method:"ripCD",data:e})}},{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("cdRipStart",function(t){e.$log.debug("cdRipStart",t),e.modalDataObj=t,e.modalDataObj&&e.modalDataObj.availableDrives&&e.modalDataObj.availableDrives.length&&(e.modalDataObj.destinationDrive=e.modalDataObj.availableDrives[0]),e.cdRipStart(e.modalDataObj)})}},{key:"initService",value:function(){}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t,i,a,r,o,s,l,c,u,d,v){"ngInject";var p=this;n(this,e),this.socketService=i,this.themeManager=s,this.$document=l,this.$log=o,this.$translate=c,this.$http=u,this.$q=d,this.$state=a,this.statisticsService=v,this.currentTheme=s.theme,this.uiSettings=void 0,this.defaultUiSettings={backgroundImg:"default bkg"},t.$on("socket:init",function(){p.init()}),t.$on("socket:reconnect",function(){p.initService()})}return e.$inject=["$rootScope","socketService","$state","mockService","$log","themeManager","$document","$translate","$http","$q","statisticsService"],a(e,[{key:"init",value:function(){this.registerListner(),this.initService(),this.defaultThumbnailBackgroundUrl=""+this.socketService.host+"/app/themes/"+this.themeManager.theme+"/assets/graphics/thumb-"+this.themeManager.theme+"-bg.jpg",this.defaultBackgroundUrl=""+this.socketService.host+"/app/themes/"+this.themeManager.theme+"/assets/graphics/"+this.themeManager.theme+"-bg.jpg"}},{key:"setBackground",value:function(){this.uiSettings.color?(this.$document[0].body.style.background="",this.$document[0].body.style.backgroundColor=this.uiSettings.color):"Default"===this.uiSettings.background.title?(this.$document[0].body.style.background="#333 url("+this.defaultBackgroundUrl+") repeat top left",this.$document[0].body.style.backgroundSize="auto"):(this.$document[0].body.style.background="#333 url("+this.uiSettings.background.path+") no-repeat center center",this.$document[0].body.style.backgroundSize="cover")}},{key:"setLanguage",value:function(){var e=void 0===arguments[0]?null:arguments[0];return this.$log.debug("setLanguage"),e?void this.$translate.use(e):this.socketService.isSocketAvalaible()?void(~location.href.indexOf("wizard")?this.browserLanguage=this.getBrowserDefaultLanguage():this.uiSettings&&this.uiSettings.language?this.$translate.use(this.uiSettings.language):setTimeout(function(){this.setLanguage()}.bind(this),3e3)):void this.$translate.use(this.getBrowserDefaultLanguage())}},{key:"setLoadingBar",value:function(){this.socketService.loadingBarEnabled=this.uiSettings.loadingBar===!1?!1:!0}},{key:"getBrowserDefaultLanguage",value:function(){var e=["languages","language","browserLanguage","userLanguage","systemLanguage"],t=[];return e.forEach(function(e){e in window.navigator&&(angular.isArray(window.navigator[e])?t.push.apply(t,i(window.navigator[e])):t.push(window.navigator[e]))}),this.$log.debug("Navigator defaultLanguage",t[0]),t[0].substr(0,2)||"en"}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushUiSettings",function(t){if(t.background&&(delete e.uiSettings.color,-1===t.background.path.indexOf(e.socketService.host))){var i=""+e.socketService.host+"/backgrounds/"+t.background.path;t.background.path=i}e.defaultPageTitle=e.uiSettings.pageTitle||"Audiophile music player",e.uiSettings.language&&e.uiSettings.language!==t.language&&location.reload(),angular.merge(e.uiSettings,t),e.$log.debug("pushUiSettings",e.uiSettings),e.setLanguage(),e.setBackground(),e.setLoadingBar(),e.statisticsService.initStats()}),this.socketService.on("pushBackgrounds",function(t){e.$log.debug("pushBackgrounds",t),e.backgrounds=t,e.backgrounds.list=t.available.map(function(t){return t.path=""+e.socketService.host+"/backgrounds/"+t.path,t.thumbnail=""+e.socketService.host+"/backgrounds/"+t.thumbnail,t}),e.setBackground()}),this.socketService.on("pushWizard",function(t){e.$log.debug("pushWizard",t),t.openWizard&&e.$state.go("volumio.wizard")}),this.socketService.on("reloadUi",function(t){e.$log.debug("reloadUi"),window.location.reload(!0)}),this.socketService.on("pushPrivacySettings",function(t){e.$log.debug("pushPrivacySettings"),e.statisticsService.pushPrivacySettings(t)})}},{key:"initService",value:function(){var e=this,t="/app/themes/"+this.themeManager.theme+"/assets/variants/"+this.themeManager.variant;return t+="/"+this.themeManager.variant+"-settings.json",this.uiSettings?this.$q.resolve(this.uiSettings):this.settingsPromise?this.settingsPromise:(this.settingsPromise=this.$http.get(t).then(function(t){return e.uiSettings=t.data,e.$log.debug("Variant settings",t.data),e.uiSettings})["finally"](function(){e.socketService.isSocketAvalaible()&&(e.socketService.emit("getUiSettings"),e.socketService.emit("getWizard"),e.socketService.emit("getPrivacySettings"))}),this.settingsPromise)}}]),e}();t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r){"ngInject";i(this,e),this.$http=n,this.$q=a,this.DEV_ENV="development",this.PROD_ENV="production",this.env=r||this.DEV_ENV,this.isDevSync()&&console.log("ENV:",this.env)}return e.$inject=["$rootScope","$http","$q","env"],n(e,[{key:"isDev",value:function(){return this.$q.resolve(this.env===this.DEV_ENV)}},{key:"isDevSync",value:function(){return this.env===this.DEV_ENV}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c){"ngInject";i(this,e),this.$rootScope=t,this.socketService=n,this.$window=a,this.$http=r,this.myVolumioDevicesService=o,this.cloudService=s,this.authService=l,this.$log=c,this.hosts=null,this.cloudAutoConnectToLastHwId=!0}return e.$inject=["$rootScope","socketService","$window","$http","myVolumioDevicesService","cloudService","authService","$log"],n(e,[{key:"initSocket",value:function(){var e=this;return this.getSocketHosts().then(function(t){return null===t?!1:e.setSocketHosts(t)})["catch"](function(e){return!1})}},{key:"getSocketHosts",value:function(){return this.cloudService.isOnCloud?this.getRemoteSocketHosts():this.getLocalSocketHosts()}},{key:"getLocalSocketHosts",value:function(){var e=this,t="http://"+this.$window.location.hostname+"/api";return this.$http.get(t+"/host").then(function(t){e.$log.debug("IP from API",t),e.$rootScope.initConfig=t.data;var i=t.data;return i},function(){return e.$log.debug("Dev mode: IP from local-config.json"),e.$http.get("/app/local-config.json").then(function(e){var t={devHost:e.data.localhost};return t})})}},{key:"getRemoteSocketHosts",value:function(){var e=this;return this.authService.waitForDbUser().then(function(t){if(null===t)return null;var i=null;return"lastHost"in t&&(i=t.lastHost),e.myVolumioDevicesService.getDevicesByUserId(t.uid).then(function(e){{var n=[];t.geoServer||"eu1"}for(var a in e){var r=e[a];if(r.enabled===!0&&r.online===!0){var o=(r.hwuuid,r.host);i===o?n.unshift(r.host):n.push(o)}}return 0===n.length?null:n})})}},{key:"setSocketHosts",value:function(e){if(this.hosts=e,this.socketService.hosts=e,!this.cloudService.isOnCloud||this.cloudService.isOnCloud&&this.cloudAutoConnectToLastHwId){var t=Object.keys(e)[0];this.socketService.host=e[t]}return!0}},{key:"isSocketAvalaible",value:function(){return null!==this.hosts}},{key:"setCloudAutoConnectValue",value:function(e){this.cloudAutoConnectToLastHwId=e}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n){"ngInject";i(this,e),this.$rootScope=t,this.$window=n}return e.$inject=["$rootScope","$window"],n(e,[{key:"isOnCloud",get:function(){return void 0!==this._isOnCloud?this._isOnCloud:(this._isOnCloud="myvolumio.org"===this.$window.location.hostname||"myvolumio-dev.firebaseapp.com"===this.$window.location.hostname,this._isOnCloud)}},{key:"isCloudReferralLink",get:function(){var e="/redirect?grsf=";return-1!==this.$window.location.href.indexOf("myvolumio.org"+e)||-1!==this.$window.location.href.indexOf("myvolumio-dev.firebaseapp.com"+e)||-1!==this.$window.location.href.indexOf("localhost:3000"+e)?!0:!1}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s){"ngInject";i(this,e),this.$rootScope=t,this.$http=n,this.$state=r,this.$window=a,this.$location=o,this.$log=s}return e.$inject=["$rootScope","$http","$window","$state","$location","$log"],n(e,[{key:"stateGo",value:function(e,t){var i={};t&&(i=this.getParametersFromQueryString(t)),this.$log.debug("Redirecting to state: "+e+", params: "+i),this.$state.go(e,i)}},{key:"urlGo",value:function(e,t){var i="";t&&(i="?"+t),this.$log.debug("Redirecting to url: "+e+", params: "+i);var n="/"+e+i;this.$window.location.href=n}},{key:"getParametersFromQueryString",value:function(e){var t={};try{var t=JSON.parse('{"'+e.replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(e,t){return""===e?t:decodeURIComponent(t)})}catch(i){}return t}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c,u,d,v){"ngInject";i(this,e),this.USERS_REF="users",this.$rootScope=t,this.$timeout=n,this.firebase=a,this.firebaseModule=a,this.$firebaseAuth=r,this.$firebaseObject=o,this.$firebaseArray=s,this.$firebaseStorage=l,this.$q=c,this.authService,this.database,this.modalService=d,this.filteredTranslate=u("translate"),this.devService=v,this.authUser=null,this.dbUser=null,this.initing=this.$q.defer(),this.init()}return e.$inject=["$rootScope","$timeout","firebase","$firebaseAuth","$firebaseObject","$firebaseArray","$firebaseStorage","$q","$filter","modalService","devService"],n(e,[{key:"init",value:function(){var e=this;this.initFirebase().then(function(){e.initServices(),e.startAuthListening()})}},{key:"initFirebase",value:function(){var e=this;return this.getFirebaseConfig().then(function(t){e.firebaseModule.initializeApp(t),e.initing.resolve()}),this.initing.promise}},{key:"initServices",value:function(){this.authService=this.$firebaseAuth(),this.database=this.firebase.database()}},{key:"getFirebaseConfig",value:function(){var e=this.$q.defer(),t={apiKey:"AIzaSyDzEZmwJZS4KZtG9pEXOxlm1XcZikP0KbA",authDomain:"myvolumio.firebaseapp.com",databaseURL:"https://myvolumio.firebaseio.com",projectId:"myvolumio",storageBucket:"myvolumio.appspot.com",messagingSenderId:"560540102538"},i={apiKey:"AIzaSyAcZzzO2ALWG7zigJ7SGZMwSpl5kIE0wzY",authDomain:"myvolumio-dev.firebaseapp.com",databaseURL:"https://myvolumio-dev.firebaseio.com",projectId:"myvolumio-dev",storageBucket:"myvolumio-dev.appspot.com",messagingSenderId:"636746507464"};return this.devService.isDev().then(function(n){e.resolve(n?i:t)}),e.promise}},{key:"getAuthService",value:function(){return this.authService}},{key:"startAuthListening",value:function(){var e=this;this.authService.$onAuthStateChanged(function(t){e.setUserByAuth(t).then(function(e){})["catch"](function(t){e.modalService.openDefaultErrorModal(t)})},this),this.firebase.auth().getRedirectResult().then(function(e){})["catch"](function(t){"auth/account-exists-with-different-credential"===t.code&&(console.log(t),e.modalService.openDefaultErrorModal("MYVOLUMIO.ACCOUNT_EXISTS_WITH_DIFFERENT_CREDENTIAL",function(){
var i=t.email;e.firebase.auth().fetchProvidersForEmail(i).then(function(t){console.log(t),-1!==t.indexOf("google.com")&&e.loginWithProvider("google"),-1!==t.indexOf("facebook.com")&&e.loginWithProvider("facebook"),-1!==t.indexOf("github.com")&&e.loginWithProvider("github")})}))})}},{key:"requireUser",value:function(){var e=this;return this.authService.$requireSignIn().then(function(t){return e.setUserByAuth(t)})}},{key:"waitForUser",value:function(){return this.authService.$waitForSignIn()}},{key:"waitForDbUser",value:function(){var e=this;return this.initing.promise.then(function(){return e.waitForUser().then(function(t){if(null===t){var i=e.$q.defer();return i.resolve(null),i.promise}return e.getRemoteDbUser(t.uid)})})}},{key:"setUserByAuth",value:function(e){var t=this,i=this.$q.defer();return null===e||void 0===e?(this.dbUser=null,this.authUser=null,i.resolve(null),i.promise):(this.getRemoteDbUser(e.uid).then(function(n){if((void 0===n.uid||null===n.uid)&&null===n.$value){var a={};return t.loadSocialData(e,a),void t.createDbUser(e.uid,a).then(function(n){t.authUser=e,t.dbUser=n,i.resolve(n)})}t.authUser=e,t.dbUser=n,i.resolve(n)})["catch"](function(e){i.reject(e)}),i.promise)}},{key:"loadSocialData",value:function(e,t){(void 0!==e.email||null!==e.email)&&(t.email=e.email);var i=e.providerId||"",n=e.providerData.length>0?e.providerData[0].providerId||"":"";if((this.isProviderASocial(i)||this.isProviderASocial(n))&&(t.photoURL=e.photoUrl||null,e.displayName)){var a=e.displayName.split(" ");a.length>1&&(t.firstName=a[0],a.shift(),t.lastName=a.join().replace(","," "))}}},{key:"setUser",value:function(e){this.dbUser=e}},{key:"getUser",value:function(){return this.dbUser}},{key:"getRemoteAuthUser",value:function(){return this.authService.$getAuth()}},{key:"getRemoteDbUser",value:function(e){var t=this.$q.defer(),i=this.database.ref(this.USERS_REF).child(e),n=this.$firebaseObject(i);return n.$loaded().then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}},{key:"isLogged",value:function(){return null!==this.dbUser}},{key:"login",value:function(e,t){var i=this,n=this.$q.defer();return this.authService.$signInWithEmailAndPassword(e,t).then(function(e){i.setUserByAuth(e).then(function(e){n.resolve(e)})})["catch"](function(e){i.error=e,n.reject(e)}),n.promise}},{key:"loginWithProvider",value:function(e){this.$q.defer();return this.authService.$signInWithRedirect(e).then(function(){})}},{key:"loginWithToken",value:function(e){return this.authService.$signInWithCustomToken(e)}},{key:"logOut",value:function(){this.setUserByAuth(null);var e=this.authService.$signOut();return e}},{key:"signup",value:function(e){var t=this,i=this.$q.defer();return this.createAuthUser(e).then(function(n){t.createDbUser(n.uid,e).then(function(e){t.authUser=n,t.dbUser=e,t.sendEmailVerification(),i.resolve(e)},function(e){n["delete"](),i.reject(e)})},function(e){i.reject(e)}),i.promise}},{key:"createAuthUser",value:function(e){var t=this.$q.defer();return this.authService.$createUserWithEmailAndPassword(e.email,e.password).then(function(e){t.resolve(e)})["catch"](function(e){t.reject(e)}),t.promise}},{key:"createDbUser",value:function(e,t){var i=this,n=this.$q.defer(),a=this.database.ref(this.USERS_REF).child(e);return t.uid=e,t.createdAt=this.firebase.database.ServerValue.TIMESTAMP,t.updatedAt=this.firebase.database.ServerValue.TIMESTAMP,delete t.password,a.set(t).then(function(e){i.getRemoteDbUser(a.key).then(function(e){n.resolve(e)},function(e){n.reject(e)})},function(e){n.reject(e)}),n.promise}},{key:"checkSendVerificationEmail",value:function(){var e=this;this.isLoggedAndVerified().then(function(t){t||e.sendEmailVerification()})}},{key:"sendEmailVerification",value:function(){{var e=this;document.location.origin}this.authUser.sendEmailVerification().then(function(){})["catch"](function(t){e.modalService.openDefaultErrorModal(t)})}},{key:"isLoggedAndVerified",value:function(){return this.authService.$requireSignIn(!0)}},{key:"updatePassword",value:function(e){var t=this.$q.defer();return this.authService.$updatePassword(e).then(function(){t.resolve()})["catch"](function(e){t.reject(e)}),t.promise}},{key:"updateEmail",value:function(e){var t=this.$q.defer();return this.authService.$updateEmail(e).then(function(){t.resolve()})["catch"](function(e){t.reject(e)}),t.promise}},{key:"recoverPassword",value:function(e){return this.authService.$sendPasswordResetEmail(e)}},{key:"deleteAuthUser",value:function(){return this.authUser["delete"]()}},{key:"getToken",value:function(){return this.firebase.auth().currentUser.getToken(!1)}},{key:"push",value:function(e,t){var i=this.$q.defer(),n=this.database.ref(e),a=this.$firebaseArray(n);return a.$add(t).then(function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise}},{key:"write",value:function(e,t){var i=this.$q.defer(),e=this.database.ref(e);return this.stripFirebaseAttributes(t),e.set(t).then(function(e){i.resolve()},function(e){i.reject(e)}),i.promise}},{key:"saveObject",value:function(e){var t=this.$q.defer();return e.$save().then(function(e){t.resolve()},function(e){t.reject(e)}),t.promise}},{key:"stripFirebaseAttributes",value:function(e){for(var t in e)0===t.indexOf("$")&&delete e[t],e.listeners&&delete e.listeners}},{key:"get",value:function(e){var t=this.$q.defer(),e=this.database.ref(e),i=this.$firebaseObject(e);return i.$loaded(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}},{key:"getInfByKey",value:function(e,t){var i=this.$q.defer();return this.firebase.database().ref(e).orderByKey().endAt(t).limitToLast(1).once("value").then(function(e){i.resolve(e.val())},function(e){i.reject(e)}),i.promise}},{key:"getArray",value:function(e){var t=this.$q.defer(),e=this.database.ref(e),i=this.$firebaseArray(e);return i.$loaded(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}},{key:"waitForValue",value:function(e){var t=this,i=void 0===arguments[1]?60:arguments[1],n=this.$q.defer(),a=this.database.ref(e),r=this.setWaitForValueTimeout(a,n,i);return a.on("value",function(e){if(e&&void 0!==e.val()&&null!==e.val()){var i=e.val();n.resolve(i),a.off(),t.clearWaitForValueTimeout(r)}}),n.promise}},{key:"setWaitForValueTimeout",value:function(e,t,i){var n=this;return this.$timeout(function(){e.off(),t.reject(n.filteredTranslate("MYVOLUMIO.ERROR_SERVER_TIMEOUT"))},1e3*i)}},{key:"clearWaitForValueTimeout",value:function(e){e&&this.$timeout.cancel(e)}},{key:"deleteFromDb",value:function(e){var t=this.database.ref(e),i=this.$firebaseObject(t);return i.$remove()}},{key:"isProviderASocial",value:function(e){return this.contains(e,"google")||this.contains(e,"facebook")||this.contains(e,"github")?!0:!1}},{key:"contains",value:function(e,t){return null===e||void 0===e?!1:-1!==e.indexOf(t)}},{key:"uploadFile",value:function(e,t){var i=this.$q.defer(),n=this.firebase.storage().ref(e),a=this.$firebaseStorage(n),r=a.$put(t);return r.$complete(function(e){i.resolve(e.downloadURL)}),r.$error(function(e){i.reject(e)}),i.promise}},{key:"getDownloadUrl",value:function(e){var t=this.$q.defer(),i=this.firebase.storage().ref(e),n=this.$firebaseStorage(i);return n.$getDownloadURL().then(function(e){t.resolve(e)})["catch"](function(e){t.reject(e)}),t.promise}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c,u,d,v,p,m,h,f,g,b,y,S){"ngInject";i(this,e),this.$rootScope=t,this.angularFireService=r,this.$q=o,this.$state=s,this.databaseService=l,this.remoteStorageService=c,this.paymentsService=u,this.filteredTranslate=d("translate"),this.modalService=v,this.socketService=p,this.$http=m,this.$location=h,this.themeManager=f,this.$window=a,this.cloudService=g,this.firebaseApiFunctionsService=b,this.growSurfService=y,this.statisticsService=S,this.isEnabled=!1,this.user=null,this.mandatoryFields=["firstName","lastName"],this.socketDeferred=this.$q.defer(),this.socketPromise=this.socketDeferred.promise,this.isJustFeLogged=!1,this.isUserBeingWatched=!1,this.isSocketInitialized=!1,this.isDev=null,this.init()}return e.$inject=["$rootScope","$timeout","$window","angularFireService","$q","$state","databaseService","remoteStorageService","paymentsService","$filter","modalService","socketService","$http","$location","themeManager","cloudService","firebaseApiFunctionsService","growSurfService","statisticsService"],n(e,[{key:"init",value:function(){this.initAuth()}},{key:"initAuth",value:function(){var e="volumio"===this.themeManager.theme&&"volumio"===this.themeManager.variant;e=e||this.cloudService.isOnCloud,e&&this.enableAuth()}},{key:"enableAuth",value:function(){this.isEnabled=!0,this.isSocketInitialized===!1&&this.initSocket(),this.isUserBeingWatched===!1&&this.watchUser()}},{key:"isAuthEnabled",value:function(){return this.$q.resolve(this.isEnabled)}},{key:"getUser",value:function(){return this.waitForDbUser()}},{key:"watchUser",value:function(){var e=this;this.isUserBeingWatched=!0,this.$rootScope.$watch(function(){return e.angularFireService.dbUser},function(t){e.user=t,setTimeout(function(){e.syncronizeWithGrowSurf(),e.syncronizeWithBackend(),e.syncronizeWithStatistics()},2e3)})}},{key:"initSocket",value:function(){var e=this;this.socketService.isSocketAvalaible()&&(this.isSocketInitialized=!0,this.socketDeferred=this.$q.defer(),this.socketPromise=this.socketDeferred.promise,this.registerListner(),this.socketDeferred.resolve(),this.$rootScope.$on("socket:disconnect",function(){e.socketDeferred=e.$q.defer(),e.socketPromise=e.socketDeferred.promise}),this.$rootScope.$on("socket:reconnect",function(){e.registerListner(),e.socketDeferred.resolve()}))}},{key:"syncronizeWithBackend",value:function(){var e=this;if(this.socketService.isSocketAvalaible())return this.isJustFeLogged?(this.isJustFeLogged=!1,void this.sendUserTokenToBackend().then(function(){})):void this.getMyVolumioStatus().then(function(t){var i=t.loggedIn,n=t.uid;i===!0?null===e.user?e.requestUserToBackend().then(function(){}):e.user.uid!==n&&e.logOutFrontend().then(function(){e.requestUserToBackend().then(function(){})}):null!==e.user&&e.sendUserTokenToBackend().then(function(){})})}},{key:"syncronizeWithGrowSurf",value:function(){var e=this;this.user&&this.user.uid&&!this.growSurfService.isGrowSurfParticipantRegistered()&&this.getUserToken(this.user.uid).then(function(t){t&&e.growSurfService.initializeGrowSurfConnection(t)})["catch"](function(e){})}},{key:"syncronizeWithStatistics",value:function(){this.user&&this.user.uid&&this.statisticsService.syncUser(this.user)}},{key:"getMyVolumioStatus",value:function(){var e=this,t=this.$q.defer();return this.isSocketInitialized===!1?(t.resolve(!1),t.promise):(this.socketService.on("pushMyVolumioStatus",function(e){t.resolve(e)}),this.$rootScope.$on("$destroy",function(){e.socketService.off("pushMyVolumioStatus")}),this.socketService.emit("getMyVolumioStatus"),t.promise)}},{key:"sendUserTokenToBackend",value:function(){var e=this,t=this.$q.defer();return this.isSocketInitialized===!1?(t.resolve(!1),t.promise):(this.getUserToken(this.user.uid).then(function(i){var n=i;e.socketService.emit("setMyVolumioToken",{token:n},function(){t.resolve()})})["catch"](function(e){t.reject(e)}),t.promise)}},{key:"getUserToken",value:function(){var e=void 0===arguments[0]?null:arguments[0];return this.firebaseApiFunctionsService.getUserToken(e)}},{key:"requestUserToBackend",value:function(){var e=this.$q.defer();return this.emitUserRequest().then(function(){e.resolve()})["catch"](function(t){e.reject(t)}),e.promise}},{key:"emitUserRequest",value:function(){var e=this.$q.defer();return this.isSocketInitialized===!1?(e.resolve(!1),e.promise):(this.socketService.emit("getMyVolumioToken",void 0,function(){e.resolve()}),e.promise)}},{key:"login",value:function(e,t){var i=this;return this.angularFireService.login(e,t).then(function(){i.isJustFeLogged=!0})}},{key:"loginWithProvider",value:function(e){var t=this;return this.angularFireService.loginWithProvider(e).then(function(){t.isJustFeLogged=!0})["catch"](function(e){return alert(e)})}},{key:"loginWithToken",value:function(e){return this.angularFireService.loginWithToken(e)}},{key:"requireUser",value:function(){return this.angularFireService.requireUser()}},{key:"requireUserOrRedirectToCloudLogin",value:function(){var e=this;return this.angularFireService.requireUser().then(function(t){if(t)return t;throw e.$state.go("myvolumio.login"),"MYVOLUMIO.USER_NOT_LOGGED"})}},{key:"requireNullUserOrRedirect",value:function(){var e=this;return this.angularFireService.waitForUser().then(function(t){var i=e.$q.defer();return null===t?i.resolve(t):i.reject("MYVOLUMIO_USER_ALREADY_LOGGED"),i.promise})}},{key:"requireVerifiedUserOrRedirect",value:function(){var e=this;return this.angularFireService.requireUser().then(function(t){return e.validateUser(t)})}},{key:"waitForUser",value:function(){return this.angularFireService.waitForUser()}},{key:"waitForDbUser",value:function(){return this.angularFireService.waitForDbUser()}},{key:"validateUser",value:function(e){var t=this.$q.defer();return null===e?void t.resolve(e):this.isUserFilledWithMandatory(e)?(t.resolve(e),t.promise):(t.reject(this.filteredTranslate("MYVOLUMIO.USER_MISSING_MANDATORY_FIELDS")),void this.redirectToEditProfile())}},{key:"isUserFilledWithMandatory",value:function(e){for(var t in this.mandatoryFields)if(e&&(!e.hasOwnProperty(this.mandatoryFields[t])||void 0===e[this.mandatoryFields[t]]||0===e[this.mandatoryFields[t]].length))return!1;return!0}},{key:"isUserVerified",value:function(){return new Promise(function(e,t){e(!0)})}},{key:"resendEmailVerification",value:function(){return this.angularFireService.sendEmailVerification()}},{key:"redirectToEditProfile",value:function(){this.$state.go("myvolumio.edit-profile")}},{key:"redirectToVerifyUser",value:function(){this.$state.go("volumio.verify-user")}},{key:"signup",value:function(e){var t=this.$q.defer();return this.angularFireService.signup(e).then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}},{key:"logOut",value:function(){var e=this,t=this.$q.defer();return this.logOutBackend().then(function(){e.logOutFrontend().then(function(){t.resolve()})})["catch"](function(e){t.reject(e)}),t.promise}},{key:"logOutBackend",value:function(){return this.isSocketInitialized===!1?this.$q.resolve(!1):(this.socketService.emit("myVolumioLogout"),this.$q.resolve(!0))}},{key:"logOutFrontend",value:function(){return this.angularFireService.logOut()}},{key:"saveUserData",value:function(e){var t=this.$q.defer();return e.password&&delete e.password,this.databaseService.updateFirebaseObject(e).then(function(){t.resolve()})["catch"](function(e){t.reject(e)}),t.promise}},{key:"updatePassword",value:function(e){var t=this.$q.defer();return this.angularFireService.updatePassword(e).then(function(){t.resolve()})["catch"](function(e){t.reject(e)}),t.promise}},{key:"updateEmail",value:function(e){var t=this.$q.defer();return this.angularFireService.updateEmail(e).then(function(){t.resolve()})["catch"](function(e){t.reject(e)}),t.promise}},{key:"recoverPassword",value:function(e){return this.angularFireService.recoverPassword(e)}},{key:"changeAvatar",value:function(e,t){var i=this,n=this.$q.defer();return this.remoteStorageService.uploadFile(e,t).then(function(e){var a="/users/"+t+"/photoUrl";i.databaseService.write(a,e).then(function(){n.resolve(e)})})["catch"](function(e){n.reject(e)}),n.promise}},{key:"getAvatarUrl",value:function(e){var t="userAvatars/"+e;return this.remoteStorageService.getDownloadUrl(t)}},{key:"deleteUser",value:function(e){var t=this;if(this.isSubscribedToPlan(e)){var i=this.$q.defer();return this.getUserToken().then(function(n){t.paymentsService.cancelSubscription(e,n).then(function(n){t.deleteUserFromFirebase(e).then(function(){i.resolve()})})["catch"](function(e){i.reject(e)})}),i.promise}return this.deleteUserFromFirebase(e)}},{key:"isSubscribedToPlan",value:function(e){return e.plan&&("virtuoso"===e.plan||"superstar"===e.plan)}},{key:"deleteUserFromFirebase",value:function(e){{var t=this.$q.defer();"users/"+e.uid}return this.angularFireService.deleteAuthUser().then(function(){t.resolve()})["catch"](function(e){t.reject(e)}),t.promise}},{key:"registerListner",value:function(){this.registerLogoutListener(),this.registerLoginListener()}},{key:"registerLogoutListener",value:function(){var e=this;this.isSocketInitialized!==!1&&(this.socketService.on("pushMyVolumioLogout",function(){e.logOutFrontend()}),this.$rootScope.$on("$destroy",function(){e.socketService.off("pushMyVolumioLogout")}))}},{key:"registerLoginListener",value:function(){var e=this;this.isSocketInitialized!==!1&&(this.socketService.on("pushMyVolumioToken",function(t){null!==t&&null!==t.token&&e.loginWithToken(t.token)}),this.$rootScope.$on("$destroy",function(){e.socketService.off("pushMyVolumioToken")}))}},{key:"isSocialEnabled",value:function(){return!1}},{key:"isIP",value:function(e){var t=new RegExp("^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])");return t.test(e)}},{key:"isValidDomainForSocialLogin",value:function(e){return"localhost"===e||"myvolumio.org"===e?!0:!1}},{key:"getCurrentAuthUser",value:function(){return this.user}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a){"ngInject";i(this,e),this.stripeService=t,this.paddleService=n,this.$q=a}return e.$inject=["stripeService","paddleService","$q"],n(e,[{key:"subscribe",value:function(e,t){return this.paddleService.subscribe(e,t)}},{key:"cancelSubscription",value:function(e,t){return this.paddleService.cancelSubscription(e,t)}},{key:"updateSubscription",value:function(e,t,i,n){return this.paddleService.updateSubscription(e,t,i,n)}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r){"ngInject";i(this,e),this.databaseService=t,this.$q=n,this.firebase=a,this.devService=r}return e.$inject=["databaseService","$q","firebase","devService"],n(e,[{key:"getPublicKey",value:function(){var e="pk_test_utxQAjiMNEdVZFel9iQlDkyH",t="pk_test_utxQAjiMNEdVZFel9iQlDkyH",i=this.$q.defer();return this.devService.isDev().then(function(n){i.resolve(n?t:e)}),i.promise}},{key:"subscribe",value:function(e,t){var i=this,n=this.$q.defer(),a="payments/subscriptions/"+t;return this.databaseService.push(a,e).then(function(e){i.getSubscriptionResponse(e,t).then(function(a){return a===!0?void n.resolve(a):void i.getSubscriptionError(e,t).then(function(e){n.reject(e)})})})["catch"](function(e){n.reject(e)}),n.promise}},{key:"getSubscriptionResponse",value:function(e,t){var i=this.$q.defer(),n="/payments/subscriptions/"+t+"/"+e+"/status";return this.databaseService.waitForValue(n).then(function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise}},{key:"getPlanForSubscription",value:function(e,t){var i=this.$q.defer(),n="/payments/subscriptions/"+t+"/"+e+"/planCode";return this.databaseService.get(n).then(function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise}},{key:"getSubscriptionError",value:function(e,t){var i=this.$q.defer(),n="/payments/subscriptions/"+t+"/"+e+"/error";return this.databaseService.get(n).then(function(e){return void 0===e?void i.resolve("No success but no stripe error"):void i.resolve(e)},function(e){i.reject(e)}),i.promise}},{key:"cancelSubscription",value:function(e,t){var i=this,n=this.$q.defer(),a="payments/cancellations/"+t,r={subscriptionId:e,created_at:this.firebase.database.ServerValue.TIMESTAMP};return this.databaseService.push(a,r).then(function(e){i.getCancellationResponse(e,t).then(function(a){return a===!0?void n.resolve(a):void i.getCancellationError(e,t).then(function(e){n.reject(e)})})})["catch"](function(e){n.reject(e)}),n.promise}},{key:"getCancellationResponse",value:function(e,t){var i=this.$q.defer(),n="payments/cancellations/"+t+"/"+e+"/status";return this.databaseService.waitForValue(n).then(function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise}},{key:"getCancellationError",value:function(e,t){var i=this.$q.defer(),n="/payments/cancellations/"+t+"/"+e+"/error";return this.databaseService.get(n).then(function(e){return void 0===e?void i.resolve("No success but no stripe error"):void i.resolve(e)},function(e){i.reject(e)}),i.promise}},{key:"updateSubscription",value:function(e,t){var i=this,n=this.$q.defer(),a="payments/updates/"+t,r={planCode:e,created_at:this.firebase.database.ServerValue.TIMESTAMP};return this.databaseService.push(a,r).then(function(e){return i.getUpdateResponse(e,t).then(function(a){return a===!0?void n.resolve(a):void i.getUpdateError(e,t).then(function(e){n.reject(e)})})})["catch"](function(e){n.reject(e)}),n.promise}},{key:"getUpdateResponse",value:function(e,t){var i=this.$q.defer(),n="/payments/updates/"+t+"/"+e+"/status";return this.databaseService.waitForValue(n).then(function(e){i.resolve(e)},function(e){i.reject(e)}),i.promise}},{key:"getUpdateError",value:function(e,t){var i=this.$q.defer(),n="/payments/updates/"+t+"/"+e+"/error";return this.databaseService.get(n).then(function(e){return void 0===e?void i.resolve("No success but no stripe error"):void i.resolve(e)},function(e){i.reject(e)}),i.promise}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c,u){"ngInject";i(this,e),this.angularFireService=t,this.modalService=n,this.databaseService=a,this.$q=r,this.$http=o,this.$log=s,this.firebaseApiFunctionsService=l,this.devService=c,this.paddleJsUrl="https://cdn.paddle.com/paddle/paddle.js",this.paddleS2SUrl="",this.PADDLE_VENDOR_ID_PROD=29290,this.PADDLE_VENDOR_ID_DEV=36336,this.statisticsService=u,this.isLoaded=!1,this.isInit=!1,this.setupPaddle()}return e.$inject=["angularFireService","modalService","databaseService","$q","$http","$log","firebaseApiFunctionsService","devService","statisticsService"],n(e,[{key:"setupPaddle",value:function(){var e=this;this.injectPaddleScript().then(function(){e.isLoaded=!0,e.initPaddle()})["catch"](function(t){e.$log.debug("Paddle error: "+t)})}},{key:"injectPaddleScript",value:function(){var e=this;return new Promise(function(t,i){var n=document.createElement("script");n.async=!0,n.src=e.paddleJsUrl,n.addEventListener("load",t),n.addEventListener("error",function(){return i("Error loading script.")}),n.addEventListener("abort",function(){return i("Script loading aborted.")}),document.head.appendChild(n)})}},{key:"initPaddle",value:function(){var e=this.isDev(),t=e?this.PADDLE_VENDOR_ID_DEV:this.PADDLE_VENDOR_ID_PROD,i=e?!0:!1;Paddle.Setup({vendor:t,debug:i}),this.isInit=!0}},{key:"isDev",value:function(){return this.devService.isDevSync()}},{key:"subscribe",value:function(e,t){}},{key:"getPlanForSubscription",value:function(e,t){}},{key:"updateSubscription",value:function(e,t,i,n){var a,r=this.$q.defer();a=e.paddleId?e.paddleId:e.prices[t].paddleId;var o=this.executeUpdateSubscription(a,t,i,n);return o.then(function(e){e&&e.data&&e.data.success?r.resolve(!0):r.reject(e.data.error.message)})["catch"](function(e){r.reject(e)}),r.promise}},{key:"cancelSubscription",value:function t(e,i){var n=this.$q.defer(),a=e.uid;this.statisticsService.signalSubscriptionCancelled(e);var t=this.executeCancelSubscription(a,i);return t.then(function(e){e&&e.data&&e.data.success?n.resolve(!0):n.reject(e.data.error.message)})["catch"](function(e){n.reject("")}),n.promise}},{key:"getSubscriptionCancelUrl",value:function(e,t){return this.firebaseApiFunctionsService.getSubscriptionCancelUrl(e,t)}},{key:"executeUpdateSubscription",value:function(e,t,i,n){return this.firebaseApiFunctionsService.executeUpdateSubscription(e,t,i,n)}},{key:"executeCancelSubscription",value:function(e,t){return this.firebaseApiFunctionsService.executeCancelSubscription(e,t)}},{key:"openUpdateSubscriptionMethod",value:function(e){Paddle.Checkout.open({override:e})}},{key:"openCancelSubscriptionByUrl",value:function(e){Paddle.Checkout.open({override:e})}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n){"ngInject";i(this,e),this.angularFireService=t,this.$q=n}return e.$inject=["angularFireService","$q"],n(e,[{key:"addObjectToList",value:function(e,t){return this.angularFireService.addObjectToList(t,e)}},{key:"push",value:function(e,t){var i=this.$q.defer();return this.angularFireService.push(e,t).then(function(e){var t=e.key;i.resolve(t)})["catch"](function(e){i.reject(e)}),i.promise}},{key:"write",value:function(e,t){var i=this.$q.defer();return this.angularFireService.write(e,t).then(function(){i.resolve()},function(e){i.reject(e)}),i.promise}},{key:"updateFirebaseObject",value:function(e){var t=this.$q.defer();return this.angularFireService.saveObject(e).then(function(){t.resolve()},function(e){t.reject(e)}),t.promise}},{key:"get",value:function(e){return this.angularFireService.get(e)}},{key:"getInfByKey",value:function(e,t){return this.angularFireService.getInfByKey(e,t)}},{key:"getArray",value:function(e){return this.angularFireService.getArray(e)}},{key:"waitForValue",value:function(e){var t=this.$q.defer();return this.angularFireService.waitForValue(e).then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}},{key:"delete",value:function(e){return this.angularFireService.deleteFromDb(e)}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a){"ngInject";i(this,e),this.databaseService=t,this.socketService=n,this.$q=a,this.version="002001",this.MONTHLY_PLAN="monthly",this.YEARLY_PLAN="yearly",this.LIFETIME_PLAN="lifetime",this.overrideTrial=!1,this.products=null,this.init()}return e.$inject=["databaseService","socketService","$q"],n(e,[{key:"init",value:function(){this.getProducts().then(function(e){})}},{key:"getProducts",value:function(){if(null===this.products)return this.loadProducts();var e=this.$q.defer();return e.resolve(this.products),e.promise}},{key:"loadProducts",value:function(){var e=this,t=this.$q.defer();return this.databaseService.getInfByKey("products",this.version).then(function(i){e.products=i[Object.keys(i)[0]],e.products.free.features=["MYVOLUMIO_PLANS.LATEST_NEWS","EMPTY","EMPTY","EMPTY","EMPTY","EMPTY","EMPTY","EMPTY"],e.products.virtuoso.features=["MYVOLUMIO_PLANS.MYVOLUMIO_1_DEVICE","MYVOLUMIO_PLANS.AUTO_SYNC","MYVOLUMIO_PLANS.REMOTE_CONNECTION_1_DEVICE","MYVOLUMIO_PLANS.NATIVE_TIDAL_QOBUZ_INTEGRATION","MYVOLUMIO_PLANS.CD_PLAYBACK_RIPPING","MYVOLUMIO_PLANS.ALEXA_INTEGRATION","MYVOLUMIO_PLANS.BLUETOOTH_INPUT"],e.products.superstar.features=["MYVOLUMIO_PLANS.ALL_VIRTUOSO_FEATURES","MYVOLUMIO_PLANS.MYVOLUMIO_6_DEVICES","MYVOLUMIO_PLANS.HIRESAUDIO_INTEGRATION","MYVOLUMIO_PLANS.INPUT_PLAYBACK","MYVOLUMIO_PLANS.MUSIC_METADATA","EMPTY","EMPTY"],e.localizeProductsPricing().then(function(){t.resolve(e.products)})}),t.promise}},{key:"localizeProductsPricing",value:function(){var e=this.$q.defer(),t=[];for(var i in this.products.virtuoso.prices)t.push(this.localizeProductByCode(this.products.virtuoso.prices[i].paddleId,i,"virtuoso"));for(var i in this.products.superstar.prices)t.push(this.localizeProductByCode(this.products.superstar.prices[i].paddleId,i,"superstar"));return this.$q.all(t).then(function(){e.resolve()}),e.promise}},{key:"localizeProductByCode",value:function(e,t,i){var n=this,a=this.$q.defer();return Paddle.Product.Prices(e,function(e){var r=e.recurring.price.gross,o=Number(r.replace(/[^0-9\.]+/g,"")),s=o+" "+r.replace(o,"");n.products[i].prices[t].localizedPrice=s,a.resolve()}),a.promise}},{key:"getProductByCode",value:function(e){var t=this.$q.defer();return null===this.products?this.loadProducts().then(function(i){t.resolve(i[e])}):t.resolve(this.products[e]),t.promise}},{key:"getProductForUser",value:function(e){return this.getProductByCode(e.plan||"free")}},{key:"setTrialOverride",value:function(e){this.overrideTrial=e}},{key:"getTrialOverride",value:function(){return this.overrideTrial}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n){"ngInject";i(this,e),this.angularFireService=t,this.$q=n}return e.$inject=["angularFireService","$q"],n(e,[{key:"uploadFile",value:function(e,t){var i="userAvatars/"+t;return this.angularFireService.uploadFile(i,e)}},{key:"getDownloadUrl",value:function(e){return this.angularFireService.getDownloadUrl(e)}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r){"ngInject";i(this,e),this.$rootScope=t,this.$q=n,this.authService=a,this.databaseService=r,this.USER_DEVICES_REF="user_devices",this.USER_REF="users",this.init()}return e.$inject=["$rootScope","$q","authService","databaseService"],n(e,[{key:"init",value:function(){}},{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(t){e.user=t})}},{key:"getDevicesByUserId",value:function(e){return this.databaseService.getArray("/"+this.USER_DEVICES_REF+"/"+e);

}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s){"ngInject";i(this,e),this.$http=n,this.$q=a,this.devService=r,this.modalService=o,this.angularFireService=s,this.API_URL_PROD="https://functions.volumio.cloud",this.API_URL_DEV="https://functions-dev.volumio.cloud"}return e.$inject=["$rootScope","$http","$q","devService","modalService","angularFireService"],n(e,[{key:"getApiUrl",value:function(){var e=this.devService.isDevSync();return e?this.API_URL_DEV:this.API_URL_PROD}},{key:"getSubscriptionCancelUrl",value:function(e,t){var i=this,n=this.getApiUrl()+"/api/v1/getSubscriptionCancelUrl",a=new Promise(function(a,r){i.$http({url:n,method:"POST",params:{token:t,uid:e}}).then(function(e){a(e)},function(e){r(e)})});return a}},{key:"executeUpdateSubscription",value:function(e,t,i,n){var a=this,r=this.getApiUrl()+"/api/v1/updateSubscription",o=new Promise(function(o,s){a.$http({url:r,method:"POST",params:{token:n,uid:i,newPlan:e,planDuration:t}}).then(function(e){o(e)},function(e){s(e)})});return o}},{key:"executeCancelSubscription",value:function(e,t){var i=this,n=this.getApiUrl()+"/api/v1/cancelSubscription",a=new Promise(function(a,r){i.$http({url:n,method:"POST",params:{token:t,uid:e}}).then(function(e){a(e)},function(e){r(e)})});return a}},{key:"doDisableDeviceApiCall",value:function(e,t){var i=this,n=this.getApiUrl()+"/api/v1/disableMyVolumioDevice";return this.getUserToken().then(function(a){return i.$http({url:n,method:"POST",params:{token:a,uid:t,hwuuid:e.hwuuid}}).then(function(e){return e.data})})}},{key:"doEnableDeviceApiCall",value:function(e,t){var i=this,n=this.getApiUrl()+"/api/v1/enableMyVolumioDevice";return this.getUserToken().then(function(a){return i.$http({url:n,method:"POST",params:{token:a,uid:t,hwuuid:e.hwuuid}}).then(function(e){return e.data})})}},{key:"deleteDevice",value:function(e,t){var i=this,n=this.getApiUrl()+"/api/v1/deleteMyVolumioDevice";return this.getUserToken().then(function(a){return i.$http({url:n,method:"POST",params:{token:a,uid:t,hwuuid:e.hwuuid}}).then(function(e){return e.data})})}},{key:"getUserToken",value:function(){var e=this,t=(void 0===arguments[0]?null:arguments[0],this.getApiUrl()+"/api/v1/getCustomToken");return this.angularFireService.getToken().then(function(i){return e.$http({url:t,method:"GET",params:{idToken:i}}).then(function(e){return e.data})})["catch"](function(t){e.modalService.openDefaultErrorModal(t)})}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l){"ngInject";i(this,e),this.$http=t,this.$log=n,this.$window=a,this.cloudService=r,this.socketService=s,this.databaseService=l,this.fbInit=!1,this.gaInit=!1,this.privacySettings={},this.user={},this.init()}return e.$inject=["$http","$log","$window","cloudService","$rootScope","socketService","databaseService"],n(e,[{key:"init",value:function(){this.cloudService&&this.cloudService.isOnCloud&&this.initStatistics()}},{key:"initStatistics",value:function(){this.fbInit||(this.fbInit=!0,this.initializeFB()),this.gaInit||(this.gaInit=!0,this.initializeGA())}},{key:"initializeFB",value:function(){this.$log.debug("Starting FB");var e=document.createElement("script");e.innerHTML+="!function(f,b,e,v,n,t,s)",e.innerHTML+="{if(f.fbq)return;n=f.fbq=function(){n.callMethod?",e.innerHTML+="n.callMethod.apply(n,arguments):n.queue.push(arguments)};",e.innerHTML+='if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version="2.0";',e.innerHTML+="n.queue=[];t=b.createElement(e);t.async=!0;",e.innerHTML+="t.src=v;s=b.getElementsByTagName(e)[0];",e.innerHTML+='s.parentNode.insertBefore(t,s)}(window, document,"script",',e.innerHTML+='"https://connect.facebook.net/en_US/fbevents.js");',e.innerHTML+='fbq("init", "454468238446042");',e.innerHTML+='fbq("track", "PageView");',document.head.appendChild(e);var t=document.createElement("noscript");t.innerHTML='<img height="1" width="1" src="https://www.facebook.com/tr?id=454468238446042&ev=PageView&noscript=1"/>',document.head.appendChild(t)}},{key:"initializeGA",value:function(){var e=this;this.$log.debug("Starting GA");var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=UA-46374275-1",document.head.appendChild(t);var i=document.createElement("script");i.innerHTML+="window.dataLayer = window.dataLayer || [];",i.innerHTML+="function gtag(){dataLayer.push(arguments);}",i.innerHTML+='gtag("js", new Date());',i.innerHTML+='gtag("config", "UA-46374275-1", { "anonymize_ip": true });',document.head.appendChild(i),setTimeout(function(){e.saveGACid()},3e3)}},{key:"initStats",value:function(){}},{key:"pushPrivacySettings",value:function(e){this.$log.debug("pushPrivacySettings",e),this.privacySettings=e,this.privacySettings.allowUIStatistics&&this.initStatistics()}},{key:"signalLead",value:function(){this.gaInit&&(this.$log.debug("Signalling lead"),this.$window.gtag("event","registration",{event_category:"lead",event_label:"myvolumio"}))}},{key:"signalSubscriptionCreated",value:function(e,t,i,n){if(e&&e.name&&t){var a=e.name.toLowerCase(),r=a+"_"+t,o=this.user.uid+Date.now(),s="EUR";if(n&&n.checkout&&n.checkout.recurring_prices&&n.checkout.recurring_prices.customer&&n.checkout.recurring_prices.customer.currency&&(s=n.checkout.recurring_prices.customer.currency),n&&n.user&&n.user.country&&this.saveUserCountry(n.user.country),this.gaInit){this.$log.debug("Signalling subscription created on GA");var l="trial";i||(l="resubscription");var c={value:0,currency:s,transaction_id:o,items:[{id:r,name:a,price:0,quantity:1}]};this.$window.gtag("event",l,{event_category:"plan",event_label:r}),this.$window.gtag("event","purchase",c)}if(this.fbInit){this.$log.debug("Signalling subscription created on FB");var u={value:0,currency:s,transaction_id:o,contents:[{id:r,name:a,price:0,quantity:1}]};this.$window.fbq("track","Purchase",u)}}}},{key:"signalSubscriptionCancelled",value:function(e){if(this.gaInit){this.$log.debug("Signalling subscription cancelled");var t=e&&e.plan?e.plan.toLowerCase():"free",i=e&&e.planDuration?e.planDuration.toLowerCase():"monthly",n=t+"_"+i;this.$window.gtag("event","cancellation",{event_category:"plan",event_label:n})}}},{key:"getGACid",value:function(){try{return this.$window.ga.getAll()[0].get("clientId")}catch(e){return void 0}}},{key:"saveGACid",value:function(){var e=this.getGACid();this.user&&this.user.uid&&!this.user.gaCid&&e&&this.databaseService.write("users/"+this.user.uid+"/gaCid",e)}},{key:"saveUserCountry",value:function(e){e&&2===e.length&&!this.user.country&&this.databaseService.write("users/"+this.user.uid+"/country",e)}},{key:"syncUser",value:function(e){this.user=e,this.user&&this.user.uid&&!this.user.gaCid&&this.gaInit&&this.saveGACid()}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o){"ngInject";i(this,e),this.$http=t,this.$log=n,this.$window=a,this.firebaseApiFunctionsService=r,this.growSurfParticipantRegistered=!1,this.growSurfParticipantRegistrationInProgress=!1,this.cloudService=o,this.campaignInfo={},this.participant={},this.init()}return e.$inject=["$http","$log","$window","firebaseApiFunctionsService","cloudService"],n(e,[{key:"init",value:function(){this.initializeGrowSurf()}},{key:"initializeGrowSurf",value:function(){this.getCampaingInfo(),this.cloudService.isOnCloud&&this.injectGrowSurfScript()}},{key:"injectGrowSurfScript",value:function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.innerHTML='(function(g,r,s,f){g.growsurf={};g.grsfSettings={campaignId:"ig3gk4",version:"2.0.0"};s=r.getElementsByTagName("head")[0];f=r.createElement("script");f.async=1;f.src="https://growsurf.com/growsurf.js"+"?v="+g.grsfSettings.version;f.setAttribute("grsf-campaign", g.grsfSettings.campaignId);!g.grsfInit?s.appendChild(f):"";})(window,document);',document.head.appendChild(e)}},{key:"initializeGrowSurfConnection",value:function(e){var t=this;this.cloudService.isOnCloud?this.$window.growsurf?this.initializeGrowSurfConnectionWithPotentialReferrer(e):this.$window.addEventListener("grsfReady",function(){t.initializeGrowSurfConnectionWithPotentialReferrer(e)}):this.registerGrowSurfParticipant(e)}},{key:"initializeGrowSurfConnectionWithPotentialReferrer",value:function(e){var t=null;t=this.$window.growsurf.getReferrerId(),this.$log.debug("GrowSurf referrerId: "+t),this.registerGrowSurfParticipant(e,t)}},{key:"registerGrowSurfParticipant",value:function(e,t){var i=this,n=this.firebaseApiFunctionsService.getApiUrl();this.growSurfParticipantRegistrationInProgress||(this.growSurfParticipantRegistrationInProgress=!0,this.$http({url:n+"/growsurf/myVolumioReferral/participant",method:"GET",params:{token:e,referrerId:t}}).then(function(e){e&&e.data&&e.data.success&&e.data.participant&&(i.$log.debug("GrowSurf registering participant success: "+e.data.participant),i.growSurfParticipantRegistered=!0,i.autoLoginGrowSurfParticipant(e.data),i.participant=e.data.participant)})["catch"](function(e){i.$log.debug("GrowSurf registering participant error: "+JSON.stringify(e.data))}).then(function(){i.growSurfParticipantRegistrationInProgress=!1}))}},{key:"isGrowSurfParticipantRegistered",value:function(){return this.growSurfParticipantRegistered}},{key:"autoLoginGrowSurfParticipant",value:function(e){var t=this;e.participant&&e.participant.authenticationHash&&this.cloudService.isOnCloud&&this.$window.growsurf.init({email:e.participant.email,hash:e.participant.authenticationHash},function(){t.$log.debug("GrowSurf participant logged in")})}},{key:"getCampaingInfo",value:function(){var e=this,t=this.firebaseApiFunctionsService.getApiUrl();this.$http({url:t+"/growsurf/myVolumioReferral/campaign",method:"GET"}).then(function(t){t&&t.data&&t.data.success&&t.data.campaign&&(e.$log.debug("Campaign info: "+t.data.campaign),e.campaignInfo=t.data.campaign)})["catch"](function(t){e.$log.debug("Error getting campaign info: "+JSON.stringify(t.data))})}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(){"ngInject";i(this,e)}return n(e,[{key:"getHtmlPath",value:function(e,t){return""===t?t=null:t||(t=e),"app/themes/"+this.theme+"/"+(t?t+"/":"")+this.theme+"-"+e+".html"}},{key:"getCssValue",value:function(e){return this.cssEsposer||(this.cssEsposer=getComputedStyle(window.cssExposer)),this.cssEsposer[e]}},{key:"$get",value:["$rootScope","$document","$log",function(e,t,i){"ngInject";var n=function(){angular.element("body").attr("id",this.theme),e.theme=this.theme,e.variant=this.variant,e.assetsUrl="/app/themes/"+this.theme+"/assets",e.variantAssetsUrl="app/themes/"+this.theme+"/assets/variants/"+this.variant,e.touchIconsUrl=""+e.variantAssetsUrl+"/touch-icons",e.favicon=""+e.variantAssetsUrl+"/favicons/favicon.png"};return{theme:this.theme,variant:this.variant,getHtmlPath:this.getHtmlPath,setPageMetadata:n,getCssValue:this.getCssValue}}]}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function r(e){"ngInject";i(this,r);var t={restrict:"E",templateUrl:e.getHtmlPath("player-buttons","components/player-buttons"),scope:{isInFooter:"@"},controller:a,controllerAs:"playerButtons",bindToController:!0};return t};n.$inject=["themeManager"];var a=function o(e,t){"ngInject";i(this,o),this.$scope=e,this.playerService=t,this.isInFooter=this.$scope.isInFooter||!1};a.$inject=["$scope","playerService"],t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(e){"ngInject";i(this,o);var t={restrict:"E",templateUrl:function(t,i){var n="volume-manager",a="components/volume-manager";return i.templateName&&i.templatePath&&(n=i.templateName,a=i.templatePath),e.getHtmlPath(n,a)},scope:{type:"@",isOnFooter:"@"},controller:r,controllerAs:"volumeManager",bindToController:!0};return t};a.$inject=["themeManager"];var r=function(){function e(t,n,a,r,o,s,l){"ngInject";i(this,e),this.timeoutHandler=null,this.playerService=a,this.matchmediaService=o,this.showVerticalSlider=!1,this.themeManager=s,this.$scope=n,this.volume=a.volume,this.isOnFooter=this.$scope.isOnFooter||!1,this.startVolumeStatusListeners(),this.knobOptions={min:0,max:100,fgColor:s.getCssValue("color"),bgColor:s.getCssValue("backgroundColor"),width:210,height:210,displayInput:!1,step:1,angleOffset:-160,angleArc:320,readOnly:!1,thickness:.2},"knob"===this.type&&void 0!==l.uiSettings&&void 0!==l.uiSettings.knobDesktopThickness&&(this.knobDesktopThickness=l.uiSettings.knobDesktopThickness)}return e.$inject=["$rootScope","$scope","playerService","$timeout","matchmediaService","themeManager","uiSettingsService"],n(e,[{key:"toggleMute",value:function(){this.playerService.toggleMute()}},{key:"_updateKnobState",value:function(){this.playerService.mute||this.playerService.disableVolumeControl?this.knobOptions&&(this.knobOptions.fgColor="#999"):this.themeManager&&this.knobOptions&&(this.knobOptions.fgColor=this.themeManager.getCssValue("color")),this.playerService.disableVolumeControl&&(this.knobOptions.readOnly=!0)}},{key:"toggleVolumeSlider",value:function(){this.showVerticalSlider=!this.showVerticalSlider,this.showVerticalSlider?this.disableScroll():this.enableScroll()}},{key:"closeVolumeSlider",value:function(e){this.showVerticalSlider=!1}},{key:"disableScroll",value:function(){document.ontouchmove=function(e){e.preventDefault()},document.getElementById("volumeVerticalSlider").ontouchmove=function(e){return!0}}},{key:"enableScroll",value:function(){document.ontouchmove=function(e){return!0}}},{key:"startVolumeStatusListeners",value:function(){var e=this;this.$scope.$watchCollection(function(){return[e.playerService.mute,e.playerService.isVolumeAvailable]},function(t){e._updateKnobState()})}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(e,t){"ngInject";function n(e,i,n,a){var r=function(){t.debug("up",a.playerService.seekPercent),a.playerService.seek=a.playerService.seekPercent},o=function(){t.debug("down"),a.playerService.stopSeek()},s=void 0;"slider"===a.type?setTimeout(function(){s=i.find(".slider-handle")[0],s&&(s.addEventListener("mousedown",o,!0),s.addEventListener("mouseup",r,!0))}):"knob"===a.type,e.$on("$destroy",function(){a.matchMediaHandler&&(a.matchMediaHandler(),t.debug("destroyedMatchmedia")),s&&"slider"===a.type&&(s.removeEventListener("mousedown",o,!0),s.removeEventListener("mouseup",r,!0))})}i(this,o);var a={restrict:"E",templateUrl:e.getHtmlPath("track-manager","components/track-manager"),scope:{type:"@"},link:n,controller:r,controllerAs:"trackManager",bindToController:!0};return a};a.$inject=["themeManager","$log"];var r=function(){function e(t,n,a,r,o,s,l,c,u,d,v){"ngInject";i(this,e),this.playerService=n,this.modalService=r,this.socketService=s,this.matchmediaService=u,this.themeManager=c,this.$timeout=a,this.uiSettingsService=v,this.$scope=l,this.$log=d,this.initWatchers()}return e.$inject=["$element","playerService","$timeout","modalService","matchmedia","socketService","$scope","themeManager","matchmediaService","$log","uiSettingsService"],n(e,[{key:"initWatchers",value:function(){var e=this;this.$scope.$watch(function(){return e.playerService.state&&e.playerService.state.albumart},function(t){if(e.matchmediaService.isPhone){var i="url('"+e.playerService.getAlbumart(t)+"')",n="cover";"spotify"===e.playerService.state.trackType&&(n="contain"),e.backgroundAlbumArtStyle={"background-image":i,"background-size":n}}else e.backgroundAlbumArtStyle={}}),this.$scope.$watch(function(){return e.matchmediaService.isPhone},function(t){if(e.matchmediaService.isPhone){var i=e.playerService.state&&e.playerService.state.albumart;if(i){var n="url('"+e.playerService.getAlbumart(i)+"')";e.backgroundAlbumArtStyle={"background-image":n}}}else e.backgroundAlbumArtStyle={};e._initKnob(e.matchmediaService.isPhone)})}},{key:"_initKnob",value:function(e){var t=this;"knob"===this.type&&(this.uiSettingsService&&this.uiSettingsService.uiSettings&&(this.uiSettingsService.uiSettings.knobThicknessMobile&&(this.knobThicknessMobile=this.uiSettingsService.uiSettings.knobThicknessMobile),this.uiSettingsService.uiSettings.knobThicknessDesktop&&(this.knobThicknessDesktop=this.uiSettingsService.uiSettings.knobThicknessDesktop)),this.knobOptions={min:0,max:1001,fgColor:this.themeManager.getCssValue("color"),bgColor:this.themeManager.getCssValue("backgroundColor"),width:210,height:210,displayInput:!1,step:1,angleOffset:0,angleArc:360,thickness:(e?this.knobThicknessMobile:this.knobThicknessDesktop)||.2},this.onChange=function(e){t.$timeout.cancel(t.timeoutHandler),t.timeoutHandler=t.$timeout(function(){t.$log.debug("track manager",e),t.playerService.state.disableUi||(t.playerService.stopSeek(),t.playerService.seek=e)},200,!1)})}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function r(e){"ngInject";i(this,r);var t={restrict:"E",templateUrl:e.getHtmlPath("track-info","components/track-info"),controller:a,controllerAs:"trackInfo",bindToController:!0,scope:{isInFooter:"@"}};return t};n.$inject=["themeManager"];var a=function o(e,t){"ngInject";i(this,o),this.$scope=e,this.playerService=t,this.isInFooter=this.$scope.isInFooter||!1};a.$inject=["$scope","playerService"],t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function r(e){"ngInject";i(this,r);var t={restrict:"E",replace:!1,templateUrl:"app/components/player-status/player-status.html",scope:!1,controller:a,controllerAs:"playerStatus",bindToController:!0};return t};n.$inject=["$log"];var a=function o(e){"ngInject";i(this,o),this.playerService=e};a.$inject=["playerService"],t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(){"ngInject";i(this,o);var e={restrict:"E",templateUrl:"app/components/side-menu/side-menu.html",scope:{isInMainMenu:"@",isInTabBar:"@"},controller:r,controllerAs:"sideMenu",bindToController:!0};return e},r=function(){function e(t,n,a,r,o,s,l,c,u,d,v,p,m){"ngInject";var h=this;i(this,e),this.$rootScope=n,this.$state=o,this.$window=v,this.socketService=a,this.modalService=s,this.playerService=l,this.visible=!1,this.themeManager=c,this.$log=u,this.$scope=t,this.uiSettingsService=p,this.authService=m,this.MYVOLUMIO_KEY="my-volumio",this.isInMainMenu=this.$scope.sideMenu.isInMainMenu,this.isInTabBar=this.$scope.sideMenu.isInTabBar,this.init(),n.$on("socket:init",function(){h.init()}),n.$on("socket:reconnect",function(){h.initService()}),this.$rootScope.$on("toggleSideMenu",function(e,t){h.toggleMenu()})}return e.$inject=["$scope","$rootScope","socketService","mockService","$state","modalService","playerService","themeManager","$log","$http","$window","uiSettingsService","authService"],n(e,[{key:"toggleAnalogInput",value:function(){this.socketService.emit("callMethod",{endpoint:"system_controller/gpios",method:"DASwitchPress"})}},{key:"toggleBluetooth",value:function(){this.socketService.emit("callMethod",{endpoint:"audio_interface/bluetooth",method:"BTpress"})}},{key:"toggleMenu",value:function(){this.visible=!this.visible}},{key:"itemClick",value:function(e){if(this.toggleMenu(),this.$log.debug(e),"modal"===e.id||"shutdown"===e.id){var t=e.params.modalName.split("-").map(function(e){return e[0].toUpperCase()+e.slice(1,e.length)}).join(""),i="app/components/side-menu/elements/"+e.params.modalName+".html";this.$log.debug(t),this.modalService.openModal(t+"Controller",i,e,e.params.modalSize||"lg")}else if("link"===e.id)this.$window.open(e.params.url);else if("static-page"===e.id)this.$state.go("volumio.static-page",{pageName:e.pageName});else if(e.state)if(this.$log.debug(e.state,e.params),e.params){for(var n in e.params)e.params[n]=String(e.params[n]).replace("/","-");this.$state.go(e.state,e.params)}else this.$state.go(e.state);else this.$state.go(e.state)}},{key:"init",value:function(){var e=this;this.registerListner(),this.initService(),this.watcherHandler=this.$scope.$watch(function(){return e.playerService&&e.playerService.state&&e.playerService.state.service},function(t){t&&(e.analogIn="analogin"===e.playerService.state.service,e.bluetooth="bluetoth"===e.playerService.state.service)})}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushMenuItems",function(t){e.$log.debug("pushMenuItems",t),e.menuItems=t,e.checkEnableMyVolumio()}),this.$scope.$on("$destroy",function(){e.socketService.off("pushMenuItems")})}},{key:"initService",value:function(){this.socketService.emit("getMenuItems")}},{key:"checkEnableMyVolumio",value:function(){this.isAuthActive()&&this.authService.enableAuth()}},{key:"isAuthActive",value:function(){return this.isPluginActiveById("my-volumio")}},{key:"isPluginActiveById",value:function(e){for(var t in this.menuItems){var i=this.menuItems[t];if(i.hasOwnProperty("id")&&i.id===e)return!0}return!1}},{key:"isMyVolumioVisible",value:function(){return!this.isInMainMenu&&!this.isInTabBar}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=i(44),o=n(r),s=function l(){"ngInject";a(this,l);var e={restrict:"E",templateUrl:"app/components/audio-outputs/audio-outputs.html",scope:!1,controller:o["default"],controllerAs:"audioOutputs",bindToController:!0};return e};t["default"]=s,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a){"ngInject";i(this,e),this.audioOutputsService=n,this.socketService=a,this.$log=t,this.menuVisible=!1,this.outputs=[]}return e.$inject=["$log","audioOutputsService","socketService"],n(e,[{key:"toggleMenu",value:function(){this.menuVisible=!this.menuVisible}},{key:"isMultiOutputsAvailable",value:function(){return this.audioOutputsService.outputs&&this.audioOutputsService.outputs.length>1?!0:!1}},{key:"toggleAudioOutput",value:function(e,t){t===!0?this.audioOutputsService.disableAudioOutput(e):this.audioOutputsService.enableAudioOutput(e)}},{key:"showArtistAndTitle",value:function(e,t,i){var n="";return e&&t?n=e+" - "+t:t?t:i}},{key:"onDeviceVolumeChange",value:function(e,t){var i=parseInt(t);this.audioOutputsService.onDeviceVolumeChange(e,i)}},{key:"onDeviceClick",value:function(e){this.socketService.host=e.host}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(e){"ngInject";i(this,o);var t={restrict:"E",template:'<input ng-model="knob.value">',scope:{},controller:r,controllerAs:"knob",require:"ngModel",bindToController:{value:"=",options:"=",type:"@",onChange:"&?",onRelease:"&?"}};return t};a.$inject=["$log"];var r=function(){function e(t,n,a){"ngInject";var r=this;i(this,e),this.timeoutHandler=null,this.timeoutHandler2=null,this.timeoutHandler3=null,this.$timeoutService=a,this.$element=n,this.lastValueUpdateTime=0;var o={change:function(e){a.cancel(r.timeoutHandler),r.timeoutHandler=a(function(){e=parseInt(e,10),r.value!==e&&(r.setNowAsLastValueUpdateTime(),r.value=e),r.onChange&&r.onChange({value:e})},0,!1)},release:function(e,t){a.cancel(r.timeoutHandler2),r.isChanging=!0,r.timeoutHandler2=a(function(){"volume"===r.type&&(e=parseInt(e,10),r.value!==e&&(r.setNowAsLastValueUpdateTime(),r.value=e)),r.onRelease&&r.onRelease({value:e}),r.isChanging=!1},0,!0)}};angular.extend(o,this.options),this.$element.knob(o),t.$watch(function(){return r.value},function(e,t){r.isCanvasUpdateNeeded(e,t)&&r.updateCanvas()}),t.$watch(function(){return r.options},function(e){e&&n.trigger("configure",e)},!0)}return e.$inject=["$scope","$element","$timeout"],n(e,[{key:"isCanvasUpdateNeeded",value:function(e,t){return e===t&&this.getCanvasValue()===e||!this.isMinimumTimeForUpdateElapsed()?!1:!0}},{key:"isMinimumTimeForUpdateElapsed",value:function(){return Date.now()>this.lastValueUpdateTime+300?!0:!1}},{key:"setNowAsLastValueUpdateTime",value:function(){this.lastValueUpdateTime=Date.now()}},{key:"getCanvasValue",value:function(){return this.$element?this.$element.val():void 0}},{key:"updateCanvas",value:function(){this.$timeoutService.cancel(this.timeoutHandler3),this.timeoutHandler3=this.updateCanvasAsyncTask()}},{key:"updateCanvasAsyncTask",value:function(){var e=this;return this.$timeoutService(function(){e.isChanging?(e.$timeoutService.cancel(e.timeoutHandler3),e.timeoutHandler3=e.updateCanvasAsyncTask()):e.updateCanvasComponent()},800)}},{key:"updateCanvasComponent",value:function(){this.$element.val(parseInt(this.value,10)).trigger("change")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(e){"ngInject";i(this,o);var t={restrict:"E",templateUrl:e.getHtmlPath("multi-room-dock","components/multi-room-dock"),scope:!1,controller:r,controllerAs:"multiRoomDock",bindToController:!0};return t};a.$inject=["themeManager"];var r=function(){function e(t,n,a,r,o,s,l){"ngInject";i(this,e),this.socketService=n,this.multiRoomServiceLocal=a,this.$scope=t,this.myVolumioDevicesService=s,this.authService=o,this.cloudService=l,this.init()}return e.$inject=["$scope","socketService","multiRoomService","themeManager","authService","myVolumioDevicesService","cloudService"],n(e,[{key:"init",value:function(){var e=this;this.cloudService.isOnCloud?!function(){var t=e.$scope.$watch(function(){return e.authService.user},function(t){t&&e.myVolumioDevicesService.getDevicesByUserId(t.uid).then(function(t){e.multiRoomService={devices:t}})});e.$scope.$on("$destroy",function(){t()})}():this.multiRoomService=this.multiRoomServiceLocal}},{key:"changeDevice",value:function(e){e.isChild||e.isSelf||(this.socketService.host=e.host)}},{key:"showDevice",value:function(e){return this.cloudService&&this.cloudService.isOnCloud?e.enabled&&e.online:!0}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(){"ngInject";i(this,o);var e={restrict:"E",scope:!1,template:'<div id="airplayScrim" ng-click="airplayScrim.openScrimModal()"></div>',controller:r,controllerAs:"airplayScrim"};return e},r=function(){function e(t,n,a,r,o,s){"ngInject";var l=this;i(this,e),this.socketService=a,this.$document=r[0],this.modalService=o,this.$state=s,this.$scope=n,this.init(),t.$on("socket:init",function(){l.init()}),t.$on("socket:reconnect",function(){l.initService()})}return e.$inject=["$rootScope","$scope","socketService","$document","modalService","$state"],n(e,[{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"registerListner",value:function(){var e=this,t=this.$scope.$on("socket:pushState",function(t,i){i.disableUi?(e.$state.go("volumio.playback"),e.$document.querySelector("#airplayScrim").classList.add("showScrim")):e.$document.querySelector("#airplayScrim").classList.remove("showScrim")});this.$scope.$on("$destroy",function(){t()})}},{key:"openScrimModal",value:function(){this.modalService.openModal("ModalGotitController","app/components/modals/modal-gotit.html",{title:"Airplay",message:"All functionalities will be resumed upon Airplay stop"})}},{key:"initService",value:function(){}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){
for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(){"ngInject";i(this,o);var e={restrict:"E",scope:!1,templateUrl:"app/components/wait-backend-scrim/wait-backend-scrim.html",controller:r,controllerAs:"waitBackendScrim"};return e},r=function(){function e(t,n,a,r,o,s){"ngInject";var l=this;return i(this,e),this.socketService=n,this.$document=a[0],this.$state=r,this.$window=o,this.$log=s,this.socketService.isSocketAvalaible()?(this.init(),void t.$on("socket:init",function(){l.init()})):void this.hideSrcrim()}return e.$inject=["$rootScope","socketService","$document","$state","$window","$log"],n(e,[{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"registerListner",value:function(){var e=this;this.socketService.connect(function(){e.$log.debug("connect"),e.hideSrcrim()}),this.socketService.reconnect(function(){e.$log.debug("reconnect"),e.hideSrcrim()}),this.socketService.disconnect(function(t){e.$document.querySelector("#waitBackendScrim")&&e.$document.querySelector("#waitBackendScrim").classList.remove("hideScrim")})}},{key:"initService",value:function(){this.socketService.isConnected&&this.hideSrcrim()}},{key:"hideSrcrim",value:function(){this.$document.querySelector("#waitBackendScrim").classList.add("hideScrim")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function r(){"ngInject";i(this,r);var e={restrict:"E",templateUrl:"app/components/player-logger/player-logger.html",scope:!1,controller:a,controllerAs:"playerLogger",bindToController:!0};return e},a=function o(e){"ngInject";i(this,o),this.loggerService=e};a.$inject=["loggerService"],t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(e){"ngInject";i(this,o);var t={restrict:"E",templateUrl:e.getHtmlPath("playlist","components/playlist"),scope:!1,controller:r,controllerAs:"playlist",bindToController:!0};return t};a.$inject=["themeManager"];var r=function(){function e(t,n,a,r,o,s){"ngInject";var l=this;i(this,e),this.socketService=o,this.playerService=r,this.$log=a,a.debug(this.playerService);var c="http://sublinode.gestiolink.ch/client/constellation1";t.initConfig&&t.initConfig.restendpoint&&(c=t.initConfig.restendpoint),n.get(c).then(function(e){l.playlistData=e.data,r.deviceID=e.data.name},function(e){a.log("Endpoint error",e)})}return e.$inject=["$rootScope","$http","$log","playerService","socketService","mockService"],n(e,[{key:"playPlaylist",value:function(e){this.$log.debug("playPlaylist",e.prettyname),this.socketService.emit("playPlaylist",{name:e.prettyname})}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n){"ngInject";i(this,e),this.browseService=t,this.matchmediaService=n;var a={restrict:"A",scope:!1,link:this.linkFn.bind(this)};return a}return e.$inject=["browseService","matchmediaService"],n(e,[{key:"setScrollTop",value:function(){var e=this.browseService.currentFetchRequest;this.browseTablesWrapper.scrollTop=e&&e.uri&&this.browseService.scrollPositions.get(e.uri)?this.browseService.scrollPositions.get(e.uri):0}},{key:"linkFn",value:function(e){function t(){r.currentFetchRequest&&r.currentFetchRequest.uri?r.scrollPositions.set(r.currentFetchRequest.uri,this.scrollTop):r.scrollPositions.set({},this.scrollTop)}var i=this,n=void 0,a=void 0,r=this.browseService;setTimeout(function(){i.contentWrapper=angular.element("#contentWrapper")[0],i.contentWrapper.style.overflowY="hidden",i.contentWrapper.scrollTop=0,i.browseTablesWrapper=angular.element("#browseTablesWrapper")[0],i.browseTablesWrapper||i.browseTablesWrapper.addEventListener("scroll",t),o(),i.setScrollTop()},100);var o=function(){n=angular.element("#browsePanelHeading")[0],a=angular.element("#footer")[0],i.browseTablesWrapper&&a&&n&&(i.browseTablesWrapper.style.height=a.getBoundingClientRect().top-n.getBoundingClientRect().bottom+"px")};e.$on("browseController:listRendered",function(){i.browseTablesWrapper&&(i.browseTablesWrapper.removeEventListener("scroll",t),setTimeout(function(){i.setScrollTop(),i.browseTablesWrapper.addEventListener("scroll",t)},100))}),e.$on("$destroy",function(){i.browseTablesWrapper&&i.browseTablesWrapper.removeEventListener("scroll",t),i.contentWrapper&&(i.contentWrapper.style.overflowY="auto")}),this.matchmediaService.onPortrait(function(e){setTimeout(function(){o()},50)})}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function a(){"ngInject";i(this,a);var e={restrict:"E",scope:{item:"=",browse:"="},templateUrl:"app/browse/components/browse-hamburger-menu.html",link:function(e,t){var i=t[0].parentNode,n=i.parentNode,a=function(){i.style.visibility="hidden",setTimeout(function(){i.classList.remove("right"),i.classList.remove("top");var e=t[0].getBoundingClientRect();if(0===e.width&&0===e.height)return!1;var n=document.getElementById("browseTablesWrapper").getBoundingClientRect();e.left<=0&&i.classList.add("right"),e.bottom>=n.bottom&&i.classList.add("top"),i.style.visibility="visible"},10)};a(),n.addEventListener("click",a)}};return e};t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(e){"ngInject";i(this,o);var t={restrict:"E",templateUrl:"app/components/track-info-bar/track-info-bar.html",scope:!1,controller:r,controllerAs:"trackInfoBar",bindToController:!0};return t};a.$inject=["themeManager"];var r=function(){function e(t,n,a,r,o,s){"ngInject";i(this,e),this.playerService=t,this.playQueueService=n,this.modalService=a,this.$state=r,this.$translate=o,this.browseService=s}return e.$inject=["playerService","playQueueService","modalService","$state","$translate","browseService"],n(e,[{key:"addToPlaylist",value:function(){var e="app/browse/components/modal/modal-playlist.html",t="ModalPlaylistController",i={title:"Add to playlist",addQueue:!0};this.modalService.openModal(t,e,i,"sm")}},{key:"goTo",value:function(e){this.$state.go("volumio.browse");var t={type:e,value:this.playerService.state[e],artist:this.playerService.state.artist,album:this.playerService.state.album};this.browseService.goTo(t)}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(){"ngInject";i(this,o);var e={restrict:"E",templateUrl:"app/components/track-info-bar/track-info-bar-buttons.html",scope:{},controller:r,controllerAs:"trackInfoBarButtons",bindToController:!0};return e},r=function(){function e(t,n,a){"ngInject";i(this,e),this.playerService=t,this.playQueueService=n,this.modalService=a}return e.$inject=["playerService","playQueueService","modalService"],n(e,[{key:"addToPlaylist",value:function(){var e="app/browse/components/modal/modal-playlist.html",t="ModalPlaylistController",i={title:"Add to playlist",addQueue:!0};this.modalService.openModal(t,e,i,"sm")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function r(e){"ngInject";i(this,r);var t={restrict:"E",templateUrl:"app/components/equalizer/equalizer.html",scope:{},controller:a,controllerAs:"equalizer",bindToController:{config:"=",id:"@"}};return t};n.$inject=["$log"],t["default"]=n;var a=function o(e,t,n){"ngInject";i(this,o)};a.$inject=["$scope","$element","$timeout"],e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a){"ngInject";i(this,e),this.$uibModalInstance=t,this.dataObj=n,this.$translate=a,this.disableCancelButton=!1,this.callback=null,this.cancelCallback=null,this.init()}return e.$inject=["$uibModalInstance","dataObj","$translate"],n(e,[{key:"init",value:function(){this.checkDisableCancelButton(),this.bindCallbacks()}},{key:"checkDisableCancelButton",value:function(){this.dataObj.disableCancelButton&&this.dataObj.disableCancelButton===!0&&(this.disableCancelButton=!0)}},{key:"bindCallbacks",value:function(){this.dataObj.callback&&"function"==typeof this.dataObj.callback&&(this.callback=this.dataObj.callback),this.dataObj.cancelCallback&&"function"==typeof this.dataObj.cancelCallback&&(this.cancelCallback=this.dataObj.cancelCallback)}},{key:"ok",value:function(){this.$uibModalInstance.close(),void 0!==this.callback&&null!==this.callback&&this.callback()}},{key:"cancel",value:function(){this.$uibModalInstance.dismiss("cancel"),void 0!==this.cancelCallback&&null!==this.cancelCallback&&this.cancelCallback()}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(e){"ngInject";i(this,o);var t={restrict:"E",templateUrl:e.getHtmlPath("main-menu","components/main-menu"),scope:{},controller:r,controllerAs:"mainMenu",bindToController:!0};return t};a.$inject=["themeManager"];var r=function(){function e(t,n,a,r,o,s,l,c,u,d,v,p){"ngInject";var m=this;i(this,e),this.$state=n,this.$rootScope=t,this.themeManager=u,this.$scope=a,this.$rootScope=t,this.$location=r,this.$log=d,this.$window=o,this.modalService=v,this.socketService=s,this.authService=l,this.playerService=p,this.menuItems=[],this.menuItemsMainMenuLinks=[],this.browseService=c,this.sources=[],this.premiumEnabled=!1,this.user=null,this.init(),t.$on("socket:init",function(){m.init()}),t.$on("socket:reconnect",function(){m.initService()}),this.variantAssetsUrl="app/themes/"+this.themeManager.theme+"/assets/variants/"+this.themeManager.variant,this.variant=this.themeManager.variant}return e.$inject=["$rootScope","$state","$scope","$location","$window","socketService","authService","browseService","themeManager","$log","modalService","playerService"],n(e,[{key:"init",value:function(){this.registerListner(),this.initService(),this.initMenuListSource(),this.authInit()}},{key:"goTo",value:function(e){e.isRoute===!0?this.$state.go(e.uri):"volumio.browse"===this.$state.$current.name?(this.browseService.historyUri=[],this.browseService.fetchLibrary(e)):this.browseService.historyUri[0]&&this.browseService.historyUri[0].uri===e.uri?this.$state.go("volumio.browse"):(this.browseService.historyUri=[],this.$state.go("volumio.browse"),this.browseService.fetchLibrary(e))}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushMenuItems",function(t){e.parseMenuItems(t)}),this.$scope.$on("$destroy",function(){e.socketService.off("pushMenuItems")})}},{key:"initService",value:function(){this.socketService.emit("getMenuItems")}},{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(t){e.user=t})}},{key:"initMenuListSource",value:function(){var e=this;this.$scope.$watch(function(){return e.browseService.sources},function(t){e.sources=t,t&&t.map(function(t){["qobuz://","tidal://"].indexOf(t.uri)>-1&&(e.premiumEnabled=!0)})},!0)}},{key:"isAuthActive",value:function(){return this.isPluginActiveById("my-volumio")}},{key:"isPluginActiveById",value:function(e){for(var t in this.menuItems){var i=this.menuItems[t];if(i.hasOwnProperty("id")&&i.id===e)return!0}return!1}},{key:"parseMenuItems",value:function(e){this.menuItems=e,this.menuItemsMainMenuLinks=e.filter(this.isMenuLink)}},{key:"isMenuLink",value:function(e){return"link"===e.id||"plugin-manager"===e.id||"shutdown"===e.id?!0:!1}},{key:"menuItemsMainMenuLinksClick",value:function(e){if(this.$log.debug(e),"modal"===e.id||"shutdown"===e.id){var t=e.params.modalName.split("-").map(function(e){return e[0].toUpperCase()+e.slice(1,e.length)}).join(""),i="app/components/side-menu/elements/"+e.params.modalName+".html";this.$log.debug(t),this.modalService.openModal(t+"Controller",i,e,e.params.modalSize||"lg")}else if("link"===e.id)this.$window.open(e.params.url);else if("static-page"===e.id)this.$state.go("volumio.static-page",{pageName:e.pageName});else if(e.state)if(this.$log.debug(e.state,e.params),e.params){for(var n in e.params)e.params[n]=String(e.params[n]).replace("/","-");this.$state.go(e.state,e.params)}else this.$state.go(e.state);else this.$state.go(e.state)}},{key:"menuItemsMyVolumioLinksClick",value:function(e){this.$state.go("myvolumio.premiumStreaming",{serviceName:e})}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function r(e){"ngInject";i(this,r);var t={restrict:"E",templateUrl:e.getHtmlPath("on-cloud-actions","components/on-cloud-actions"),scope:!1,controller:a,controllerAs:"OnCloudActions",bindToController:!0};return t};n.$inject=["themeManager"];var a=function o(){"ngInject";i(this,o)};t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(e){"ngInject";i(this,o);var t={restrict:"E",templateUrl:e.getHtmlPath("player-seekbar","components/player-seekbar"),scope:{},controller:r,controllerAs:"playerSeekBar",bindToController:!0};return t};a.$inject=["themeManager"],t["default"]=a;var r=function(){function e(t,n,a){"ngInject";i(this,e),this.playerService=t,this.$timeout=n,this.matchmedia=a,this.timeoutHandler=null,this.inited=!1,this.seekPercent=this.playerService.seekPercent,this.init()}return e.$inject=["playerService","$timeout","matchmediaService"],n(e,[{key:"init",value:function(){this.inited=!0}},{key:"setSeek",value:function(e){var t=this;this.$timeout.cancel(this.timeoutHandler),this.timeoutHandler=this.$timeout(function(){void 0===t.playerService.state||null===t.playerService.state||t.playerService.state.disableUi||(t.playerService.stopSeek(),t.playerService.seek=e)},200,!1)}},{key:"getElapsed",value:function(){var e=this.playerService.elapsedTime;return this.momentToString(e)}},{key:"getDuration",value:function(){return this.playerService.state&&this.playerService.state.duration?this.momentToString(1e3*this.playerService.state.duration):null}},{key:"momentToString",value:function(e){var t=moment.duration(e),i=t.hours(),n=t.minutes(),a=t.seconds();n+=60*i;var r=n+":"+(10>a?"0"+a:a);return r}},{key:"seekPercent",set:function(e){this.inited&&(this.playerService.seekPercent=e,this.setSeek(this.playerService.seekPercent))},get:function(){return this.playerService.seekPercent}}]),e}();e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(e){"ngInject";i(this,o);var t={restrict:"E",templateUrl:e.getHtmlPath("favourite-track-btn","components/favourite-track-btn"),scope:{},controller:r,controllerAs:"favouriteTrackBtn",bindToController:!0};return t};a.$inject=["themeManager"],t["default"]=a;var r=function(){function e(t,n,a,r){"ngInject";i(this,e),this.playerService=n,this.playlistService=a,this.$log=t,this.matchmediaService=r}return e.$inject=["$log","playerService","playlistService","matchmediaService"],n(e,[{key:"toggleFavouriteTrack",value:function(){this.playerService.favourite.favourite?(this.$log.debug("Remove from favourite"),this.playlistService.removeFromFavourites(this.playerService.state)):(this.$log.debug("Add to favourite"),this.playlistService.addToFavourites(this.playerService.state))}}]),e}();e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(e){"ngInject";i(this,o);var t={restrict:"E",templateUrl:e.getHtmlPath("add-track-to-playlist-btn","components/add-track-to-playlist-btn"),scope:{},controller:r,controllerAs:"addTrackToPlaylistBtn",bindToController:!0};return t};a.$inject=["themeManager"],t["default"]=a;var r=function(){function e(t,n,a){"ngInject";i(this,e),this.playerService=n,this.modalService=a,this.$log=t}return e.$inject=["$log","playerService","modalService"],n(e,[{key:"addToPlaylist",value:function(){if("webradio"!==this.playerService.state.trackType){var e="app/browse/components/modal/modal-playlist.html",t="ModalPlaylistController",i={title:"Add to playlist",item:this.playerService.state};this.modalService.openModal(t,e,i,"sm")}}}]),e}();e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(e){"ngInject";i(this,o);var t={restrict:"E",templateUrl:e.getHtmlPath("track-actions-btn","components/track-actions-btn"),scope:{},controller:r,controllerAs:"trackActionsBtn",bindToController:!0};return t};a.$inject=["themeManager"],t["default"]=a;var r=function(){function e(t,n,a){"ngInject";i(this,e),this.playerService=n,this.modalService=a,this.$log=t}return e.$inject=["$log","playerService","modalService"],n(e,[{key:"trackActions",value:function(){if(!this.playerService.state.title&&!this.playerService.album&&!this.playerService.artist)return!1;var e="app/components/track-manager/components/modals/modal-track-manager-actions.html",t="ModalTrackManagerActionsController";this.modalService.openModal(t,e,null,"sm",!0)}}]),e}();e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(e){"ngInject";i(this,o);var t={restrict:"E",templateUrl:e.getHtmlPath("light-switch-btn","components/light-switch-btn"),scope:{},controller:r,controllerAs:"lightSwitchBtn",bindToController:!0};return t};a.$inject=["themeManager"],t["default"]=a;var r=function(){function e(t,n,a,r,o){"ngInject";var s=this;i(this,e),this.socketService=o,this.$log=a,this.matchmediaService=r,this.$scope=t,this.init(),n.$on("socket:init",function(){s.init()}),n.$on("socket:reconnect",function(){s.initService()})}return e.$inject=["$scope","$rootScope","$log","matchmediaService","socketService"],n(e,[{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushLightSwitch",function(t){e.$log.debug("pushLightSwitch",t),e.lightOn=t}),this.$scope.$on("$destroy",function(){e.socketService.off("pushLightSwitch")})}},{key:"initService",value:function(){this.socketService.emit("callMethod",{endpoint:"system_controller/lightcontrol",method:"getLightSwitch"})}},{key:"toggleLightSwitch",value:function(){this.socketService.emit("callMethod",{endpoint:"system_controller/lightcontrol",method:"toggleLightSwitch"})}}]),e}();e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function r(){"ngInject";i(this,r);var e={restrict:"A",scope:{pluginAttributes:"="},controller:a,controllerAs:"attributes",bindToController:!0};return e},a=function o(e){"ngInject";i(this,o),this.pluginAttributes&&this.pluginAttributes.forEach(function(t){var i=Object.keys(t)[0];e.attr(i,t[i])})};a.$inject=["$element"],t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(){"ngInject";i(this,o);var e={bindings:{pluginName:"=",type:"="},templateUrl:"app/plugin/components/plugin-component.html",controller:r,controllerAs:"pluginComponent"};return e},r=function(){function e(t,n,a,r,o,s,l,c,u,d,v){"ngInject";i(this,e),this.socketService=r,this.$stateParams=a,this.modalService=o,this.mockService=s,this.$scope=n,this.$log=c,this.$state=u,this.uiSettingsService=l,this.$window=d,this.themeManager=v}return e.$inject=["$rootScope","$scope","$stateParams","socketService","modalService","mockService","uiSettingsService","$log","$state","$window","themeManager"],n(e,[{key:"$onInit",value:function(){this.init()}},{key:"saveSection",value:function(e){var t=this;this.$log.debug(e);var i=e.onSave;if(e.saveButton.data&&!function(){var t={};e.saveButton.data.forEach(function(i){var n=e.content.filter(function(e){return e.id===i})[0];n&&(t[i]="equalizer"===n.element?n.config.bars.map(function(e){return e.value}):n.value)}),i.data=t}(),this.$log.debug(i),e.onSave.askForConfirm){var n=this.modalService.openModal("ModalConfirmController","app/components/modals/modal-confirm.html",e.onSave.askForConfirm);n.then(function(e){delete i.askForConfirm,t.socketService.emit("callMethod",i)},function(){})}else this.socketService.emit("callMethod",i)}},{key:"saveButton",value:function(e){var t=this;if(this.$log.debug(e),e.onClick.askForConfirm){var i=this.modalService.openModal("ModalConfirmController","app/components/modals/modal-confirm.html",e.onClick.askForConfirm);i.result.then(function(i){"emit"===e.onClick.type?(t.$log.debug("emit",e.onClick.message,e.onClick.data),t.socketService.emit(e.onClick.message,e.onClick.data)):t.socketService.emit("callMethod",e.onClick)},function(){})}else"emit"===e.onClick.type?(this.$log.debug("emit",e.onClick.message,e.onClick.data),this.socketService.emit(e.onClick.message,e.onClick.data)):"openUrl"===e.onClick.type?this.$window.open(e.onClick.url):"oauth"===e.onClick.type?!function(){var i=new URL(t.socketService.host+"/api/v1/oauth");i.searchParams.set("plugin",e.onClick.plugin),i.searchParams.set("plugin_url",t.$window.location);var n=new URL(e.onClick.performerUrl);n.searchParams.set("redirect_uri",i.href),e.onClick.scopes.forEach(function(e){n.searchParams.append("scope",e)}),t.$window.location=n.href}():"goto"===e.onClick.type?this.$state.go("volumio.static-page",{pageName:e.onClick.pageName}):"myVolumioUpgrade"===e.onClick.type?this.$state.go("myvolumio.plans"):this.socketService.emit("callMethod",e.onClick)}},{key:"openDoc",value:function(e){this.modalService.openModal("ModalGotitController","app/components/modals/modal-gotit.html",{message:e.doc},"lg",!0)}},{key:"init",value:function(){this.showPlugin=!1,this.registerListner(),this.initService(),this.initWatchers()}},{key:"changePlugin",value:function(){this.showPlugin=!1,this.initService()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushUiConfig",function(t){if(e.$log.debug("pushUiConfig",t),e.pluginObj=t,e.pluginObj.host=e.socketService.host,e.pluginObj.page.passwordProtection&&e.pluginObj.page.passwordProtection.enabled){var i="app/components/modals/modal-password.html",n="ModalPasswordController",a={message:e.pluginObj.page.passwordProtection.message||"",pluginName:e.pluginName},r=e.modalService.openModal(n,i,a,"sm");r.result.then(function(t){t&&(e.showPlugin=!0)},function(){e.$state.go("volumio.playback")})}else e.showPlugin=!0})}},{key:"initWatchers",value:function(){var e=this;this.watchersHandeler=this.$scope.$watch(function(){return e.pluginName},function(t,i){t&&t!==i&&e.changePlugin()})}},{key:"$onDestroy",value:function(){this.socketService.off("pushUiConfig"),this.watchersHandeler()}},{key:"initService",value:function(){"wizardPlugin"===this.type?this.socketService.emit("getWizardUiConfig",{page:this.pluginName}):this.socketService.emit("getUiConfig",{page:this.pluginName})}},{key:"isItemVisible",value:function(e,t){if(e.hidden)return!1;if(e.visibleIf){var i=t.content.filter(function(t){return t.id===e.visibleIf.field})[0];return i.value===e.visibleIf.value?!0:"object"==typeof i.value&&i.value.hasOwnProperty("value")&&i.value.value===e.visibleIf.value?!0:!1}return!0}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(){"ngInject";i(this,o);var e={restrict:"E",templateUrl:"app/components/myvolumio/components/stripe-pay-button/stripe-pay-button.html",controller:r,controllerAs:"stripePayButtonController",scope:{stripeProduct:"=",callback:"&",userId:"<",buttonLabel:"@",buttonClass:"@",userEmail:"="}};return e},r=function(){function e(t,n,a,r,o,s,l,c){"ngInject";i(this,e),this.$scope=n,this.$window=a,this.$timeout=r,this.$q=o,this.paymentsService=s,this.stripeCheckoutService=l,this.handler={},this.stripeService=c,this.btnIconClasses={normal:"glyphicon glyphicon-shopping-cart",loading:"glyphicon glyphicon-refresh"},this.btnIconClass=this.btnIconClasses.normal,this.product=this.$scope.stripeProduct,this.callback=this.$scope.callback,this.userId=this.$scope.userId,this.buttonLabel=this.$scope.buttonLabel,this.buttonClass=this.$scope.buttonClass,this.userEmail=this.$scope.userEmail||"",this.init()}return e.$inject=["$rootScope","$scope","$window","$timeout","$q","paymentsService","StripeCheckout","stripeService"],n(e,[{key:"init",value:function(){this.loadStripe(),this.initButtonUI()}},{key:"initButtonUI",value:function(){void 0===this.buttonLabel&&(this.buttonLabel="Buy now")}},{key:"loadStripe",value:function(){var e=this;this.stripeCheckoutService.load().then(function(){e.initButton(),e.initDestroyer()})}},{key:"initButton",value:function(){var e=this;this.stripeService.getPublicKey().then(function(t){e.handler=e.stripeCheckoutService.configure({key:t,image:"app/themes/volumio3/assets/variants/volumio/graphics/volumio-icon.png",locale:"auto",token:e.getPayFunction(),bitcoin:!0,email:e.userEmail})})}},{key:"getPayFunction",value:function(){var e=this;return function(t){e.startLoading();var i=e.product;i.token=t;var n=e.$q.defer();e.paymentsService.subscribe(i,e.userId).then(function(t){e.stopLoading(),n.resolve(t)},function(t){e.stopLoading(),n.reject(t)}),e.callback({subscribing:n.promise})}}},{key:"startLoading",value:function(){this.btnIconClass=this.btnIconClass.loading}},{key:"stopLoading",value:function(){this.btnIconClass=this.btnIconClasses.normal}},{key:"initDestroyer",value:function(){var e=this;this.$window.addEventListener("popstate",function(t){t.stopPropagation(),t.preventDefault(),e.$timeout(function(){e.handler.close()})})}},{key:"handlePayment",value:function(){this.handler.open(this.product)}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(){"ngInject";i(this,o);var e={restrict:"E",templateUrl:"app/components/myvolumio/components/paddle-pay-button/paddle-pay-button.html",controller:r,controllerAs:"paddlePayButtonController",scope:{paddleProduct:"=",callback:"&",userId:"<",buttonLabel:"@",buttonClass:"@",userEmail:"=",planDuration:"=",isTrial:"="}};return e},r=function(){function e(t,n,a,r,o,s,l,c,u,d,v){"ngInject";i(this,e),this.$scope=n,this.$window=a,this.$timeout=r,this.$q=o,this.$state=s,this.paymentsService=l,this.handler={},this.modalService=c,this.$log=u,this.productsService=d,this.statisticsService=v,this.btnIconClasses={normal:"glyphicon glyphicon-shopping-cart",loading:"glyphicon glyphicon-refresh"},this.btnIconClass=this.btnIconClasses.normal,this.product=this.$scope.paddleProduct,this.callback=this.$scope.callback,this.userId=this.$scope.userId,this.buttonLabel=this.$scope.buttonLabel,this.buttonClass=this.$scope.buttonClass,this.userEmail=this.$scope.userEmail||"",this.planDuration=this.$scope.planDuration,this.isTrial=this.$scope.isTrial,
this.init()}return e.$inject=["$rootScope","$scope","$window","$timeout","$q","$state","paymentsService","modalService","$log","productsService","statisticsService"],n(e,[{key:"init",value:function(){this.initButtonUI()}},{key:"initButtonUI",value:function(){void 0===this.buttonLabel&&(this.buttonLabel="Buy now")}},{key:"startLoading",value:function(){this.btnIconClass=this.btnIconClass.loading}},{key:"stopLoading",value:function(){this.btnIconClass=this.btnIconClasses.normal}},{key:"initDestroyer",value:function(){}},{key:"getPaddleProductId",value:function(){return void 0===this.product.prices||void 0===this.planDuration?void 0:this.product.prices[this.planDuration].paddleId}},{key:"getTrialParameters",value:function(){if(void 0===this.product.prices||void 0===this.planDuration)return void 0;var e={trialDays:"",trialDaysAuth:"",trialAuth:""};return this.product.prices[this.planDuration].trial.trialEnabled&&this.product.prices[this.planDuration].trial.trialDays&&this.product.prices[this.planDuration].trial.trialDaysAuth&&this.product.prices[this.planDuration].trial.trialAuth&&(e.trialDays=this.product.prices[this.planDuration].trial.trialDays,e.trialDaysAuth=this.product.prices[this.planDuration].trial.trialDaysAuth,e.trialAuth=this.product.prices[this.planDuration].trial.trialAuth),e}},{key:"onCouponCodeChange",value:function(e){this.$log.debug("myvolumio coupon :",e),this.couponCode=e,this.productsService.setTrialOverride(this.couponCode.length?!0:!1)}},{key:"handlePayment",value:function(){var e=this,t=this.getPaddleProductId(),i="",n="",a="",r="";if(this.isTrial){var o=this.getTrialParameters();i=o.trialDays,n=o.trialDaysAuth,r=o.trialAuth,a=0}if(void 0===t||!Number.isInteger(t))return void alert("Error, no transaction occurred, no paddleId found.");var s={product:t,email:this.userEmail,passthrough:{email:this.userEmail,uid:this.userId},successCallback:function(t){e.successCallback(t)},closeCallback:function(t){e.closeCallback(t)}};this.couponCode?s.coupon=this.couponCode:(s.trialDays=i,s.trialDaysAuth=n,s.price=a,s.auth=r),Paddle.Checkout.open(s,!1)}},{key:"successCallback",value:function(e){this.statisticsService.signalSubscriptionCreated(this.product,this.planDuration,this.isTrial,e),this.$state.go("myvolumio.payment-success")}},{key:"closeCallback",value:function(e){this.modalService.openDefaultErrorModal("MYVOLUMIO.COMPLETE_CHECKOUT")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(){"ngInject";i(this,o);var e={restrict:"E",templateUrl:"app/components/myvolumio/components/card/myvolumio-card.html",controller:r,controllerAs:"myVolumioUserCardController",scope:{actionCallback:"&"}};return e},r=function(){function e(t,n,a,r,o,s){"ngInject";var l=this;i(this,e),this.$rootScope=t,this.$scope=n,this.$state=a,this.authService=r,this.modalService=o,this.socketService=s,this.actionCallback=this.$scope.actionCallback,this.user=null,this.tooltipShowing=!1,this.$rootScope.$on("socket:init",function(){l.init()}),this.$rootScope.$on("socket:reconnect",function(){l.initService()}),this.init()}return e.$inject=["$rootScope","$scope","$state","authService","modalService","socketService"],n(e,[{key:"init",value:function(){this.registerListner(),this.initService(),this.authInit()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushMenuItems",function(t){e.menuItems=t,e.checkEnableMyVolumio()}),this.$scope.$on("$destroy",function(){e.socketService.off("pushMenuItems")})}},{key:"initService",value:function(){this.socketService.emit("getMenuItems")}},{key:"checkEnableMyVolumio",value:function(){this.isAuthActive()&&this.authService.enableAuth()}},{key:"isAuthActive",value:function(){return this.isPluginActiveById("my-volumio")}},{key:"isPluginActiveById",value:function(e){for(var t in this.menuItems){var i=this.menuItems[t];if(i.hasOwnProperty("id")&&i.id===e)return!0}return!1}},{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(t){e.user=t})}},{key:"logIn",value:function(){this.callActionCallback(),this.$state.go("myvolumio.login")}},{key:"signUp",value:function(){this.callActionCallback(),this.$state.go("myvolumio.signup")}},{key:"goToProfile",value:function(){this.callActionCallback(),this.$state.go("myvolumio.profile")}},{key:"logOut",value:function(){var e=this;this.authService.logOut().then(function(){e.callActionCallback(),e.$state.go("myvolumio.access")})["catch"](function(t){e.modalService.openDefaultErrorModal(t)})}},{key:"isUserFilledWithMandatory",value:function(){return this.authService.isUserFilledWithMandatory()}},{key:"callActionCallback",value:function(){void 0!==this.actionCallback&&"function"==typeof this.actionCallback&&this.actionCallback()}},{key:"upgradePlan",value:function(){this.$state.go("myvolumio.plans")}},{key:"clickTooltip",value:function(e){this.tooltipShowing=!this.tooltipShowing}},{key:"closeTooltip",value:function(){this.tooltipShowing=!1}},{key:"goToLanding",value:function(){this.$state.go("myvolumio.welcome")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(){"ngInject";i(this,o);var e={restrict:"E",templateUrl:"app/components/myvolumio/components/shareds/back-button/myvolumio-back-button.html",controller:r,controllerAs:"myVolumioBackButtonController",scope:{routeDestination:"@",label:"@"}};return e},r=function(){function e(t,n,a,r){"ngInject";i(this,e),this.$scope=n,this.$state=a,this.routeDestination=this.$scope.routeDestination,this.label=this.$scope.label}return e.$inject=["$rootScope","$scope","$state","authService"],n(e,[{key:"goBack",value:function(){this.$state.go(this.routeDestination)}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(){"ngInject";i(this,o);var e={restrict:"E",templateUrl:"app/components/myvolumio/components/shareds/already-logged/myvolumio-already-logged.html",controller:r,controllerAs:"myVolumioAlreadyLoggedController"};return e},r=function(){function e(t,n,a,r){"ngInject";i(this,e),this.$scope=n,this.$state=a,this.authService=r,this.init()}return e.$inject=["$rootScope","$scope","$state","authService"],n(e,[{key:"init",value:function(){}},{key:"goToProfile",value:function(){this.$state.go("myvolumio.profile")}},{key:"logOut",value:function(){this.authService.logOut()}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(){"ngInject";i(this,o);var e={restrict:"E",templateUrl:"app/components/myvolumio/components/shareds/current-plan-card/myvolumio-current-plan-card.html",controller:r,controllerAs:"myVolumioCurrentPlanCardController",scope:{action:"@"}};return e},r=function(){function e(t,n,a,r,o){"ngInject";i(this,e),this.$scope=n,this.$state=a,this.authService=r,this.modalService=o,this.action=this.$scope.action,this.user=null,this.isUserVerified,this.init()}return e.$inject=["$rootScope","$scope","$state","authService","modalService"],n(e,[{key:"init",value:function(){this.authInit()}},{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(t){e.user=t,e.postAuthInit()})}},{key:"postAuthInit",value:function(e){this.checkUserVerified()}},{key:"checkUserVerified",value:function(){var e=this;null!==this.user&&this.authService.isUserVerified().then(function(){e.isUserVerified=!0})["catch"](function(t){e.isUserVerified=!1})}},{key:"goToProfile",value:function(){this.$state.go("myvolumio.profile")}},{key:"goToPlans",value:function(){this.$state.go("myvolumio.plans")}},{key:"isTargetingProfile",value:function(){return"profile"===this.action}},{key:"isTargetingUpgrade",value:function(){return"upgrade"===this.action}},{key:"getDate",value:function(e){var t=new Date(1e3*e);return t}},{key:"isFreePlan",value:function t(){var t=void 0===this.user.plan||null===this.user.plan||"free"===this.user.plan;return t}},{key:"isLifeTimePlan",value:function(){this.user.planDuration;return"lifetime"===this.user.planDuration?!0:!1}},{key:"getPlanDuration",value:function(){var e=this.user.planDuration;return(void 0===e||null===e)&&(e="monthly"),e}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(){"ngInject";i(this,o);var e={restrict:"A",controller:r,controllerAs:"myVolumioFileOnChangeController",scope:{onChangeCallback:"&"}};return e},r=function(){function e(t,n,a,r){"ngInject";i(this,e),this.$scope=n,this.$element=a,this.$attrs=r,this.onChangeCallback=this.$scope.onChangeCallback,this.init()}return e.$inject=["$rootScope","$scope","$element","$attrs"],n(e,[{key:"init",value:function(){var e=this,t=function(t){e.$scope.$eval(e.uploadFile(t))};this.$element.bind("change",t)}},{key:"uploadFile",value:function(e){var t=e.target.files;null!==this.onChangeCallback&&void 0!==this.onChangeCallback&&this.onChangeCallback({file:t[0]})}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(){"ngInject";i(this,o);var e={restrict:"E",templateUrl:"app/components/myvolumio/components/shareds/avatar-image/myvolumio-avatar-image.html",controller:r,controllerAs:"myVolumioAvatarImageController",scope:{imageOverride:"<"}};return e},r=function(){function e(t,n,a,r,o){"ngInject";i(this,e),this.$scope=n,this.$state=a,this.authService=r,this.$watch=n.$watch,this.user=null,this.imageUrl=null,this.modalService=o,this.init()}return e.$inject=["$rootScope","$scope","$state","authService","modalService"],n(e,[{key:"init",value:function(){this.authInit(),this.watchImageOverride()}},{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(t){e.user=t,e.postAuthInit()})}},{key:"postAuthInit",value:function(){this.loadImage()}},{key:"watchImageOverride",value:function(){var e=this;this.$scope.$watch(function(){return e.$scope.imageOverride},function(t){t&&(e.imageUrl=t)})}},{key:"loadImage",value:function(){return this.user&&null!==this.user.photoUrl&&void 0!==this.user.photoUrl?void(this.imageUrl=this.user.photoUrl):void(this.imageUrl=null)}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(){"ngInject";i(this,o);var e={restrict:"E",templateUrl:"app/components/myvolumio/components/shareds/plan-card/myvolumio-plan-card.html",controller:r,controllerAs:"myVolumioPlanCardController",scope:{product:"=",subscribe:"=",subscribeCallback:"&",cancellation:"=",cancellationCallback:"&",changeSubscription:"=",changeSubscriptionCallback:"&",showMode:"="}};return e},r=function(){function e(t,n,a,r,o,s,l){"ngInject";i(this,e),this.$rootScope=t,this.$scope=n,this.$state=a,this.authService=r,this.modalService=o,this.filteredTranslate=l("translate"),this.product=this.$scope.product,this.isDefaultBehaviour=!0,this.activateSubscribe=this.$scope.subscribe,this.subscribeCallback=this.$scope.subscribeCallback,this.activateCancellation=this.$scope.cancellation,this.cancellationCallback=this.$scope.cancellationCallback,this.activateChangeSubscription=this.$scope.changeSubscription,this.changeSubscriptionCallback=this.$scope.changeSubscriptionCallback,this.showMode=this.$scope.showMode,this.productsService=s,this.user=null,this.init()}return e.$inject=["$rootScope","$scope","$state","authService","modalService","productsService","$filter"],n(e,[{key:"init",value:function(){this.setConfiguration(),this.authInit()}},{key:"setConfiguration",value:function(){(this.activateSubscribe===!0||this.activateCancellation===!0||this.activateChangeSubscription===!0)&&(this.isDefaultBehaviour=!1)}},{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(t){void 0===t.planDuration&&(t.planDuration="monthly"),e.user=t})}},{key:"getShownPrice",value:function(){if(void 0===this.product||null===this.product||"free"===this.product.plan)return this.filteredTranslate("MYVOLUMIO.FREE").toUpperCase();var e=this.getCurrentPlanDuration();return this.product.prices[e].localizedPrice}},{key:"getCurrentPlanDuration",value:function(){var e=this.productsService.MONTHLY_PLAN;return void 0!==this.showMode&&void 0!==this.showMode.planDuration&&(e=this.showMode.planDuration),e}},{key:"isTrialAvailable",value:function(){var e=this.productsService.MONTHLY_PLAN;return void 0!==this.showMode&&void 0!==this.showMode.planDuration&&(e=this.showMode.planDuration),this.user.isTrialAvailable!==!1&&!this.user.planData&&void 0!==this.product.prices[e].trial&&this.product.prices[e].trial.trialEnabled&&void 0!==this.product.prices[e].trial.trialDays&&void 0!==this.product.prices[e].trial.trialDaysAuth&&void 0!==this.product.prices[e].trial.trialAuth?!0:!1}},{key:"getTrialDays",value:function(){var e=this.productsService.MONTHLY_PLAN;return void 0!==this.showMode&&void 0!==this.showMode.planDuration&&(e=this.showMode.planDuration),this.user.isTrialAvailable!==!1&&void 0!==this.product.prices[e].trial&&this.product.prices[e].trial.trialEnabled&&void 0!==this.product.prices[e].trial.trialDays&&void 0!==this.product.prices[e].trial.trialDaysAuth&&void 0!==this.product.prices[e].trial.trialAuth?this.product.prices[e].trial.trialDays:""}},{key:"logIn",value:function(){this.$state.go("myvolumio.login")}},{key:"signUp",value:function(){this.$state.go("myvolumio.signup")}},{key:"goToProfile",value:function(){this.$state.go("myvolumio.profile")}},{key:"logOut",value:function(){this.authService.logOut()}},{key:"isUserFilledWithMandatory",value:function(){return this.authService.isUserFilledWithMandatory()}},{key:"subscribe",value:function(e){var t=this.getCurrentPlanDuration(),i=this.isTrialAvailable();this.$state.go("myvolumio.subscribe",{plan:e,planDuration:t,trial:i})}},{key:"goToChangePlan",value:function(e){var t=this.getCurrentPlanDuration();this.$state.go("myvolumio.change-subscription",{plan:e,planDuration:t})}},{key:"downgradeToFree",value:function(){this.$state.go("myvolumio.cancel-subscription")}},{key:"subscriptionCallback",value:function(e){this.subscribeCallback({subscribing:e})}},{key:"doDowngrade",value:function(){this.cancellationCallback()}},{key:"changePlan",value:function(){this.changeSubscriptionCallback()}},{key:"getTrialOverride",value:function(){return this.productsService.getTrialOverride()}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(){"ngInject";i(this,o);var e={restrict:"E",templateUrl:"app/components/myvolumio/components/shareds/verification-card/myvolumio-verification-card.html",controller:r,controllerAs:"myVolumioVerificationCardController"};return e},r=function(){function e(t,n,a,r,o){"ngInject";i(this,e),this.$scope=t,this.$state=n,this.authService=r,this.user=null,this.modalService=o,this.$watch=t.$watch,this.user=null,this.isUserVerified=!0,this.init()}return e.$inject=["$scope","$state","$stateParams","authService","modalService"],n(e,[{key:"init",value:function(){this.authInit()}},{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(t){e.user=t,e.postAuthInit()})}},{key:"postAuthInit",value:function(e){this.getUserVerified()}},{key:"getUserVerified",value:function(){var e=this;this.authService.isUserVerified().then(function(){e.isUserVerified=!0})["catch"](function(t){e.isUserVerified=!1})}},{key:"resendEmailVerification",value:function(){this.authService.resendEmailVerification()}},{key:"reAuth",value:function(){var e=this;this.authService.logOut().then(function(){e.$state.go("myvolumio.access")})["catch"](function(e){alert(e)})}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(){"ngInject";i(this,o);var e={restrict:"E",templateUrl:"app/components/myvolumio/components/device-selector/device-selector.html",controller:r,controllerAs:"myVolumioDeviceSelectorController"};return e},r=function(){function e(t,n,a,r,o,s,l,c,u,d,v,p){"ngInject";i(this,e),this.$rootScope=t,this.$scope=n,this.authService=a,this.myVolumioDevicesService=r,this.modalService=o,this.socketService=s,this.productsService=l,this.$http=c,this.$state=u,this.matchmediaService=d,this.databaseService=v,this.firebaseApiFunctionsService=p,this.user=null,this.product={},this.devices=[],this.isPhone=d.isPhone,this.init()}return e.$inject=["$rootScope","$scope","authService","myVolumioDevicesService","modalService","socketService","productsService","$http","$state","matchmediaService","databaseService","firebaseApiFunctionsService"],n(e,[{key:"init",value:function(){this.authInit(),this.initSocket()}},{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(t){e.user=t,e.postAuthInit()})}},{key:"initSocket",value:function(){var e=this;this.socketService.isSocketAvalaible&&(this.$rootScope.$on("socket:init",function(){e.initSocketEvents()}),this.$rootScope.$on("socket:reconnect",function(){e.initSocketEvents()}))}},{key:"initSocketEvents",value:function(){}},{key:"postAuthInit",value:function(){var e=this;null!==this.user&&(this.initProduct(),this.myVolumioDevicesService.getDevicesByUserId(this.user.uid).then(function(t){e.devices=t})["catch"](function(t){e.modalService.openDefaultErrorModal(t)}))}},{key:"initProduct",value:function(){var e=this;this.productsService.getProductForUser(this.user).then(function(t){e.product=t})}},{key:"enableDevice",value:function(e){var t=this;this.modalService.openDefaultConfirm(null,"MYVOLUMIO.DEVICE_CONFIRM_ENABLE",function(){var i=t.product.maxDevices||1,n=t.getCurrentActiveDevices();return e.enabled===!0&&n--,n>=i?void t.modalService.openDefaultConfirm("MYVOLUMIO.MAX_DEVICES_ALERT_TITLE","MYVOLUMIO.MAX_DEVICES_ALERT_DESCRIPTION",function(){t.doEnableDevice(e)},function(){e.enabled=!1}):void t.doEnableDevice(e)},function(){e.enabled=!1})}},{key:"doEnableDevice",value:function(e){this.sanitizeAngularfireObject(e);this.doEnableDeviceApiCall(e)}},{key:"getCurrentActiveDevices",value:function(){var e=0;for(var t in this.devices)this.devices[t].enabled===!0&&e++;return e}},{key:"disableDevice",value:function(e){var t=this;this.modalService.openDefaultConfirm(null,"MYVOLUMIO.DEVICE_CONFIRM_DISABLE",function(){t.doDisableDeviceApiCall(e)},function(){e.enabled=!0})}},{key:"doDisableDeviceApiCall",value:function(e){return this.firebaseApiFunctionsService.doDisableDeviceApiCall(e,this.user.uid)}},{key:"doEnableDeviceApiCall",value:function(e){return this.firebaseApiFunctionsService.doEnableDeviceApiCall(e,this.user.uid)}},{key:"deleteDevice",value:function(e){var t=this;this.modalService.openDefaultConfirm(null,"MYVOLUMIO.DEVICE_CONFIRM_DELETE",function(){return t.firebaseApiFunctionsService.deleteDevice(e,t.user.uid)})}},{key:"sanitizeAngularfireObject",value:function(e){var t={};for(var i in e)0!==i.indexOf("$")&&(t[i]=e[i]);return t}},{key:"toggleAbilitation",value:function(e){e.enabled?this.disableDevice(e):this.enableDevice(e)}},{key:"toggleAbilitationAfterChange",value:function(e){e.enabled?this.enableDevice(e):this.disableDevice(e)}},{key:"gotoDevice",value:function(e){var t=this;this.socketService.host=e.host,this.saveLastDevice(e).then(function(){t.$state.go("volumio.playback")})["catch"](function(){t.$state.go("volumio.playback")})}},{key:"saveLastDevice",value:function(e){var t=this;return this.authService.getUser().then(function(i){return t.databaseService.write("users/"+i.uid+"/lastHost",e.host)})["catch"](function(e){return e})}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function o(){"ngInject";i(this,o);var e={restrict:"E",templateUrl:"app/components/myvolumio/components/shareds/growsurf-referral-card/growsurf-referral-card.html",controller:r,controllerAs:"GrowsurfReferralController",scope:{imageOverride:"<"}};return e},r=function(){function e(t,n,a,r){"ngInject";i(this,e),this.growSurfService=n,this.$window=a,this.cloudService=r,this.init()}return e.$inject=["$rootScope","growSurfService","$window","cloudService"],n(e,[{key:"init",value:function(){this.$window.addEventListener("grsfReady",function(){})}},{key:"showGrowsurfWindow",value:function(){this.cloudService.isOnCloud&&this.$window.growsurf.open()}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l){"ngInject";var c=this;i(this,e),this.matchmediaService=t,this.themeManager=o,this.uiSettingsService=a,this.isSocketReady=!1,this.authService=l,this.$state=s,this.language={},this.languages=[{value:"ca",label:"Català"},{value:"cs",label:"Česky"},{value:"da",label:"Dansk"},{value:"de",label:"Deutsch"},{value:"en",label:"English"},{value:"es",label:"Español"},{value:"fr",label:"Français"},{value:"gr",label:"ελληνικά"},{value:"hr",label:"Croatian"},{value:"it",label:"Italiano"},{value:"ja",label:"日本語"},{value:"ko",label:"한국어"},{value:"hu",label:"Magyar"},{value:"nl",label:"Nederlands"},{value:"no",label:"Norsk"},{value:"pl",label:"Polski"},{value:"pt",label:"Português"},{value:"ru",label:"Русский"},{value:"sk",label:"Slovensky"},{value:"fi",label:"Suomi"},{value:"sv",label:"Svenska"},{value:"tr",label:"Türkçe"},{value:"ua",label:"Українська"},{value:"vi",label:"Tiếng Việt"},{value:"zh",label:"简体中文"},{value:"zh_TW",label:"繁體中文"}],n.host||this.setDefaultLanguage(),r.$watch(function(){return n.host},function(){c.isSocketReady=n.host?!0:!1})}return e.$inject=["matchmediaService","socketService","uiSettingsService","$scope","themeManager","$state","authService"],n(e,[{key:"setDefaultLanguage",value:function(){var e=this.uiSettingsService.getBrowserDefaultLanguage(),t=this.languages.find(function(t){return t.value===e});t&&(this.language=t)}},{key:"changeLanguage",value:function(){this.uiSettingsService.setLanguage(this.language.value)}},{key:"logout",value:function(){this.$state.go("myvolumio.logout")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o){"ngInject";var s=this;i(this,e),this.$state=t,this.$scope=n,this.themeManager=a,this.$log=r,this.matchmediaService=o,this.wrapperColumnClass="",this.initMainMenu(),this.updateTabbar(),n.$on("$locationChangeStart",function(e,t,i){s.updateTabbar()})}return e.$inject=["$state","$scope","themeManager","$log","matchmediaService"],n(e,[{key:"updateTabbar",value:function(){this.isWithPlaybackBar="volumio.playback"===this.$state.$current.name&&"volumio3"===this.themeManager.theme}},{key:"initMainMenu",value:function(){this.wrapperColumnClass=this.matchmediaService.isPhone?"":"col-md-20"}},{key:"swipeLeft",value:function(){var e=this.$state.current.name;switch(this.$log.debug(this.$state.current.name),e){case"volumio.browse":this.$state.go("volumio.playback");break;case"volumio.playback":this.$state.go("volumio.play-queue")}}},{key:"swipeRight",value:function(){var e=this.$state.current.name;switch(e){case"volumio.play-queue":this.$state.go("volumio.playback");break;case"volumio.playback":this.$state.go("volumio.browse")}}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s){"ngInject";var l=this;i(this,e),this.matchmediaService=t,this.state=o,this.themeManager=s,this.$scope=a,a.$watch(function(){return n.host},function(){n.host?(l.isSocketReady=!0,l.playerService=r.get("playerService")):l.isSocketReady=!1}),this.updateTabbar(),a.$on("$locationChangeStart",function(e,t,i){l.updateTabbar()})}return e.$inject=["matchmediaService","socketService","$scope","$injector","$state","themeManager"],n(e,[{key:"updateTabbar",value:function(){this.showPlayerFooter="volumio.playback"===this.state.$current.name&&"volumio3"===this.themeManager.theme}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s){"ngInject";i(this,e),this.socketService=t,this.loggerService=n,this.toastMessageService=r,this.modalService=o,this.$log=s,this.pluginObj=a.get("getSettings"),this.apiMethod="State"}return e.$inject=["socketService","loggerService","mockService","toastMessageService","modalService","$log"],n(e,[{key:"openModal",value:function(){this.modalService.openModal()}},{key:"callApi",value:function(){var e=this;this.$log.debug("called",this.apiMethod);var t="push"+this.apiMethod;socket.listeners(t).length<=2&&this.socketService.on(t,function(i){e.$log.debug("TEST API->"+t,i)}),this.socketService.emit("get"+this.apiMethod)}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function a(e,t,n,r){"ngInject";var o=this;i(this,a),e.get("app/themes/"+r.theme+"/assets/static-pages/"+n.pageName+".html").then(function(e){o.content=e.data},function(e){t.error(e)})};n.$inject=["$http","$log","$stateParams","themeManager"],t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o){"ngInject";i(this,e),this.socketService=t,this.multiRoomService=n,this.$timeout=a,this.$log=r,this.playerService=o}return e.$inject=["socketService","multiRoomService","$timeout","$log","playerService"],n(e,[{key:"onDropComplete",value:function(e,t,i){this.$log.debug(e,t),this.multiRoomService.addChild(e,t)}},{key:"toggleClientsView",value:function(e){e.clientVisible=e.clientVisible?!1:!0}},{key:"changeGroupVolume",value:function(e,t){var i=this;this.timeoutHandler&&this.$timeout.cancel(this.timeoutHandler),this.timeoutHandler=this.$timeout(function(){i.multiRoomService.changeGroupVolume(e,t)},300,!1)}},{key:"changeChildVolume",value:function(e,t){var i=this;this.timeoutHandler&&this.$timeout.cancel(this.timeoutHandler),this.timeoutHandler=this.$timeout(function(){i.multiRoomService.changeChildVolume(e,t)},300,!1)}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c,u,d,v,p,m,h,f,g,b){
"ngInject";var y=this;i(this,e),this.$log=p,this.browseService=n,this.playQueueService=a,this.playlistService=r,this.socketService=o,this.modalService=s,this.playerService=m,this.$timeout=l,this.matchmediaService=c,this.$compile=u,this.$document=d,this.$scope=t,this.$rootScope=v,this.uiSettingsService=h,this.themeManager=g,this.$stateParams=b,this.isDedicatedSearchView=!1,(this.browseService.isBrowsing||this.browseService.isSearching)&&this.renderBrowseTable(),t.$on("browseService:fetchEnd",function(){y.renderBrowseTable()}),this.initController()}return e.$inject=["$scope","browseService","playQueueService","playlistService","socketService","modalService","$timeout","matchmediaService","$compile","$document","$rootScope","$log","playerService","uiSettingsService","$state","themeManager","$stateParams"],n(e,[{key:"fetchLibrary",value:function(e){var t=void 0===arguments[1]?!1:arguments[1];this.$log.debug(e),"cd"!==e.uri&&this.browseService.fetchLibrary(e,t)}},{key:"backHome",value:function(){this.searchField="",this.browseService.backHome()}},{key:"play",value:function(e,t,i){this.browseService.currentFetchRequest&&"playlists"===this.browseService.currentFetchRequest.uri?this.playQueueService.playPlaylist(e):"cuesong"===e.type?this.playQueueService.addPlayCue(e):"single"===this.uiSettingsService.uiSettings.playMethod?this.playQueueService.addPlay(e):this.playQueueService.playItemsList(e,t,i)}},{key:"addToQueue",value:function(e){"playlists"===this.browseService.currentFetchRequest.uri?this.playQueueService.enqueue(e):this.playQueueService.add(e)}},{key:"replaceAndPlay",value:function(e){"cuesong"===e.type?this.playQueueService.replaceAndPlayCue(e):this.playQueueService.replaceAndPlay(e)}},{key:"clickListItem",value:function(e,t,i){"song"!==e.type&&"webradio"!==e.type&&"mywebradio"!==e.type&&"cuesong"!==e.type&&"album"!==e.type&&"artist"!==e.type&&"cd"!==e.type&&"play-playlist"!==e.type?this.fetchLibrary(e):"song"===e.type||"webradio"===e.type||"mywebradio"===e.type||"album"===e.type||"artist"===e.type?this.play(e,t,i):"cuesong"===e.type?this.playQueueService.addPlayCue(e):"cd"===e.type?this.playQueueService.replaceAndPlay(e):"play-playlist"===e.type&&this.playQueueService.playPlaylist({title:e.name})}},{key:"clickListItemByIndex",value:function(e,t){var i=this.browseService.lists[e].items[t],n=this.browseService.lists[e].items;this.clickListItem(i,n,t)}},{key:"hamburgerMenuClick",value:function(e,t,i){var n='\n      <div\n          uib-dropdown\n          on-toggle="browse.toggledItem(open, $event)"\n          class="hamburgerMenu">\n        <button id="hamburgerMenuBtn-'+t+"-"+i+'" class="dropdownToggle btn-link" uib-dropdown-toggle>\n          <i class="fa fa-ellipsis-v"></i>\n        </button>\n        <ul class="dropdown-menu buttonsGroup">\n          <browse-hamburger-menu\n              item="browse.browseService.lists['+t+"].items["+i+']"\n              browse="browse">\n          </browse-hamburger-menu>\n        </ul>\n      </div>\n    ';n=this.$compile(n)(this.$scope);var a=angular.element(e).parent();a.replaceWith(n),this.$timeout(function(){document.querySelector("#hamburgerMenuBtn-"+t+"-"+i).click()},0)}},{key:"addToPlaylist",value:function(e){this.playlistService.refreshPlaylists();var t="app/browse/components/modal/modal-playlist.html",i="ModalPlaylistController",n={title:"Add to playlist",item:e};this.modalService.openModal(i,t,n,"sm")}},{key:"addWebRadio",value:function(e){var t="app/browse/components/modal/modal-web-radio.html",i="ModalWebRadioController",n={title:"Add web radio",item:e};this.modalService.openModal(i,t,n,"sm")}},{key:"editWebRadio",value:function(e){this.addWebRadio(e)}},{key:"safeRemoveDrive",value:function(e){this.socketService.emit("safeRemoveDrive",e)}},{key:"updateFolder",value:function(e){this.socketService.emit("updateDb",e)}},{key:"deleteFolder",value:function(e,t){this.socketService.emit("deleteFolder",{curUri:e,item:t})}},{key:"search",value:function(){var e=this;this.searchField&&this.searchField.length>=3?(this.browseService.isSearching=!0,this.searchTimeoutHandler&&this.$timeout.cancel(this.searchTimeoutHandler),this.searchTimeoutHandler=this.$timeout(function(){var t={};t=e.isDedicatedSearchView?{type:e.browseService.filterBy,value:e.searchField}:{type:e.browseService.filterBy,value:e.searchField,plugin_name:e.browseService.currentFetchRequest.plugin_name,plugin_type:e.browseService.currentFetchRequest.plugin_type,uri:e.browseService.currentFetchRequest.uri,service:e.browseService.currentFetchRequest.service},e.$log.debug("search",t),e.socketService.emit("search",t)},600,!1)):(this.browseService.isSearching=!1,this.browseService.lists=[])}},{key:"searchSubmit",value:function(e){e.preventDefault(),this.$document[0].activeElement.blur()}},{key:"showHamburgerMenu",value:function(e){var t="radio-favourites"===e.type||"radio-category"===e.type;return!t}},{key:"showPlayButton",value:function(e){var t="folder"===e.type||"song"===e.type||"mywebradio"===e.type||"webradio"===e.type||"playlist"===e.type||"cuesong"===e.type||"remdisk"===e.type||"cuefile"===e.type||"folder-with-favourites"===e.type||"internal-folder"===e.type;return t}},{key:"showAddToQueueButton",value:function(e){var t="folder"===e.type||"song"===e.type||"mywebradio"===e.type||"webradio"===e.type||"playlist"===e.type||"remdisk"===e.type||"cuefile"===e.type||"folder-with-favourites"===e.type||"internal-folder"===e.type;return t}},{key:"showAddToPlaylist",value:function(e){var t="folder"===e.type||"song"===e.type||"remdisk"===e.type||"folder-with-favourites"===e.type||"internal-folder"===e.type;return t}},{key:"browseServiceHamburgerClick",value:function(e){this.$log.debug("browseServiceHamburgerClick",e),this.socketService.emit(e.emit,e.payload)}},{key:"renderBrowseTable",value:function(){var e=this;return this.browseService.lists?void this.$timeout(function(){{var t="angular.element('#browseTablesWrapper').scope().browse";e.browseService.info}e.table="",e.browseService.info&&(e.table+='<div class="rowInfo">',e.table+='<div class="imageInfo">',!e.browseService.info.icon&&e.browseService.info.albumart&&(e.table+='\n          <img src="'+e.playerService.getAlbumart(e.browseService.info.albumart)+'" alt=""/>'),e.browseService.info.icon&&(e.table+='<i class="'+e.browseService.info.icon+'"></i>'),e.table+="</div>",e.table+='\n          <div class="infoButton">\n            <div class="hamburgerMenu">\n              <button class="dropdownToggle btn-link"\n                  onclick="'+t+".clickListItem("+t+'.browseService.info)"\n                  title="Play">\n                <i class="fa fa-play"></i>\n              </button>\n            </div>\n          </div>',e.table+=e.browseService.info.title?'<div class="description breakMe">\n            <div class="info-title">\n              '+(e.browseService.info.title?e.browseService.info.title:"")+"\n            </div>\n            </div>":'\n              <div class="description breakMe">\n                <div class="album-title">\n                  '+(e.browseService.info.album?e.browseService.info.album:"")+'\n                </div>\n                <div class="album-artist">\n                  '+(e.browseService.info.artist?e.browseService.info.artist:"")+'\n                </div>\n                <div class="album-time '+(e.browseService.info.duration||e.browseService.info.year?"":"onlyTitle")+'">\n                  '+(e.browseService.info.duration?e.browseService.info.duration:"")+" "+(e.browseService.info.year?"- "+e.browseService.info.year:"")+"\n                </div>\n              </div>",e.table+="</div></div>"),e.browseService.lists.forEach(function(i,n){i.title&&(e.table+='\n            <div class="rowTitle">\n              <i class="'+i.icon+" "+(i.icon?"":"hidden")+'"></i> '+i.title+"\n            </div>"),e.table+='<div class="listWrapper">',i.items.forEach(function(i,a){e.table+='<div class="itemWrapper"><div class="itemTab">',(i.icon||i.albumart)&&(e.table+='<div class="image" id="'+(i.active?"source-active":"")+'"\n              onclick="'+t+".clickListItemByIndex("+n+", "+a+')">',!i.icon&&i.albumart&&(e.table+='\n            <img src="'+e.playerService.getAlbumart(i.albumart)+'" alt=""/>'),i.icon&&(e.table+='<i class="'+i.icon+'"></i>'),e.table+="</div>"),e.table+='\n            <div class="commandButtons">\n              <div class="hamburgerMenu\n                  '+("radio-favourites"===i.type||"radio-category"===i.type||"title"===i.type||"streaming-category"===i.type||"item-no-menu"===i.type?"hidden":"")+'">\n                <button class="dropdownToggle btn-link"\n                    onclick="'+t+".hamburgerMenuClick(this, "+n+", "+a+', event)"\n                    title="Options...">\n                  <i class="fa fa-ellipsis-v"></i>\n                </button>\n              </div>\n            </div>',e.table+='\n            <div class="description breakMe"\n                onclick="'+t+".clickListItemByIndex("+n+", "+a+')">',e.table+=i.tagImage?'<img class="tag-image" src="'+e.playerService.getAlbumart(i.tagImage)+'" alt=""/>\n                    <div class="title tagImage">\n                      '+(i.title?i.title:"")+"\n                    </div>":'<div class="title '+(i.artist||i.album?"":"onlyTitle")+'">\n                    '+(i.title?i.title:"")+"\n                  </div>",e.table+='<div class="artist-album '+(i.artist||i.album?"":"onlyTitle")+'">\n                '+(i.artist?i.artist:"")+" "+(i.album?"- "+i.album:"")+"\n              </div>\n            </div>",e.table+="</div></div>"}),e.table+="</div>"}),e.table+='<div class="clearfix"></div>',e.$timeout(function(){var t=document.querySelector(".browseTable");t.style.display="none",t.innerHTML=e.table,t.style.display="block",e.applyGridStyle(),e.$rootScope.$broadcast("browseController:listRendered")},50,!1)},0):!1}},{key:"applyGridStyle",value:function(){var e=this,t=document.querySelectorAll(".listWrapper");this.browseService.lists.forEach(function(i,n){e.browseService.canShowGridView(i)?t[n].classList.add("grid"):t[n].classList.remove("grid")})}},{key:"toggleGridView",value:function(){this.browseService.toggleGridView(),this.applyGridStyle()}},{key:"initController",value:function(){var e=this,t=this.backListener.bind(this);this.$document[0].addEventListener("keydown",t,!1),this.$scope.$on("$destroy",function(){e.$document[0].removeEventListener("keydown",t,!1)}),this.$scope.$watch(function(){return e.$stateParams.isDedicatedSearch},function(t){t?e.setDedicatedSearch():e.unsetDedicatedSearch()},!0)}},{key:"setDedicatedSearch",value:function(){this.isDedicatedSearchView=!0,this.browseService.isSearching=!0,this.browseService.lists=[],this.$timeout(function(){document.querySelector("#search-input-form").focus()},100)}},{key:"unsetDedicatedSearch",value:function(){this.browseService.isSearching&&(this.isDedicatedSearchView=!1,this.browseService.isSearching=!1,this.browseService.isBrowsing?this.browseService.lastBrowseLists&&(this.browseService.lists=this.browseService.lastBrowseLists):this.browseService.lists=void 0)}},{key:"backListener",value:function(){var e=void 0;if(8===event.keyCode){var t=event.srcElement||event.target;e="INPUT"===t.tagName.toUpperCase()&&("TEXT"===t.type.toUpperCase()||"PASSWORD"===t.type.toUpperCase()||"FILE"===t.type.toUpperCase()||"SEARCH"===t.type.toUpperCase()||"EMAIL"===t.type.toUpperCase()||"NUMBER"===t.type.toUpperCase()||"DATE"===t.type.toUpperCase())||"TEXTAREA"===t.tagName.toUpperCase()?t.readOnly||t.disabled:!0}e&&(event.preventDefault(),this.browseService.breadcrumbs&&this.fetchLibrary({uri:this.browseService.breadcrumbs.uri},!0))}},{key:"isVolumio3Theme",value:function(){return"volumio3"===this.themeManager.theme}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c,u,d,v,p,m,h,f,g,b,y,S,k,w){"ngInject";var _=this;i(this,e),this.$log=p,this.browseService=n,this.playQueueService=a,this.playlistService=r,this.socketService=o,this.modalService=s,this.playerService=m,this.$timeout=l,this.matchmediaService=c,this.$compile=u,this.$document=d,this.$scope=t,this.$rootScope=v,this.uiSettingsService=h,this.themeManager=g,this.$stateParams=b,this.isDedicatedSearchView=!1,this.historyUri=[],this.mockService=y,this.listViewSetting="list",this.mockArtistPage=y._mock.browseMusic.getArtistPageContent,this.mockAlbumPage=y._mock.browseMusic.getAlbumPageContent,this.$http=S,this.authService=k,this.filteredTranslate=w("translate"),this.content={},this.loadingCredit={},this.hideInfoHeader=!1,this.creditRequestOptions={timeout:7e3},t.$on("browseService:fetchEnd",function(){_.renderBrowsePage(_.browseService.lists)}),(this.browseService.isBrowsing||this.browseService.isSearching)&&this.browseService.lists&&this.renderBrowsePage(this.browseService.lists),t.$on("browseService:eject",function(){_.backHome()}),t.$on("browseService:rip",function(){_.backHome()}),this.initController()}return e.$inject=["$scope","browseService","playQueueService","playlistService","socketService","modalService","$timeout","matchmediaService","$compile","$document","$rootScope","$log","playerService","uiSettingsService","$state","themeManager","$stateParams","mockService","$http","authService","$filter"],n(e,[{key:"initController",value:function(){var e=this;this.socketService.on("pushBrowseLibrary",function(t){e.fetchAdditionalMetas(),e.fetchTrackTypeImage()}),this.browseService.info&&(this.currentItemMetas={},this.browseService.info.type&&"artist"===this.browseService.info.type&&this.browseService.info.title?this.getArtistMetas(this.browseService.info):this.browseService.info.artist&&this.browseService.info.album&&(this.getAlbumMetas(this.browseService.info),this.getAlbumCredits(this.browseService.info)));var t=this.backListener.bind(this);this.$document[0].addEventListener("keydown",t,!1),this.$scope.$on("$destroy",function(){e.$document[0].removeEventListener("keydown",t,!1)}),this.$scope.$watch(function(){return e.$stateParams.isDedicatedSearch},function(t){t?e.setDedicatedSearch():e.unsetDedicatedSearch()},!0)}},{key:"setDedicatedSearch",value:function(){this.isDedicatedSearchView=!0,this.browseService.isSearching=!0,this.browseService.lists=[],this.hideInfoHeader=!0,this.resetBrowsePage(),this.$timeout(function(){document.querySelector("#search-input-form").focus()},100)}},{key:"unsetDedicatedSearch",value:function(){this.hideInfoHeader=!1,this.browseService.isSearching&&(this.isDedicatedSearchView=!1,this.browseService.isSearching=!1,this.browseService.isBrowsing?this.browseService.lastBrowseLists&&(this.browseService.lists=this.browseService.lastBrowseLists,this.renderBrowsePage(this.browseService.lists)):(this.browseService.lists=void 0,this.resetBrowsePage()))}},{key:"backListener",value:function(){var e=void 0;if(8===event.keyCode){var t=event.srcElement||event.target;e="INPUT"===t.tagName.toUpperCase()&&("TEXT"===t.type.toUpperCase()||"PASSWORD"===t.type.toUpperCase()||"FILE"===t.type.toUpperCase()||"SEARCH"===t.type.toUpperCase()||"EMAIL"===t.type.toUpperCase()||"NUMBER"===t.type.toUpperCase()||"DATE"===t.type.toUpperCase())||"TEXTAREA"===t.tagName.toUpperCase()?t.readOnly||t.disabled:!0}e&&(event.preventDefault(),this.browseService.breadcrumbs&&this.fetchLibrary({uri:this.browseService.breadcrumbs.uri},!0))}},{key:"fetchLibrary",value:function(e){var t=void 0===arguments[1]?!1:arguments[1];return this.$log.debug(e),"/"===e.uri&&t?void this.backHome():void("cd"!==e.uri&&this.browseService.fetchLibrary(e,t))}},{key:"goBack",value:function(){this.resetBrowsePage(),this.browseService.goBack()}},{key:"backHome",value:function(){this.resetBrowsePage(),this.searchField="",this.browseService.backHome(),this.browseService.info=null}},{key:"clickBack",value:function(){this.browseService.breadcrumbs?this.fetchLibrary({uri:this.browseService.breadcrumbs.uri},!0):this.backHome()}},{key:"addWebRadio",value:function(e){var t="app/browse/components/modal/modal-web-radio.html",i="ModalWebRadioController",n={title:"Add web radio",item:e};this.modalService.openModal(i,t,n,"sm")}},{key:"editWebRadio",value:function(e){this.addWebRadio(e)}},{key:"safeRemoveDrive",value:function(e){this.socketService.emit("safeRemoveDrive",e)}},{key:"updateFolder",value:function(e){this.socketService.emit("updateDb",e)}},{key:"deleteFolder",value:function(e,t){this.socketService.emit("deleteFolder",{curUri:e,item:t})}},{key:"search",value:function(){var e=this;this.searchField&&this.searchField.length>=3?(this.browseService.isSearching=!0,this.searchTimeoutHandler&&this.$timeout.cancel(this.searchTimeoutHandler),this.searchTimeoutHandler=this.$timeout(function(){var t={};t=e.isDedicatedSearchView?{type:e.browseService.filterBy,value:e.searchField}:{type:e.browseService.filterBy,value:e.searchField,plugin_name:e.browseService.currentFetchRequest.plugin_name,plugin_type:e.browseService.currentFetchRequest.plugin_type,uri:e.browseService.currentFetchRequest.uri,service:e.browseService.currentFetchRequest.service},e.$log.debug("search",t),e.socketService.emit("search",t)},600,!1)):(this.browseService.isSearching=!1,this.browseService.lists=[])}},{key:"searchSubmit",value:function(e){e.preventDefault(),this.$document[0].activeElement.blur()}},{key:"showHamburgerMenu",value:function(e){var t="radio-favourites"===e.type||"radio-category"===e.type||"spotify-category"===e.type;return!t}},{key:"showPlayButton",value:function(e){if(!e)return!1;if("folder"===e.type&&e.uri&&e.uri.startsWith("music-library/")&&e.uri.split("/").length<4)return!1;var t="folder"===e.type||"song"===e.type||"mywebradio"===e.type||"webradio"===e.type||"playlist"===e.type||"cuesong"===e.type||"remdisk"===e.type||"cuefile"===e.type||"folder-with-favourites"===e.type||"internal-folder"===e.type;return t}},{key:"showAddToQueueButton",value:function(e){var t="folder"===e.type||"song"===e.type||"mywebradio"===e.type||"webradio"===e.type||"playlist"===e.type||"remdisk"===e.type||"cuefile"===e.type||"folder-with-favourites"===e.type||"internal-folder"===e.type;return t}},{key:"showAddToPlaylist",value:function(e){var t="folder"===e.type||"song"===e.type||"remdisk"===e.type||"folder-with-favourites"===e.type||"internal-folder"===e.type;return t}},{key:"showMoreStory",value:function(e){return this.checkAuthAndSubscription().authEnabled&&"superstar"!==this.checkAuthAndSubscription().plan?void this.showPremiumFeatureModal():void(e&&this.showCreditsDetails(e))}},{key:"showCreditsDetails",value:function(e){var t="app/browse-music/components/modal/modal-credits-details.html",i="ModalCreditsDetailsController",n={title:e.title,story:e.story,credits:e.credits,upgradeCta:e.upgradeCta||!1};this.modalService.openModal(i,t,n,"md")}},{key:"checkAuthAndSubscription",value:function(){var e={authEnabled:!1,plan:null};return this.authService&&(e.authEnabled=this.authService.isEnabled,this.authService.user&&(e.plan=this.authService.user.plan)),e}},{key:"timeFormat",value:function(e){var t=~~(e/3600),i=~~(e%3600/60),n=~~e%60,a="";return t>0&&(a+=""+t+":"+(10>i?"0":"")),a+=""+i+":"+(10>n?"0":""),a+=""+n}},{key:"addToFavorites",value:function(e,t){e&&e.stopPropagation(),t&&this.playlistService.addToFavourites(t)}},{key:"addToFavoritesByIndex",value:function(e,t,i){e.stopPropagation();var n=this.browseService.lists[t].items[i];this.addToFavorites(null,n)}},{key:"fetchAdditionalMetas",value:function(){this.currentItemMetas={},this.browseService.info&&(this.browseService.info.type&&"artist"===this.browseService.info.type&&this.browseService.info.title?this.getArtistMetas(this.browseService.info):this.browseService.info.artist&&this.browseService.info.album&&(this.getAlbumMetas(this.browseService.info),this.getAlbumCredits(this.browseService.info)))}},{key:"getArtistMetas",value:function(e){var t={mode:"storyArtist",artist:e.title};return this.requestMetavolumioApi(t)}},{key:"getAlbumMetas",value:function(e){var t={mode:"storyAlbum",artist:e.artist,album:e.album};return this.requestMetavolumioApi(t)}},{key:"getArtistInfo",value:function(e){var t=this;if(this.checkAuthAndSubscription().authEnabled&&"superstar"!==this.checkAuthAndSubscription().plan)return void this.showPremiumFeatureModal();if(!e.artist)return null;var i=this.socketService.host+"/api/v1/pluginEndpoint",n={endpoint:"metavolumio",data:{mode:"storyArtist",artist:e.artist}};this.currentItemMetas.artistStory?this.showCreditsDetails({title:this.browseService.info.artist,story:this.currentItemMetas.artistStory}):this.$http.post(i,n,this.creditRequestOptions).then(function(e){e.data&&e.data.success&&e.data.data&&e.data.data.value?(t.currentItemMetas.artistStory=e.data.data.value,t.showCreditsDetails({title:t.browseService.info.artist,story:t.currentItemMetas.artistStory})):t.showCreditsDetails({title:t.browseService.info.artist,story:"<h3>"+t.filteredTranslate("BROWSER.ARTIST_STORY_NOT_FOUND_FOR")+" "+t.browseService.info.artist+".</h3>"})})}},{key:"showPremiumFeatureModal",value:function(){this.showCreditsDetails({title:this.filteredTranslate("MYVOLUMIO.MODAL_DISCOVERY_PREMIUM_TITLE"),story:'\n        <h2 class="text-center">'+this.filteredTranslate("MYVOLUMIO.MODAL_DISCOVERY_PREMIUM_HEADING")+'</h2>\n        <p class="text-center">'+this.filteredTranslate("MYVOLUMIO.MODAL_DISCOVERY_PREMIUM_TEXT")+"</p>\n      ",upgradeCta:!0})}},{key:"getAlbumCredits",value:function(e){var t=this;if(this.currentItemMetas.albumCredits="",e&&e.artist&&e.album){var i=this.socketService.host+"/api/v1/pluginEndpoint",n={endpoint:"metavolumio",data:{mode:"creditsAlbum",artist:e.artist,album:e.album}};return this.$http.post(i,n,this.creditRequestOptions).then(function(e){e.data&&e.data.success&&e.data.data&&e.data.data.value&&(t.currentItemMetas.albumCredits=e.data.data.value)})}}},{key:"requestMetavolumioApi",value:function(e){var t=this,i=this.socketService.host+"/api/v1/pluginEndpoint",n={endpoint:"metavolumio",data:e};return this.$http.post(i,n,this.creditRequestOptions).then(function(e){e.data&&e.data.success&&e.data.data&&e.data.data.value&&(t.currentItemMetas.story=e.data.data.value)})}},{key:"showCreditLink",value:function(e,t){var i=this,n=this.socketService.host+"/api/v1/pluginEndpoint",a={endpoint:"metavolumio",data:{}};if(e.indexOf("mbid:/artist/")>-1)a.data.mbid=e.replace("mbid:/artist/",""),a.data.mode="storyArtist",this.loadingCredit[e]=!0;else if(e.indexOf("mbid:/label/")>-1)a.data.mbid=e.replace("mbid:/label/",""),a.data.mode="storyLabel",this.loadingCredit[e]=!0;else{if(!(e.indexOf("mbid:/place/")>-1))return;a.data.mbid=e.replace("mbid:/place/",""),a.data.mode="storyPlace",this.loadingCredit[e]=!0}return this.$http.post(n,a,this.creditRequestOptions).then(function(n){return n.data&&n.data.success&&n.data.data&&n.data.data.value?(i.loadingCredit[e]=!1,i.showCreditsDetails({title:t,story:n.data.data.value})):void 0})}},{key:"playMusicCardClick",value:function(e,t){e.stopPropagation(),this.play(t)}},{key:"playRenderedMusicCardClick",value:function(e,t){var i=this.browseService.lists[e].items[t];if(i&&"song"===i.type){var n=this.browseService.lists[e].items;this.playItemsList(i,n,t)}else this.playItemsList(i)}},{key:"play",value:function(e){return"playlists"!==this.browseService.currentFetchRequest.uri?this.playQueueService.playItemsList(e):void this.playQueueService.replaceAndPlay(e)}},{key:"addToQueue",value:function(e){"playlists"===this.browseService.currentFetchRequest.uri?this.playQueueService.enqueue(e):this.playQueueService.add(e)}},{key:"replaceAndPlay",value:function(e){"cuesong"===e.type?this.playQueueService.replaceAndPlayCue(e):this.playQueueService.replaceAndPlay(e)}},{key:"addToPlaylist",value:function(e){this.playlistService.refreshPlaylists();var t="app/browse/components/modal/modal-playlist.html",i="ModalPlaylistController",n={title:"Add to playlist",item:e};this.modalService.openModal(i,t,n,"sm")}},{key:"showAlbumCredits",value:function(){if(this.checkAuthAndSubscription().authEnabled&&"superstar"!==this.checkAuthAndSubscription().plan)return void this.showPremiumFeatureModal();var e={title:this.browseService.info.album,credits:this.currentItemMetas.albumCredits};this.showCreditsDetails(e)}},{key:"playAlbumItemClick",value:function(e,t,i){return this.playQueueService.playItemsList(e,t,i)}},{key:"preventBubbling",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"clickListItem",value:function(e,t,i){"song"!==e.type&&"webradio"!==e.type&&"mywebradio"!==e.type&&"cuesong"!==e.type&&"album"!==e.type&&"artist"!==e.type&&"cd"!==e.type&&"play-playlist"!==e.type?this.fetchLibrary(e):"webradio"===e.type||"mywebradio"===e.type||"album"===e.type||"artist"===e.type?this.play(e,t,i):"song"===e.type?this.playItemsList(e,t,i):"cuesong"===e.type?this.playQueueService.addPlayCue(e):"cd"===e.type?this.playQueueService.replaceAndPlay(e):"play-playlist"===e.type&&this.playQueueService.playPlaylist({title:e.name})}},{key:"clickListItemByIndex",value:function(e,t){var i=this.browseService.lists[e].items[t],n=this.browseService.lists[e].items;this.clickListItem(i,n,t)}},{key:"playItemsList",value:function(e,t,i){return this.playQueueService.playItemsList(e,t,i)}},{key:"addAndPlayList",value:function(e,t,i){return this.playQueueService.addAndPlayList(e,t,i)}},{key:"openMusicCardContenxtList",value:function(e,t,i){e.stopPropagation();var n='\n      <div\n          uib-dropdown\n          on-toggle="browse.toggledItem(open, $event)"\n          class="hamburgerMenu">\n        <button id="hamburgerMenuBtn-'+t+"-"+i+'" class="ghost-btn action-btn" uib-dropdown-toggle>\n          <i class="fa fa-ellipsis-v"></i>\n        </button>\n        <ul class="dropdown-menu buttonsGroup align-to-right">\n          <browse-hamburger-menu\n              item="browse.browseService.lists['+t+"].items["+i+']"\n              browse="browse">\n          </browse-hamburger-menu>\n        </ul>\n      </div>\n    ';n=this.$compile(n)(this.$scope);var a=document.getElementById("hamburgerMenuBtn-"+t+"-"+i);a&&a.replaceWith(n[0]),this.$timeout(function(){document.querySelector("#hamburgerMenuBtn-"+t+"-"+i).click()},0)}},{key:"clickMusicCard",value:function(e){"song"===e.type?this.play(e):this.fetchLibrary({uri:e.uri})}},{key:"resetBrowsePage",value:function(){var e=document.getElementById("browse-page");e.innerHTML=""}},{key:"renderBrowsePage",value:function(e){var t=this,i=e.map(function(e,i){return t.renderList(e,i)}),n=document.getElementById("browse-page");n.style.display="none",n.innerHTML=i.join(""),this.$timeout(function(){t.$rootScope.$broadcast("browseController:listRendered"),n.style.display="block"},0,!1)}},{key:"renderList",value:function(e,t){var i=this.browseService.canShowGridView(e),n=this.browseService.showGridView,a="";a=n&&i?this.renderMusicCardItems(e.items,t):this.renderListItems(e.items,t);var r='\n    <div\n      class="main__source">\n      <h3 class="main__source__title panel-title '+(e.title?"":"hidden")+'">'+(e.title||"")+'</h3>\n      <div class="'+(n&&i?"main__row":"main__list")+'">\n        '+a+"\n        "+(0===a.length?'<h3 class="text-center panel-title ">No items</h3>':"")+"\n      </div> <!-- /.main__row -->\n    </div> <!-- /.main__source -->\n    ";return r}},{key:"renderMusicCardItems",value:function(e,t){var i=this,n="angular.element('#browse-page').scope().browse",a=e.map(function(e,a){return'\n    <div class="music-card__wrapper">\n      <div class="music-card" onclick="'+n+".clickListItemByIndex("+t+", "+a+')">\n        <div class="music-card__header">\n            <img\n                class="music-card__img '+(e.albumart?"":"hidden")+'"\n                src="'+i.playerService.getAlbumart(e.albumart)+'"\n                alt="">\n            <div\n              class="music-card__img-icon '+(e.icon?"":"hidden")+'">\n              <i class="'+e.icon+'"></i>\n            </div>\n            <div\n                class="music-card__overlay">\n                <div class="meta__genre">'+(e.genre||"")+'</div>\n                <div\n                    onclick="'+n+'.preventBubbling(event)"\n                    class="meta__actions '+("radio-favourites"===e.type||"radio-category"===e.type||"spotify-category"===e.type||"title"===e.type||"streaming-category"===e.type||"item-no-menu"===e.type?"hidden":"")+'">\n                    <button\n                        id="hamburgerMenuBtn-'+t+"-"+a+'"\n                        onclick="'+n+".openMusicCardContenxtList(event, "+t+", "+a+')"\n                        class="ghost-btn action-btn">\n                        <i class="fa fa-ellipsis-v"></i>\n                    </button>\n                </div>\n                <div\n                  class="meta__play '+(i.showPlayButton(e)?"":"hidden")+'"\n                  onclick="'+n+'.preventBubbling(event)">\n                    <button\n                        onclick="'+n+".playRenderedMusicCardClick("+t+", "+a+')"\n                        class="ghost-btn play-btn">\n                        <i class="fa fa-play play-btn__icon"></i>\n                    </button>\n                </div>\n                <div\n                    onclick="'+n+".addToFavoritesByIndex(event, "+t+", "+a+')"\n                    class="meta__favorite '+(!i.showPlayButton(e)||"song"!==e.type&&"folder-with-favourites"!==e.type||"favourites"===i.browseService.currentFetchRequest.uri||e.favourite?"hidden":"")+" "+(e.favorite?"favorited":"")+'">\n                    <span class="meta__favorite-heart">\n                        <i class="fa fa-heart"></i>\n                    </span>\n                </div>\n            </div>\n        </div>\n        <div class="music-card__info">\n            <div\n                class="music-card__label '+("HI_RES"===e.qualityDescription?"mr-2":"")+'"\n                title="'+(e.title||"")+'">\n                    '+(e.title||"")+'\n            </div>\n\n            <img class="music-card__extension '+(e.tagImage?"":"hidden")+'" src="'+i.playerService.getAlbumart(e.tagImage)+'">\n        </div>\n        <p class="music-card__meta">'+(e.meta||e.artist||"")+"</p>\n      </div>\n    </div>\n    "}),r=a.join("");return r+='\n      <div class="music-card__wrapper placeholder-wrapper"></div>\n      <div class="music-card__wrapper placeholder-wrapper"></div>\n      <div class="music-card__wrapper placeholder-wrapper"></div>\n      <div class="music-card__wrapper placeholder-wrapper"></div>\n      <div class="music-card__wrapper placeholder-wrapper"></div>\n      <div class="music-card__wrapper placeholder-wrapper"></div>\n    '}},{key:"renderListItems",value:function(e,t){var i=this,n="angular.element('#browse-page').scope().browse",a=e.map(function(e,a){return'\n      <div class="album__tracks">\n        <div class="music-item '+("title"===e.type?"title":"")+'" onclick="'+n+".clickListItemByIndex("+t+", "+a+')">\n          <div\n            onclick="'+n+'.preventBubbling(event)"\n            class="item__play '+(i.showPlayButton(e)?"":"hidden")+'">\n              <button\n                  onclick="'+n+".playRenderedMusicCardClick("+t+", "+a+')"\n                  class="ghost-btn play-btn">\n                  <i class="fa fa-play play-btn__icon"></i>\n              </button>\n          </div>\n\n          <div class="item__image">\n              <div class="item__number '+(e.tracknumber&&!e.albumart?"":"hidden")+'">'+e.tracknumber+'.</div>\n              <div class="item__albumart '+(e.albumart?"":"hidden")+'">\n                  <img class="item__image__img" src="'+i.playerService.getAlbumart(e.albumart)+'" alt="">\n              </div>\n              <div\n                class="item__albumart-icon '+(e.icon?"":"hidden")+'">\n                <i class="'+e.icon+'"></i>\n              </div>\n          </div>\n\n          <div class="item__info">\n              <div class="item__title truncate-text" title="'+(e.title||"")+'">\n                  '+(e.title||"")+' <img class="music-card__extension tagrow'+(e.tagImage?"":"hidden")+'" src="'+i.playerService.getAlbumart(e.tagImage)+'">\n              </div>\n              <div class="item__album truncate-text '+(e.album?"":"hidden")+'" title="'+(e.album||"")+'">\n                  '+(e.album||"")+'\n              </div>\n              <div class="item__info__separator '+(e.album&&e.artist?"":"hidden")+'">\n                  •\n              </div>\n              <div class="item__artist truncate-text '+(e.artist?"":"hidden")+'" title="'+(e.artist||"")+'">\n                  '+(e.artist||"")+'\n              </div>\n          </div>\n\n          <div\n              onclick="'+n+".addToFavoritesByIndex(event, "+t+", "+a+')"\n              class="item__favorite '+(!i.showPlayButton(e)||"song"!==e.type&&"folder-with-favourites"!==e.type||"favourites"===i.browseService.currentFetchRequest.uri||e.favourite?"hidden":"")+" "+(e.favorite?"favorited":"")+'">\n              <span class="item__favorite-heart">\n                  <i class="fa fa-heart"></i>\n              </span>\n          </div>\n\n          <div\n              class="item__duration '+(e.duration?"":"hidden")+'">\n                  '+i.timeFormat(e.duration)+'\n          </div>\n\n          <div\n              onclick="'+n+'.preventBubbling(event)"\n              class="item__actions '+("radio-favourites"===e.type||"radio-category"===e.type||"spotify-category"===e.type||"title"===e.type||"streaming-category"===e.type||"item-no-menu"===e.type?"hidden":"")+'">\n              <button\n                  id="hamburgerMenuBtn-'+t+"-"+a+'"\n                  onclick="'+n+".openMusicCardContenxtList(event, "+t+", "+a+')"\n                  class="ghost-btn action-btn">\n                  <i class="fa fa-ellipsis-v"></i>\n              </button>\n          </div>\n      </div>\n    </div>\n    ';

});return a.join("")}},{key:"toggleGridView",value:function(){this.browseService.toggleGridView(),this.renderBrowsePage(this.browseService.lists)}},{key:"isVolumio3Theme",value:function(){return"volumio3"===this.themeManager.theme}},{key:"fetchTrackTypeImage",value:function(){this.browseService.info&&this.browseService.info.trackType&&(this.browseService.info.fileFormat="",this.browseService.info.fileFormat=this.loadFileFormatIcon(this.browseService.info.trackType))}},{key:"loadFileFormatIcon",value:function(e){return this.playerService.loadFileFormatIcon(e)}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r){"ngInject";var o=this;i(this,e),this.playerService=n,this.matchmediaService=a,this.$state=r,this.previousState="volumio.browse",t.$on("$stateChangeStart",function(e,t,i,n,a){o.previousState=n.name})}return e.$inject=["$rootScope","playerService","matchmediaService","$state"],n(e,[{key:"goBack",value:function(){this.$state.go(this.previousState)}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l){"ngInject";var c=this;i(this,e),this.playQueueService=a,this.matchmediaService=o,this.socketService=r,this.playerService=s,this.$document=l,this.$log=n,this.$scope=t,this.init(),this.renderPlayQueueTable(),t.$on("playQueueService:pushQueue",function(){c.renderPlayQueueTable()})}return e.$inject=["$scope","$log","playQueueService","socketService","matchmediaService","playerService","$document"],n(e,[{key:"renderPlayQueueTable",value:function(){var e=this;if(!this.playQueueService.queue||0===this.playQueueService.queue.length)return angular.element("#playQueueList ul").replaceWith(document.createElement("ul")),!1;this.list="";for(var t="angular.element('#playQueueList').scope().playQueue",i=0,n=this.playQueueService.queue.length;n>i;i++){var a=this.playQueueService.queue[i];this.list+='\n      <li id="itemQueue-'+i+'">\n        <div class="image"\n            onclick="'+t+".playQueueService.play("+i+')">\n          <span class="rollover"></span>',this.list+=a.icon?'<i class="'+a.icon+'"></i>':'<img src="'+this.playerService.getAlbumart(a.albumart)+'" alt="'+a.title+'"/>',this.list+="</div>",this.list+='<div class="titleArtist" onclick="'+t+".playQueueService.play("+i+')">\n          <div class="title">\n            '+a.name+"\n          </div>",(a.artist||a.album)&&(this.list+='<div class="artist-album">\n            '+a.artist+(a.album?" - "+a.album:"")+"\n          </div>"),this.list+="</div>",this.list+='<div class="commandButtons">\n          <button\n              class="btn-link"\n              onclick="'+t+".playQueueService.remove("+i+')">\n            <i class="fa fa-times-circle"></i>\n          </button>\n        </div>\n      </li>'}var r=document.createElement("ul");angular.element(r).append(this.list),angular.element("#playQueueList ul").replaceWith(r);var o=document.querySelector("#playQueueList ul");if(this.hilightCurrentTrack(!0),o){Sortable.create(o,{onEnd:function(t){var i={from:t.oldIndex,to:t.newIndex},n=e.$document[0].getElementById("itemQueue-"+t.oldIndex);n.classList.remove("sorting"),e.socketService.emit("moveQueue",i)},onStart:function(t){var i=e.$document[0].getElementById("itemQueue-"+t.oldIndex);i.classList.add("sorting")},animation:250,delay:150})}}},{key:"hilightCurrentTrack",value:function(){var e=void 0===arguments[0]?!1:arguments[0];if(!this.playerService.state)return!1;var t=this.playerService.state.position,i=this.$document[0].querySelector(".isPlaying");i&&i.classList.remove("isPlaying");var n=this.$document[0].getElementById("itemQueue-"+t);n&&"play"===this.playerService.state.status&&(n.classList.add("isPlaying"),e&&n.scrollIntoView())}},{key:"init",value:function(){this.registerListner()}},{key:"registerListner",value:function(){var e=this,t=this.$scope.$on("socket:pushState",function(){e.hilightCurrentTrack()});this.$scope.$on("$destroy",function(){t()})}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t){"ngInject";i(this,e),this.$stateParams=t,this.init()}return e.$inject=["$stateParams"],n(e,[{key:"init",value:function(){this.pluginName=this.$stateParams.pluginName.replace("-","/")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c,u,d){"ngInject";i(this,e),this.socketService=n,this.$scope=t,this.$log=r,this.Upload=o,this.$state=s,this.modalService=l,this.$timeout=c,this.$translate=u,this.themeManager=d,this.activeTab=0,this.init()}return e.$inject=["$scope","socketService","mockService","$log","Upload","$state","modalService","$timeout","$translate","themeManager"],n(e,[{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"enableDisablePlugin",value:function(e){var t={name:e.name,category:e.category,action:e.active?"disable":"enable"};this.$log.debug("emit pluginManager",t),this.socketService.emit("pluginManager",t)}},{key:"showPluginSettings",value:function(e){this.$state.go("volumio.plugin",{pluginName:""+e.category+"-"+e.name,isPluginSettings:!0})}},{key:"showPluginCategory",value:function(e){this.selectedCategory=e}},{key:"installPlugin",value:function(e){var t=this,i={url:e.url,name:e.name,category:this.selectedCategory.name};this._openInstallerModal(),this.$timeout(function(){t.$log.debug("emit installPlugin",i),t.socketService.emit("installPlugin",i)},300)}},{key:"updatePlugin",value:function(e){var t=this,i={url:e.url,name:e.name,prettyName:e.prettyName,category:this.selectedCategory.name};this._openInstallerModal(),this.$timeout(function(){t.$log.debug("emit updatePlugin",i),t.socketService.emit("updatePlugin",i)},300)}},{key:"unInstallPlugin",value:function(e){var t=this,i={name:e.name,category:e.category};this.$log.debug("emit preUninstallPlugin",i),this.socketService.emit("preUninstallPlugin",i),this.socketService.on("installPluginStatus",function(e){t.socketService.off("installPluginStatus"),t._openInstallerModal(e)})}},{key:"showPluginDetails",value:function(e){var t={name:e.name,category:this.selectedCategory.name};this.$log.debug("emit getPluginDetails",t),this.socketService.emit("getPluginDetails",t)}},{key:"uploadPlugin",value:function(){var e=this;this.Upload.upload({url:""+this.socketService.host+"/plugin-upload",data:{filename:this.pluginFile}}).then(function(t){e.uploadPercentage=!1},function(t){e.uploadPercentage=!1,e.$log.debug("Error status: "+t.status)},function(t){e.uploadPercentage=parseInt(100*t.loaded/t.total),100===e.uploadPercentage&&(e.uploadPercentage=!1,e.activeTab=0,e._openInstallerModal())})}},{key:"_openInstallerModal",value:function(e){this.modalService.openModal("ModalPluginInstallerController","app/plugin-manager/components/modals/modal-plugin-installer.html",e,"lg")}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushInstalledPlugins",function(t){e.$log.debug("pushInstalledPlugins",t),e.installedPlugins=t}),this.socketService.on("pushAvailablePlugins",function(t){e.$log.debug("pushAvailablePlugins",t),e.availablePlugins=t,e.selectedCategory=e.availablePlugins.categories[0]}),this.$scope.$on("$destroy",function(){e.socketService.off("pushInstalledPlugins"),e.socketService.off("pushAvailablePlugins")})}},{key:"initService",value:function(){this.socketService.emit("getInstalledPlugins"),this.socketService.emit("getAvailablePlugins")}},{key:"goBack",value:function(){window.history.back()}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c,u,d,v,p,m){"ngInject";i(this,e),this.$log=t,this.mockService=a,this.$state=r,this.$scope=n,this.socketService=o,this.$translate=s,this.$window=c,this.uiSettingsService=l,this.matchmediaService=u,this.modalService=v,this.filteredTranslate=p("translate"),this.themeManager=d,this.authService=m,this.init()}return e.$inject=["$log","$scope","mockService","$state","socketService","$translate","uiSettingsService","$window","matchmediaService","themeManager","modalService","$filter","authService"],n(e,[{key:"init",value:function(){var e=this;this.$window.contentWrapper.style.zIndex=5,this.$window.wizardScrim.style.display="block",this.registerListner(),this.initService(),this.wizardDetails={steps:[]},this.wizardData={deviceName:"",showI2sOption:!1},this.$scope.$on("$destroy",function(){try{e.$window.contentWrapper.style.zIndex=1,e.$window.wizardScrim.style.display="none"}catch(t){}})}},{key:"gotoStep",value:function(e){var t=void 0;switch(this.$log.debug("go from step",this.currentStep.name.toLowerCase()),this.currentStep.name.toLowerCase()){case"language":this.$log.debug("setLanguage",this.wizardDetails.language),this.wizardDetails.language.disallowReload=!0,this.socketService.emit("setLanguage",this.wizardDetails.language),this.socketService.emit("getWirelessNetworks",""),this.$translate.use(this.wizardDetails.language.defaultLanguage.code);break;case"name":this.deviceNameform.$valid&&(this.$log.debug("setDeviceName",this.wizardDetails.deviceName),this.socketService.emit("setDeviceName",this.wizardDetails.deviceName));break;case"output":t=this.wizardDetails.outputDevices.i2s&&this.wizardDetails.outputDevices.i2s.enabled?{i2s:!0,i2sid:{value:this.wizardData.selectedI2s.id,label:this.wizardData.selectedI2s.name},output_device:{value:1,label:this.wizardData.selectedI2s.name}}:{i2s:!1,output_device:{value:this.wizardData.selectedDevice.id,label:this.wizardData.selectedDevice.name}},this.$log.debug("setOutputDevices",t),this.socketService.emit("setOutputDevices",t);break;case"advancedsettings":this.$log.debug("setExperienceAdvancedSettings",this.wizardDetails.experienceAdvancedSettings.status.id),this.socketService.emit("setExperienceAdvancedSettings",this.wizardDetails.experienceAdvancedSettings.status.id)}switch(this.currentStep=e,this.currentStep.name.toLowerCase()){case"name":this.wizardDetails.deviceName||this.socketService.emit("getDeviceName");break;case"output":this.socketService.emit("getOutputDevices");break;case"advancedsettings":this.socketService.emit("getExperienceAdvancedSettings");break;case"devicecode":this.socketService.emit("getDeviceActivationStatus");break;case"done":this.socketService.emit("getDonePage")}}},{key:"setDonationAmount",value:function(e){this.wizardData.donationAmount=e}},{key:"subscribeToMailList",value:function(){var e=this;this.mailListForm.$valid&&this.CgMailChimpService.subscribe(this.wizardData.mailListData).then(function(){e.wizardData.mailListSubscribed=!0},function(t){e.$log.log("Mailchimp subscription error",t)})}},{key:"gotoNextStep",value:function(){this.gotoStep(this.wizardDetails.steps[this.getStepIndex()+1])}},{key:"gotoPrevStep",value:function(){this.gotoStep(this.wizardDetails.steps[this.getStepIndex()-1])}},{key:"getStepIndex",value:function(){var e=void 0===arguments[0]?this.currentStep:arguments[0];return this.wizardDetails.steps.indexOf(e)}},{key:"isLastStep",value:function(){return this.getStepIndex(this.currentStep)===this.wizardDetails.steps.length-1}},{key:"isPersistentWizard",value:function(){return this.uiSettingsService.uiSettings&&this.uiSettingsService.uiSettings.persistentWizard===!0?!0:!1}},{key:"isFirstStep",value:function(){return 0===this.getStepIndex(this.currentStep)}},{key:"getStepPos",value:function(){return this.getStepIndex(this.currentStep)+1+"/"+this.wizardDetails.steps.length}},{key:"goToAccountSetup",value:function(){return this.socketService.emit("setWizardAction",{action:"close"}),this.$state.go("myvolumio.signup")}},{key:"isAccountSetupRequired",value:function(){return this.authService.isEnabled&&null===this.authService.user?!0:!1}},{key:"done",value:function(){this.$state.go("volumio.playback"),this.socketService.emit("setWizardAction",{action:"close"})}},{key:"skipWizard",value:function(){this.socketService.emit("setWizardAction",{action:"skip"}),this.$state.go("volumio.playback")}},{key:"addToBookmark",value:function(e){var t=window.location.href,i=document.title;if("addToHomescreen"in window&&window.addToHomescreen.isCompatible)window.addToHomescreen({autostart:!1,startDelay:0}).show(!0);else if(window.sidebar&&window.sidebar.addPanel)window.sidebar.addPanel(i,t,"");else{if(window.sidebar&&/Firefox/i.test(navigator.userAgent)||window.opera&&window.print)return $(this).attr({href:t,title:i,rel:"sidebar"}).off(e),!0;window.external&&"AddFavorite"in window.external?window.external.AddFavorite(t,i):alert("Press "+(/Mac/i.test(navigator.userAgent)?"Cmd":"Ctrl")+"+D to bookmark this page.")}}},{key:"donate",value:function(e){var t="app/components/modals/modal-crypto.html",i="ModalCryptoController",n={name:"Bitcoin",address:"3HxbUDkrQAuX2XPPLg8xYNuEA8tJ2s6UjF"};switch(e){case"ltc":n={name:"Litecoin",address:"LKjJWNwYMGfhmCRBj11yLFjfM1yG3TKTCZ",alias:"ltc"};break;case"xrp":n={name:"Ripple",address:"rnCRvU45awv3ZySymzLCLFq3HCKfma2Utb",alias:"xrp"};break;default:n={name:"Bitcoin",address:"3HxbUDkrQAuX2XPPLg8xYNuEA8tJ2s6UjF",alias:"btc"}}this.modalService.openModal(i,t,n,"md")}},{key:"setBrowserLangAsDefault",value:function(){var e=this.uiSettingsService.getBrowserDefaultLanguage(),t=this.wizardDetails.language.available.find(function(t){return t.code===e});t?(this.wizardDetails.language.defaultLanguage=t,this.$translate.use(t.code)):this.$translate.use("en")}},{key:"setDeviceCode",value:function(){var e={code:this.wizardDetails.deviceCode.code};this.socketService.emit("setDeviceActivationCode",e)}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushWizardSteps",function(t){e.$log.debug("pushWizardSteps",t),e.wizardDetails.steps=t,e.currentStep=e.wizardDetails.steps[0]}),this.socketService.on("pushAvailableLanguages",function(t){e.$log.debug("pushAvailableLanguages",t),e.wizardDetails.language=t,e.wizardData.defaultLanguage=e.wizardDetails.language.defaultLanguage.code,e.setBrowserLangAsDefault()}),this.socketService.on("pushDeviceName",function(t){e.$log.debug("pushDeviceName",t),e.wizardDetails.deviceName=t}),this.socketService.on("pushOutputDevices",function(t){e.$log.debug("pushOutputDevices",t),e.wizardDetails.outputDevices=t,e.wizardData.selectedDevice={name:t.devices.active.name,id:t.devices.active.id},t.i2s&&t.i2s.enabled&&(e.wizardData.selectedI2s={name:t.i2s.active})}),this.socketService.on("pushDonePage",function(t){e.$log.debug("pushDonePage",t),e.wizardDetails.done=t,t.donation&&e.setDonationAmount(t.donationAmount.donationAmount)}),this.socketService.on("pushDeviceActivationCodeResult",function(t){e.$log.debug("pushDeviceActivationCodeResult",t),e.wizardDetails.deviceCode.activated=t.activated,e.wizardDetails.deviceCode.error=t.error}),this.socketService.on("pushDeviceActivationStatus",function(t){e.$log.debug("pushDeviceActivationStatus",t),e.wizardDetails.deviceCode={},e.wizardDetails.deviceCode.alreadyActivated=t.alreadyActivated,e.wizardDetails.deviceCode.message=e.filteredTranslate(t.message)+" "+t.plan,t.email&&(e.wizardDetails.deviceCode.message=e.wizardDetails.deviceCode.message+" "+e.filteredTranslate("MYVOLUMIO.AND_ASSOCIATED_WITH_ACCOUNT")+" "+t.email)}),this.socketService.on("pushExperienceAdvancedSettings",function(t){e.$log.debug("pushExperienceAdvancedSettings",t),e.wizardDetails.experienceAdvancedSettings=t}),this.socketService.on("closeWizard",function(){e.$log.debug("closeWizard")}),this.$scope.$on("$destroy",function(){e.socketService.off("pushWizardSteps"),e.socketService.off("pushAvailableLanguages"),e.socketService.off("pushDeviceName")})}},{key:"initService",value:function(){this.socketService.emit("getWizardSteps"),this.socketService.emit("getAvailableLanguages")}},{key:"isVolumio3Theme",value:function(){return"volumio3"===this.themeManager.theme}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function a(e){"ngInject";i(this,a),this.$state=e};n.$inject=["$state"],t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c,u,d,v,p){"ngInject";var m=this;i(this,e),this.$rootScope=n,this.$state=r,this.$window=u,this.socketService=a,this.modalService=o,this.playerService=s,this.visible=!1,this.themeManager=l,this.$log=c,this.$scope=t,this.uiSettingsService=d,this.authService=v,this.matchmedia=p,this.menuItemsSettings=[],n.$on("socket:init",function(){m.init()}),n.$on("socket:reconnect",function(){m.initService()}),this.init()}return e.$inject=["$scope","$rootScope","socketService","$state","modalService","playerService","themeManager","$log","$window","uiSettingsService","authService","matchmediaService"],n(e,[{key:"init",value:function(){var e=this;this.registerListner(),this.initService(),this.watcherHandler=this.$scope.$watch(function(){return e.playerService&&e.playerService.state&&e.playerService.state.service},function(t){t&&(e.analogIn="analogin"===e.playerService.state.service,e.bluetooth="bluetoth"===e.playerService.state.service)})}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushMenuItems",function(t){e.$log.debug("pushMenuItems",t),e.menuItems=t,e.menuItemsSettings=t.filter(e.isMenuSetting),e.checkEnableMyVolumio()}),this.$scope.$on("$destroy",function(){e.socketService.off("pushMenuItems")})}},{key:"initService",value:function(){this.socketService.emit("getMenuItems")}},{key:"toggleAnalogInput",value:function(){this.socketService.emit("callMethod",{endpoint:"system_controller/gpios",method:"DASwitchPress"})}},{key:"toggleBluetooth",value:function(){this.socketService.emit("callMethod",{endpoint:"audio_interface/bluetooth",method:"BTpress"})}},{key:"isMenuSetting",value:function(e){return"link"!==e.id&&"plugin-manager"!==e.id&&"shutdown"!==e.id?!0:!1}},{key:"itemClick",value:function(e){if("modal"===e.id||"shutdown"===e.id){var t=e.params.modalName.split("-").map(function(e){return e[0].toUpperCase()+e.slice(1,e.length)}).join(""),i="app/components/side-menu/elements/"+e.params.modalName+".html";this.$log.debug(t),this.modalService.openModal(t+"Controller",i,e,e.params.modalSize||"lg")}else if("link"===e.id)this.$window.open(e.params.url);else if("static-page"===e.id)this.$state.go("volumio.static-page",{pageName:e.pageName});else if(e.state)if(e.params){for(var n in e.params)e.params[n]=String(e.params[n]).replace("/","-");this.$state.go(e.state,e.params)}else this.$state.go(e.state);else this.$state.go(e.state)}},{key:"checkEnableMyVolumio",value:function(){this.isAuthActive()&&this.authService.enableAuth()}},{key:"isAuthActive",value:function(){return this.isPluginActiveById("my-volumio")}},{key:"isPluginActiveById",value:function(e){for(var t in this.menuItems){var i=this.menuItems[t];if(i.hasOwnProperty("id")&&i.id===e)return!0}return!1}},{key:"isMyVolumioVisible",value:function(){return!0}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r){"ngInject";i(this,e),this.socketService=t,this.$uibModalInstance=n,this.playlistService=a,this.dataObj=r}return e.$inject=["socketService","$uibModalInstance","playlistService","dataObj"],n(e,[{key:"addToFavourites",value:function(){this.playlistService.addToFavourites(this.dataObj.item),this.$uibModalInstance.close()}},{key:"addToPlaylist",value:function(e){this.doAddToPlaylist(e)}},{key:"addToCustomPlaylist",value:function(){this.doAddToPlaylist(this.customPlaylist)}},{key:"doAddToPlaylist",value:function(e){this.dataObj.addQueue?this.playlistService.addQueueToPlaylist(e):this.playlistService.addToPlaylist(this.dataObj.item,e),this.$uibModalInstance.close()}},{key:"cancel",value:function(){this.$uibModalInstance.dismiss("cancel")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r){"ngInject";i(this,e),this.socketService=t,this.$uibModalInstance=n,this.playlistService=a,this.dataObj=r,this.addOrEdit=r.item?"edit":"add"}return e.$inject=["socketService","$uibModalInstance","playlistService","dataObj"],n(e,[{key:"addWebradio",value:function(){this.playlistService.addWebRadio(this.dataObj.item),this.$uibModalInstance.close()}},{key:"cancel",value:function(){this.$uibModalInstance.dismiss()}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o){"ngInject";i(this,e),this.$uibModalInstance=t,this.socketService=n,this.dataObj=a,this.themeManager=r}return e.$inject=["$uibModalInstance","socketService","dataObj","themeManager","$translate"],n(e,[{key:"powerOff",value:function(){this.socketService.emit("shutdown"),this.$uibModalInstance.close()}},{key:"reboot",value:function(){this.socketService.emit("reboot"),this.$uibModalInstance.close()}},{key:"cancel",value:function(){this.$uibModalInstance.dismiss("cancel")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t,i,a,r,o){"ngInject";var s=this;n(this,e),this.$uibModalInstance=t,this.socketService=i,this.dataObj=a,this.showMeridian=!1,this.$log=r,this.$translate=o,this.sleepPresets=[{text:"...",val:0}],this.preset_placeholder="Choose a preset",this.sleepTime=new Date,this.sleepTime.setHours(0,0),this.enabled=!1,o(["SLEEP.POWER_OFF","SLEEP.STOP_MUSIC","SLEEP.HR","SLEEP.MIN","SLEEP.OFF","SLEEP.CHOOSE_PRESET"]).then(function(e){s.whenSleepSelect=[{val:"stop",text:e["SLEEP.STOP_MUSIC"]},{val:"poweroff",text:e["SLEEP.POWER_OFF"]}];var t=e["SLEEP.HR"],i=e["SLEEP.MIN"];s.preset_placeholder=e["SLEEP.CHOOSE_PRESET"],s.sleepPresets=[{text:e["SLEEP.OFF"],val:0},{text:"15 "+i,val:15},{text:"30 "+i,val:30},{text:"45 "+i,val:45},{text:"1 "+t,val:60},{text:"1½ "+t,val:90},{text:"2 "+t,val:120},{text:"2½ "+t,val:150},{text:"3 "+t,val:180},{text:"4 "+t,val:240}]}),this.init()}return e.$inject=["$uibModalInstance","socketService","dataObj","$log","$translate"],a(e,[{key:"whenSleepPresetSelect",value:function(){var e=Math.floor(this.sleepPreset.val/60),t=this.sleepPreset.val%60;this.sleepTime=new Date(0,0,0,e,t,0),this.enabled=this.sleepPreset.val>0,0===this.sleepPreset.val&&(this.sleepPreset=null)}},{key:"timeChanged",value:function(){for(var e=60*this.sleepTime.getHours()+this.sleepTime.getMinutes(),t=0;t<this.sleepPresets.length;t++)if(e===this.sleepPresets[t])return void(this.sleepPreset=t);this.sleepPreset=null}},{key:"setSleep",value:function(){var e={enabled:this.enabled,time:this.sleepTime.getHours()+":"+this.sleepTime.getMinutes(),action:this.action.val};this.socketService.emit("setSleep",e),this.$log.debug("setSleep",e,this.sleepTime,this.enabled),this.$uibModalInstance.close()}},{key:"cancel",value:function(){this.$uibModalInstance.dismiss("cancel")}},{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushSleep",function(t){if(e.$log.debug("pushSleep",t),e.enabled=t.enabled,e.action=t.action,t.time){var n=new Date;n.setHours.apply(n,i(t.time.split(":"))),e.sleepTime=n}})}},{key:"initService",value:function(){this.socketService.emit("getSleep")}}]),e}();t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s){"ngInject";i(this,e),this.$uibModalInstance=t,this.socketService=n,this.dataObj=a,this.playlistService=r,this.$log=o,this.$translate=s,this.init(),this.alarms=[]}return e.$inject=["$uibModalInstance","socketService","dataObj","playlistService","$log","$translate"],n(e,[{key:"save",value:function(){this.socketService.emit("saveAlarm",this.alarms),this.$uibModalInstance.close()}},{key:"add",value:function(){this.alarms.push({enabled:!0,time:"",playlist:""}),this.$log.debug(this.alarms)}},{key:"deleteAlarm",value:function(e){this.alarms.splice(this.alarms.indexOf(e),1)}},{key:"cancel",value:function(){this.$uibModalInstance.dismiss()}},{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushAlarm",function(t){e.alarms=t})}},{key:"initService",value:function(){this.socketService.emit("getAlarms")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l){"ngInject";i(this,e),this.$uibModalInstance=t,this.updaterService=a,this.socketService=r,this.dataObj=n,this.$log=o,this.$translate=s,this.modalService=l}return e.$inject=["$uibModalInstance","dataObj","updaterService","socketService","$log","$translate","modalService"],n(e,[{key:"update",value:function(e){this.$log.debug("start update"),this.updaterService.update(e),"later"===e&&this.$uibModalInstance.close()}},{key:"reboot",value:function(){this.socketService.emit("reboot"),this.$uibModalInstance.close()}},{key:"cancel",value:function(){this.modalService.closeAllModals(),this.$uibModalInstance.dismiss("cancel")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l){"ngInject";i(this,e),this.$uibModalInstance=t,this.modalService=l,this.socketService=r,this.dataObj=n,this.$log=o,this.$translate=s}return e.$inject=["$uibModalInstance","dataObj","updaterService","socketService","$log","$translate","modalService"],n(e,[{key:"update",value:function(e){this.$log.debug("start update"),this.updaterService.update(e),"later"===e&&this.$uibModalInstance.close()}},{key:"ok",value:function(){this.$uibModalInstance.close()}},{key:"btnClick",value:function(e){e.emit&&this.socketService.emit(e.emit,e.payload),this.$uibModalInstance.close()}},{key:"cancel",value:function(){this.$uibModalInstance.dismiss("cancel")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a){"ngInject";i(this,e),this.$uibModalInstance=t,this.dataObj=n,this.$translate=a}return e.$inject=["$uibModalInstance","dataObj","$translate"],n(e,[{key:"gotIt",value:function(){this.$uibModalInstance.close()}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){
function e(t,n,a){"ngInject";i(this,e),this.$uibModalInstance=t,this.dataObj=n,this.$translate=a}return e.$inject=["$uibModalInstance","dataObj","$translate"],n(e,[{key:"yes",value:function(){this.$uibModalInstance.close()}},{key:"no",value:function(){this.$uibModalInstance.dismiss()}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c,u){"ngInject";i(this,e),this.$uibModalInstance=t,this.ripperService=a,this.dataObj=n,this.browseService=r,this.playerService=o,this.socketService=l,this.$rootScope=u,this.Upload=s,this.$log=c}return e.$inject=["$uibModalInstance","dataObj","ripperService","browseService","playerService","Upload","socketService","$log","$rootScope"],n(e,[{key:"startToRipCd",value:function(){this.ripperService.startToRipCd(),this.$uibModalInstance.close(),this.browseService.backHome(),this.$rootScope.$broadcast("browseService:rip")}},{key:"cancel",value:function(){this.$uibModalInstance.dismiss("cancel")}},{key:"uploadCDAlbumart",value:function(){var e=this;this.Upload.upload({url:""+this.socketService.host+"/albumart-upload",data:{filename:this.albumart,artist:this.dataObj.artist,album:this.dataObj.album}}).then(function(t){200===t.status&&t.data&&t.data.path&&(e.dataObj.albumart=t.data.path)})}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s){"ngInject";i(this,e),this.$uibModalInstance=t,this.dataObj=n,this.socketService=a,this.$translate=r,this.$window=o,this.$state=s}return e.$inject=["$uibModalInstance","dataObj","socketService","$translate","$window","$state"],n(e,[{key:"ok",value:function(){this.$uibModalInstance.close()}},{key:"cancel",value:function(){this.$uibModalInstance.dismiss()}},{key:"btnClick",value:function(e){e.emit?this.socketService.emit(e.emit,e.payload):e.url?this.$window.open(e.url,"_self"):e.state&&this.$state.go(e.state),this.$uibModalInstance.close()}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r){"ngInject";i(this,e),this.socketService=r,this.$scope=t,this.$uibModalInstance=n,this.dataObj=a,this.showError=!1,this.registerListner()}return e.$inject=["$scope","$uibModalInstance","dataObj","socketService"],n(e,[{key:"ok",value:function(){this.showError=!1,this.form.$valid&&this.socketService.emit("checkPassword",{password:this.password,pluginName:this.dataObj.pluginName})}},{key:"cancel",value:function(){this.$uibModalInstance.dismiss()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("checkPassword",function(t){t?e.$uibModalInstance.close(!0):e.showError=!0}),this.$scope.$on("$destroy",function(){e.socketService.off("checkPassword")})}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r){"ngInject";i(this,e),this.$uibModalInstance=t,this.socketService=n,this.dataObj=a,this.karaokeEnabled=!1,this.$log=r,this.init()}return e.$inject=["$uibModalInstance","socketService","dataObj","$log"],n(e,[{key:"exit",value:function(){this.$uibModalInstance.close()}},{key:"karaokeSwitch",value:function(){var e={endpoint:"system_controller/gpios",method:"KaraokeSwitchPress",data:"off"};this.karaokeEnabled&&(e.data="on"),this.socketService.emit("callMethod",e)}},{key:"musicVolumePlus",value:function(){var e={endpoint:"system_controller/gpios",method:"MusicPlusPress",data:""};this.socketService.emit("callMethod",e)}},{key:"musicVolumeMinus",value:function(){var e={endpoint:"system_controller/gpios",method:"MusicMinusPress",data:""};this.socketService.emit("callMethod",e)}},{key:"micVolumePlus",value:function(){var e={endpoint:"system_controller/gpios",method:"MicPlusPress",data:""};this.socketService.emit("callMethod",e)}},{key:"micVolumeMinus",value:function(){var e={endpoint:"system_controller/gpios",method:"MicMinusPress",data:""};this.socketService.emit("callMethod",e)}},{key:"cancel",value:function(){this.$uibModalInstance.dismiss("cancel")}},{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushKaraokeStatus",function(t){e.$log.debug("pushKaraokeStatus",t),e.karaokeEnabled="off"===t?!1:!0})}},{key:"initService",value:function(){this.socketService.emit("callMethod",{endpoint:"system_controller/gpios",method:"getKaraokeStatus",data:""})}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s){"ngInject";i(this,e),this.$uibModalInstance=t,this.$scope=r,this.$timeout=o,this.dataObj=n,this.socketService=a,this.$translate=s,this.registerListner()}return e.$inject=["$uibModalInstance","dataObj","socketService","$scope","$timeout","$translate"],n(e,[{key:"ok",value:function(){this.$uibModalInstance.close()}},{key:"cancel",value:function(){this.$uibModalInstance.dismiss("cancel")}},{key:"btnClick",value:function(e){e.emit&&this.socketService.emit(e.emit,e.payload),this.$uibModalInstance.close()}},{key:"toggleAdvancedLog",value:function(){this.showAdvancedLog=!this.showAdvancedLog,this._scrollLog()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("installPluginStatus",function(t){e.dataObj=t,e._scrollLog(),100===t.progress&&e.socketService.off("installPluginStatus")}),this.$scope.$on("$destroy",function(){e.socketService.off("installPluginStatus")})}},{key:"_scrollLog",value:function(){var e=document.querySelector("#advancedLogWrapper");e&&this.$timeout(function(){e.scrollTop=e.scrollHeight},300,!1)}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=(i(108),function(){function e(t,i,a,r,o,s,l,c,u,d,v,p,m,h){"ngInject";n(this,e),this.$log=s,this.$uibModalInstance=t,this.dataObj=i,this.playerService=a,this.$state=r,this.socketService=o,this.$timeout=l,this.browseService=c,this.$translate=u,this.uiSettingsService=d,this.$http=v,this.modalService=p,this.authService=m,this.filteredTranslate=h("translate"),this.creditsLoading=!1,this.creditsError=!1,this.storyError=!1,this.artistStoryLoading=!1,this.artistError=!1,this.albumStoryError=!1,this.albumStoryLoading=!1,this.currentItemMetas={},this.trackStoryLoading=!1,this.creditRequestOptions={timeout:7e3}}return e.$inject=["$uibModalInstance","dataObj","playerService","$state","socketService","$log","$timeout","browseService","$translate","uiSettingsService","$http","modalService","authService","$filter"],a(e,[{key:"goTo",value:function(e){this.$state.go("volumio.browse");var t={type:e,value:this.playerService.state[e],artist:this.playerService.state.artist,album:this.playerService.state.album};this.browseService.goTo(t),this.closeModal()}},{key:"tweetTrack",value:function(e){var t=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0),n="http://twitter.com/share?",a=encodeURI("text=♫ "+this.playerService.state.artist+" - "+this.playerService.state.title);a+="&hashtags=nowplaying",a+=e&&e.via?"&via="+e.via:"&via=volumio",a+=e&&e.url?"&url="+e.url:"&url=http://www.volumio.com";var r=""+n+a,o=500,s=400,l=Math.ceil((t-o)/2),c=Math.ceil((i-s)/2),u=r,d="status=1,width="+o+",height="+s+",top="+c+",left="+l;window.open(u,"twitter",d),this.closeModal()}},{key:"closeModal",value:function(){this.$uibModalInstance.close()}},{key:"cancel",value:function(){this.$uibModalInstance.dismiss("cancel")}},{key:"requestMetavolumioApi",value:function(e){var t=this;return new Promise(function(i,n){var a=t.socketService.host+"/api/v1/pluginEndpoint";t.$http.post(a,e,t.creditRequestOptions).then(function(e){e.data&&e.data.success&&e.data.data&&e.data.data.value?i(e.data.data):n({error:!0}),t.trackStoryLoading=!1})["catch"](function(e){return n(e)})})}},{key:"getArtistStory",value:function(){var e=this;if(this.checkAuthAndSubscription().authEnabled&&"superstar"!==this.checkAuthAndSubscription().plan)return void this.showPremiumFeatureModal();this.artistStoryLoading=!0;var t={endpoint:"metavolumio",data:{mode:"storyArtist",artist:this.playerService.state.artist}};this.requestMetavolumioApi(t).then(function(t){e.artistError=!1,e.currentItemMetas.artistStory=t.value,e.showArtistStory()})["catch"](function(t){e.artistError=!0})["finally"](function(){e.artistStoryLoading=!1})}},{key:"getTrackStory",value:function(){var e=this;if(this.checkAuthAndSubscription().authEnabled&&"superstar"!==this.checkAuthAndSubscription().plan)return void this.showPremiumFeatureModal();this.trackStoryLoading=!0;var t={endpoint:"metavolumio",data:{mode:"storyTrack",artist:this.playerService.state.artist,album:this.playerService.state.album,track:this.playerService.state.title}};this.requestMetavolumioApi(t).then(function(t){e.storyError=!1,e.currentItemMetas.trackStory=t.value,e.showTrackStory()})["catch"](function(t){e.storyError=!0})["finally"](function(){e.trackStoryLoading=!1})}},{key:"getAlbumCredits",value:function(){var e=this;if(this.checkAuthAndSubscription().authEnabled&&"superstar"!==this.checkAuthAndSubscription().plan)return void this.showPremiumFeatureModal();this.creditsLoading=!0;var t={endpoint:"metavolumio",data:{mode:"creditsAlbum",artist:this.playerService.state.artist,album:this.playerService.state.album}};this.requestMetavolumioApi(t).then(function(t){e.creditsError=!1,e.currentItemMetas.albumCredits=t.value,e.showAlbumCredits()})["catch"](function(t){e.creditsError=!0})["finally"](function(){e.creditsLoading=!1})}},{key:"getAlbumStory",value:function(){var e=this;if(this.checkAuthAndSubscription().authEnabled&&"superstar"!==this.checkAuthAndSubscription().plan)return void this.showPremiumFeatureModal();this.albumStoryLoading=!0;var t={endpoint:"metavolumio",data:{mode:"storyAlbum",artist:this.playerService.state.artist,album:this.playerService.state.album}};this.requestMetavolumioApi(t).then(function(t){e.albumStoryError=!1,e.currentItemMetas.albumStory=t.value,e.showAlbumStory()})["catch"](function(t){e.albumStoryError=!0})["finally"](function(){e.albumStoryLoading=!1})}},{key:"showAlbumCredits",value:function(){var e={title:this.playerService.state.album,credits:this.currentItemMetas.albumCredits};this.showCreditsDetails(e)}},{key:"showAlbumStory",value:function(){var e={title:this.playerService.state.album,story:this.currentItemMetas.albumStory};this.showCreditsDetails(e)}},{key:"showTrackStory",value:function(){var e={title:this.playerService.state.album,story:this.currentItemMetas.trackStory};this.showCreditsDetails(e)}},{key:"showArtistStory",value:function(){var e={title:this.playerService.state.artist,story:this.currentItemMetas.artistStory};this.showCreditsDetails(e)}},{key:"showCreditsDetails",value:function(e){var t="app/browse-music/components/modal/modal-credits-details.html",i="ModalCreditsDetailsController",n={title:e.title,story:e.story||null,credits:e.credits,upgradeCta:e.upgradeCta||!1};this.modalService.openModal(i,t,n,"md")}},{key:"showPremiumFeatureModal",value:function(){this.showCreditsDetails({title:this.filteredTranslate("MYVOLUMIO.MODAL_DISCOVERY_PREMIUM_TITLE"),story:'\n        <h2 class="text-center">'+this.filteredTranslate("MYVOLUMIO.MODAL_DISCOVERY_PREMIUM_HEADING")+'</h2>\n        <p class="text-center">'+this.filteredTranslate("MYVOLUMIO.MODAL_DISCOVERY_PREMIUM_TEXT")+"</p>\n      ",upgradeCta:!0})}},{key:"checkAuthAndSubscription",value:function(){var e={authEnabled:!1,plan:null};return this.authService&&(e.authEnabled=this.authService.isEnabled,this.authService.user&&(e.plan=this.authService.user.plan)),e}}]),e}());t["default"]=r,e.exports=t["default"]},function(e,t,i){var n;(function(e,a){(function(){function r(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}function o(e,t,i,n){for(var a=-1,r=null==e?0:e.length;++a<r;){var o=e[a];t(n,o,i(o),e)}return n}function s(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&t(e[i],i,e)!==!1;);return e}function l(e,t){for(var i=null==e?0:e.length;i--&&t(e[i],i,e)!==!1;);return e}function c(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(!t(e[i],i,e))return!1;return!0}function u(e,t){for(var i=-1,n=null==e?0:e.length,a=0,r=[];++i<n;){var o=e[i];t(o,i,e)&&(r[a++]=o)}return r}function d(e,t){var i=null==e?0:e.length;return!!i&&w(e,t,0)>-1}function v(e,t,i){for(var n=-1,a=null==e?0:e.length;++n<a;)if(i(t,e[n]))return!0;return!1}function p(e,t){for(var i=-1,n=null==e?0:e.length,a=Array(n);++i<n;)a[i]=t(e[i],i,e);return a}function m(e,t){for(var i=-1,n=t.length,a=e.length;++i<n;)e[a+i]=t[i];return e}function h(e,t,i,n){var a=-1,r=null==e?0:e.length;for(n&&r&&(i=e[++a]);++a<r;)i=t(i,e[a],a,e);return i}function f(e,t,i,n){var a=null==e?0:e.length;for(n&&a&&(i=e[--a]);a--;)i=t(i,e[a],a,e);return i}function g(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}function b(e){return e.split("")}function y(e){return e.match(jt)||[]}function S(e,t,i){var n;return i(e,function(e,i,a){return t(e,i,a)?(n=i,!1):void 0}),n}function k(e,t,i,n){for(var a=e.length,r=i+(n?1:-1);n?r--:++r<a;)if(t(e[r],r,e))return r;return-1}function w(e,t,i){return t===t?K(e,t,i):k(e,M,i)}function _(e,t,i,n){for(var a=i-1,r=e.length;++a<r;)if(n(e[a],t))return a;return-1}function M(e){return e!==e}function O(e,t){var i=null==e?0:e.length;return i?E(e,t)/i:De}function C(e){return function(t){return null==t?ie:t[e]}}function I(e){return function(t){return null==e?ie:e[t]}}function P(e,t,i,n,a){return a(e,function(e,a,r){i=n?(n=!1,e):t(i,e,a,r)}),i}function $(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}function E(e,t){for(var i,n=-1,a=e.length;++n<a;){var r=t(e[n]);r!==ie&&(i=i===ie?r:i+r)}return i}function T(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}function A(e,t){return p(t,function(t){return[t,e[t]]})}function L(e){return function(t){return e(t)}}function U(e,t){return p(t,function(t){return e[t]})}function D(e,t){return e.has(t)}function R(e,t){for(var i=-1,n=e.length;++i<n&&w(t,e[i],0)>-1;);return i}function V(e,t){for(var i=e.length;i--&&w(t,e[i],0)>-1;);return i}function N(e,t){for(var i=e.length,n=0;i--;)e[i]===t&&++n;return n}function x(e){return"\\"+Xi[e]}function j(e,t){return null==e?ie:e[t]}function B(e){return Wi.test(e)}function F(e){return Yi.test(e)}function W(e){for(var t,i=[];!(t=e.next()).done;)i.push(t.value);return i}function Y(e){var t=-1,i=Array(e.size);return e.forEach(function(e,n){i[++t]=[n,e]}),i}function z(e,t){return function(i){return e(t(i))}}function G(e,t){for(var i=-1,n=e.length,a=0,r=[];++i<n;){var o=e[i];(o===t||o===ce)&&(e[i]=ce,r[a++]=i)}return r}function q(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=e}),i}function H(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=[e,e]}),i}function K(e,t,i){for(var n=i-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}function Q(e,t,i){for(var n=i+1;n--;)if(e[n]===t)return n;return n}function Z(e){return B(e)?J(e):fn(e)}function X(e){return B(e)?ee(e):b(e)}function J(e){for(var t=Bi.lastIndex=0;Bi.test(e);)++t;return t}function ee(e){return e.match(Bi)||[]}function te(e){return e.match(Fi)||[]}var ie,ne="4.17.20",ae=200,re="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",oe="Expected a function",se="__lodash_hash_undefined__",le=500,ce="__lodash_placeholder__",ue=1,de=2,ve=4,pe=1,me=2,he=1,fe=2,ge=4,be=8,ye=16,Se=32,ke=64,we=128,_e=256,Me=512,Oe=30,Ce="...",Ie=800,Pe=16,$e=1,Ee=2,Te=3,Ae=1/0,Le=9007199254740991,Ue=1.7976931348623157e308,De=0/0,Re=4294967295,Ve=Re-1,Ne=Re>>>1,xe=[["ary",we],["bind",he],["bindKey",fe],["curry",be],["curryRight",ye],["flip",Me],["partial",Se],["partialRight",ke],["rearg",_e]],je="[object Arguments]",Be="[object Array]",Fe="[object AsyncFunction]",We="[object Boolean]",Ye="[object Date]",ze="[object DOMException]",Ge="[object Error]",qe="[object Function]",He="[object GeneratorFunction]",Ke="[object Map]",Qe="[object Number]",Ze="[object Null]",Xe="[object Object]",Je="[object Promise]",et="[object Proxy]",tt="[object RegExp]",it="[object Set]",nt="[object String]",at="[object Symbol]",rt="[object Undefined]",ot="[object WeakMap]",st="[object WeakSet]",lt="[object ArrayBuffer]",ct="[object DataView]",ut="[object Float32Array]",dt="[object Float64Array]",vt="[object Int8Array]",pt="[object Int16Array]",mt="[object Int32Array]",ht="[object Uint8Array]",ft="[object Uint8ClampedArray]",gt="[object Uint16Array]",bt="[object Uint32Array]",yt=/\b__p \+= '';/g,St=/\b(__p \+=) '' \+/g,kt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wt=/&(?:amp|lt|gt|quot|#39);/g,_t=/[&<>"']/g,Mt=RegExp(wt.source),Ot=RegExp(_t.source),Ct=/<%-([\s\S]+?)%>/g,It=/<%([\s\S]+?)%>/g,Pt=/<%=([\s\S]+?)%>/g,$t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Et=/^\w*$/,Tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,At=/[\\^$.*+?()[\]{}|]/g,Lt=RegExp(At.source),Ut=/^\s+|\s+$/g,Dt=/^\s+/,Rt=/\s+$/,Vt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Nt=/\{\n\/\* \[wrapped with (.+)\] \*/,xt=/,? & /,jt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bt=/\\(\\)?/g,Ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wt=/\w*$/,Yt=/^[-+]0x[0-9a-f]+$/i,zt=/^0b[01]+$/i,Gt=/^\[object .+?Constructor\]$/,qt=/^0o[0-7]+$/i,Ht=/^(?:0|[1-9]\d*)$/,Kt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qt=/($^)/,Zt=/['\n\r\u2028\u2029\\]/g,Xt="\\ud800-\\udfff",Jt="\\u0300-\\u036f",ei="\\ufe20-\\ufe2f",ti="\\u20d0-\\u20ff",ii=Jt+ei+ti,ni="\\u2700-\\u27bf",ai="a-z\\xdf-\\xf6\\xf8-\\xff",ri="\\xac\\xb1\\xd7\\xf7",oi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",si="\\u2000-\\u206f",li=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ci="A-Z\\xc0-\\xd6\\xd8-\\xde",ui="\\ufe0e\\ufe0f",di=ri+oi+si+li,vi="['’]",pi="["+Xt+"]",mi="["+di+"]",hi="["+ii+"]",fi="\\d+",gi="["+ni+"]",bi="["+ai+"]",yi="[^"+Xt+di+fi+ni+ai+ci+"]",Si="\\ud83c[\\udffb-\\udfff]",ki="(?:"+hi+"|"+Si+")",wi="[^"+Xt+"]",_i="(?:\\ud83c[\\udde6-\\uddff]){2}",Mi="[\\ud800-\\udbff][\\udc00-\\udfff]",Oi="["+ci+"]",Ci="\\u200d",Ii="(?:"+bi+"|"+yi+")",Pi="(?:"+Oi+"|"+yi+")",$i="(?:"+vi+"(?:d|ll|m|re|s|t|ve))?",Ei="(?:"+vi+"(?:D|LL|M|RE|S|T|VE))?",Ti=ki+"?",Ai="["+ui+"]?",Li="(?:"+Ci+"(?:"+[wi,_i,Mi].join("|")+")"+Ai+Ti+")*",Ui="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Di="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ri=Ai+Ti+Li,Vi="(?:"+[gi,_i,Mi].join("|")+")"+Ri,Ni="(?:"+[wi+hi+"?",hi,_i,Mi,pi].join("|")+")",xi=RegExp(vi,"g"),ji=RegExp(hi,"g"),Bi=RegExp(Si+"(?="+Si+")|"+Ni+Ri,"g"),Fi=RegExp([Oi+"?"+bi+"+"+$i+"(?="+[mi,Oi,"$"].join("|")+")",Pi+"+"+Ei+"(?="+[mi,Oi+Ii,"$"].join("|")+")",Oi+"?"+Ii+"+"+$i,Oi+"+"+Ei,Di,Ui,fi,Vi].join("|"),"g"),Wi=RegExp("["+Ci+Xt+ii+ui+"]"),Yi=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,zi=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gi=-1,qi={};qi[ut]=qi[dt]=qi[vt]=qi[pt]=qi[mt]=qi[ht]=qi[ft]=qi[gt]=qi[bt]=!0,qi[je]=qi[Be]=qi[lt]=qi[We]=qi[ct]=qi[Ye]=qi[Ge]=qi[qe]=qi[Ke]=qi[Qe]=qi[Xe]=qi[tt]=qi[it]=qi[nt]=qi[ot]=!1;var Hi={};Hi[je]=Hi[Be]=Hi[lt]=Hi[ct]=Hi[We]=Hi[Ye]=Hi[ut]=Hi[dt]=Hi[vt]=Hi[pt]=Hi[mt]=Hi[Ke]=Hi[Qe]=Hi[Xe]=Hi[tt]=Hi[it]=Hi[nt]=Hi[at]=Hi[ht]=Hi[ft]=Hi[gt]=Hi[bt]=!0,Hi[Ge]=Hi[qe]=Hi[ot]=!1;var Ki={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Qi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zi={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Xi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ji=parseFloat,en=parseInt,tn="object"==typeof e&&e&&e.Object===Object&&e,nn="object"==typeof self&&self&&self.Object===Object&&self,an=tn||nn||Function("return this")(),rn="object"==typeof t&&t&&!t.nodeType&&t,on=rn&&"object"==typeof a&&a&&!a.nodeType&&a,sn=on&&on.exports===rn,ln=sn&&tn.process,cn=function(){try{var e=on&&on.require&&on.require("util").types;return e?e:ln&&ln.binding&&ln.binding("util")}catch(t){}}(),un=cn&&cn.isArrayBuffer,dn=cn&&cn.isDate,vn=cn&&cn.isMap,pn=cn&&cn.isRegExp,mn=cn&&cn.isSet,hn=cn&&cn.isTypedArray,fn=C("length"),gn=I(Ki),bn=I(Qi),yn=I(Zi),Sn=function wn(e){function t(e){if(rl(e)&&!fv(e)&&!(e instanceof a)){if(e instanceof n)return e;if(fu.call(e,"__wrapped__"))return to(e)}return new n(e)}function i(){}function n(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=ie}function a(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Re,this.__views__=[]}function b(){var e=new a(this.__wrapped__);return e.__actions__=Da(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Da(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Da(this.__views__),e}function I(){if(this.__filtered__){var e=new a(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function K(){var e=this.__wrapped__.value(),t=this.__dir__,i=fv(e),n=0>t,a=i?e.length:0,r=Mr(0,a,this.__views__),o=r.start,s=r.end,l=s-o,c=n?s:o-1,u=this.__iteratees__,d=u.length,v=0,p=Gu(l,this.__takeCount__);if(!i||!n&&a==l&&p==l)return ba(e,this.__actions__);var m=[];e:for(;l--&&p>v;){c+=t;for(var h=-1,f=e[c];++h<d;){var g=u[h],b=g.iteratee,y=g.type,S=b(f);if(y==Ee)f=S;else if(!S){if(y==$e)continue e;break e}}m[v++]=f}return m}function J(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function ee(){this.__data__=id?id(null):{},this.size=0}function jt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Xt(e){var t=this.__data__;if(id){var i=t[e];return i===se?ie:i}return fu.call(t,e)?t[e]:ie}function Jt(e){var t=this.__data__;return id?t[e]!==ie:fu.call(t,e)}function ei(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=id&&t===ie?se:t,this}function ti(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function ii(){this.__data__=[],this.size=0}function ni(e){var t=this.__data__,i=Pi(t,e);if(0>i)return!1;var n=t.length-1;return i==n?t.pop():Eu.call(t,i,1),--this.size,!0}function ai(e){var t=this.__data__,i=Pi(t,e);return 0>i?ie:t[i][1]}function ri(e){return Pi(this.__data__,e)>-1}function oi(e,t){var i=this.__data__,n=Pi(i,e);return 0>n?(++this.size,i.push([e,t])):i[n][1]=t,this}function si(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function li(){this.size=0,this.__data__={hash:new J,map:new(Xu||ti),string:new J}}function ci(e){var t=Sr(this,e)["delete"](e);return this.size-=t?1:0,t}function ui(e){return Sr(this,e).get(e)}function di(e){return Sr(this,e).has(e)}function vi(e,t){var i=Sr(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this}function pi(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new si;++t<i;)this.add(e[t])}function mi(e){return this.__data__.set(e,se),this}function hi(e){return this.__data__.has(e)}function fi(e){var t=this.__data__=new ti(e);this.size=t.size}function gi(){this.__data__=new ti,this.size=0}function bi(e){var t=this.__data__,i=t["delete"](e);return this.size=t.size,i}function yi(e){return this.__data__.get(e)}function Si(e){return this.__data__.has(e)}function ki(e,t){var i=this.__data__;if(i instanceof ti){var n=i.__data__;if(!Xu||n.length<ae-1)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new si(n)}return i.set(e,t),this.size=i.size,this}function wi(e,t){var i=fv(e),n=!i&&hv(e),a=!i&&!n&&bv(e),r=!i&&!n&&!a&&_v(e),o=i||n||a||r,s=o?T(e.length,cu):[],l=s.length;for(var c in e)!t&&!fu.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ar(c,l))||s.push(c);return s}function _i(e){var t=e.length;return t?e[Jn(0,t-1)]:ie}function Mi(e,t){return Zr(Da(e),Ui(t,0,e.length))}function Oi(e){return Zr(Da(e))}function Ci(e,t,i){(i!==ie&&!zs(e[t],i)||i===ie&&!(t in e))&&Ai(e,t,i)}function Ii(e,t,i){var n=e[t];fu.call(e,t)&&zs(n,i)&&(i!==ie||t in e)||Ai(e,t,i)}function Pi(e,t){for(var i=e.length;i--;)if(zs(e[i][0],t))return i;return-1}function $i(e,t,i,n){return md(e,function(e,a,r){t(n,e,i(e),r)}),n}function Ei(e,t){return e&&Ra(t,jl(t),e)}function Ti(e,t){return e&&Ra(t,Bl(t),e)}function Ai(e,t,i){"__proto__"==t&&Uu?Uu(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function Li(e,t){for(var i=-1,n=t.length,a=iu(n),r=null==e;++i<n;)a[i]=r?ie:Vl(e,t[i]);return a}function Ui(e,t,i){return e===e&&(i!==ie&&(e=i>=e?e:i),t!==ie&&(e=e>=t?e:t)),e}function Di(e,t,i,n,a,r){var o,l=t&ue,c=t&de,u=t&ve;if(i&&(o=a?i(e,n,a,r):i(e)),o!==ie)return o;if(!al(e))return e;var d=fv(e);if(d){if(o=Ir(e),!l)return Da(e,o)}else{var v=Cd(e),p=v==qe||v==He;if(bv(e))return Oa(e,l);if(v==Xe||v==je||p&&!a){if(o=c||p?{}:Pr(e),!l)return c?Na(e,Ti(o,e)):Va(e,Ei(o,e))}else{if(!Hi[v])return a?e:{};o=$r(e,v,l)}}r||(r=new fi);var m=r.get(e);if(m)return m;r.set(e,o),wv(e)?e.forEach(function(n){o.add(Di(n,t,i,n,e,r))}):Sv(e)&&e.forEach(function(n,a){o.set(a,Di(n,t,i,a,e,r))});var h=u?c?fr:hr:c?Bl:jl,f=d?ie:h(e);return s(f||e,function(n,a){f&&(a=n,n=e[a]),Ii(o,a,Di(n,t,i,a,e,r))}),o}function Ri(e){var t=jl(e);return function(i){return Vi(i,e,t)}}function Vi(e,t,i){var n=i.length;if(null==e)return!n;for(e=su(e);n--;){var a=i[n],r=t[a],o=e[a];if(o===ie&&!(a in e)||!r(o))return!1}return!0}function Ni(e,t,i){if("function"!=typeof e)throw new uu(oe);return $d(function(){e.apply(ie,i)},t)}function Bi(e,t,i,n){var a=-1,r=d,o=!0,s=e.length,l=[],c=t.length;if(!s)return l;i&&(t=p(t,L(i))),n?(r=v,o=!1):t.length>=ae&&(r=D,o=!1,t=new pi(t));e:for(;++a<s;){var u=e[a],m=null==i?u:i(u);if(u=n||0!==u?u:0,o&&m===m){for(var h=c;h--;)if(t[h]===m)continue e;l.push(u)}else r(t,m,n)||l.push(u)}return l}function Fi(e,t){var i=!0;return md(e,function(e,n,a){return i=!!t(e,n,a)}),i}function Wi(e,t,i){for(var n=-1,a=e.length;++n<a;){var r=e[n],o=t(r);if(null!=o&&(s===ie?o===o&&!fl(o):i(o,s)))var s=o,l=r}return l}function Yi(e,t,i,n){var a=e.length;for(i=wl(i),0>i&&(i=-i>a?0:a+i),n=n===ie||n>a?a:wl(n),0>n&&(n+=a),n=i>n?0:_l(n);n>i;)e[i++]=t;return e}function Ki(e,t){var i=[];return md(e,function(e,n,a){t(e,n,a)&&i.push(e)}),i}function Qi(e,t,i,n,a){var r=-1,o=e.length;for(i||(i=Tr),a||(a=[]);++r<o;){var s=e[r];t>0&&i(s)?t>1?Qi(s,t-1,i,n,a):m(a,s):n||(a[a.length]=s)}return a}function Zi(e,t){return e&&fd(e,t,jl)}function Xi(e,t){return e&&gd(e,t,jl)}function tn(e,t){return u(t,function(t){return tl(e[t])})}function nn(e,t){t=_a(t,e);for(var i=0,n=t.length;null!=e&&n>i;)e=e[Xr(t[i++])];return i&&i==n?e:ie}function rn(e,t,i){var n=t(e);return fv(e)?n:m(n,i(e))}function on(e){return null==e?e===ie?rt:Ze:Lu&&Lu in su(e)?_r(e):Yr(e)}function ln(e,t){return e>t}function cn(e,t){return null!=e&&fu.call(e,t)}function fn(e,t){return null!=e&&t in su(e)}function Sn(e,t,i){return e>=Gu(t,i)&&e<zu(t,i)}function _n(e,t,i){for(var n=i?v:d,a=e[0].length,r=e.length,o=r,s=iu(r),l=1/0,c=[];o--;){var u=e[o];o&&t&&(u=p(u,L(t))),l=Gu(u.length,l),s[o]=!i&&(t||a>=120&&u.length>=120)?new pi(o&&u):ie}u=e[0];var m=-1,h=s[0];e:for(;++m<a&&c.length<l;){var f=u[m],g=t?t(f):f;if(f=i||0!==f?f:0,!(h?D(h,g):n(c,g,i))){for(o=r;--o;){var b=s[o];if(!(b?D(b,g):n(e[o],g,i)))continue e}h&&h.push(g),c.push(f)}}return c}function Mn(e,t,i,n){return Zi(e,function(e,a,r){t(n,i(e),a,r)}),n}function On(e,t,i){t=_a(t,e),e=Gr(e,t);var n=null==e?e:e[Xr(ko(t))];return null==n?ie:r(n,e,i)}function Cn(e){return rl(e)&&on(e)==je}function In(e){return rl(e)&&on(e)==lt}function Pn(e){return rl(e)&&on(e)==Ye}function $n(e,t,i,n,a){return e===t?!0:null==e||null==t||!rl(e)&&!rl(t)?e!==e&&t!==t:En(e,t,i,n,$n,a)}function En(e,t,i,n,a,r){var o=fv(e),s=fv(t),l=o?Be:Cd(e),c=s?Be:Cd(t);l=l==je?Xe:l,c=c==je?Xe:c;var u=l==Xe,d=c==Xe,v=l==c;if(v&&bv(e)){if(!bv(t))return!1;o=!0,u=!1}if(v&&!u)return r||(r=new fi),o||_v(e)?dr(e,t,i,n,a,r):vr(e,t,l,i,n,a,r);if(!(i&pe)){
var p=u&&fu.call(e,"__wrapped__"),m=d&&fu.call(t,"__wrapped__");if(p||m){var h=p?e.value():e,f=m?t.value():t;return r||(r=new fi),a(h,f,i,n,r)}}return v?(r||(r=new fi),pr(e,t,i,n,a,r)):!1}function Tn(e){return rl(e)&&Cd(e)==Ke}function An(e,t,i,n){var a=i.length,r=a,o=!n;if(null==e)return!r;for(e=su(e);a--;){var s=i[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<r;){s=i[a];var l=s[0],c=e[l],u=s[1];if(o&&s[2]){if(c===ie&&!(l in e))return!1}else{var d=new fi;if(n)var v=n(c,u,l,e,t,d);if(!(v===ie?$n(u,c,pe|me,n,d):v))return!1}}return!0}function Ln(e){if(!al(e)||Vr(e))return!1;var t=tl(e)?wu:Gt;return t.test(Jr(e))}function Un(e){return rl(e)&&on(e)==tt}function Dn(e){return rl(e)&&Cd(e)==it}function Rn(e){return rl(e)&&nl(e.length)&&!!qi[on(e)]}function Vn(e){return"function"==typeof e?e:null==e?Ec:"object"==typeof e?fv(e)?Wn(e[0],e[1]):Fn(e):Nc(e)}function Nn(e){if(!Nr(e))return Yu(e);var t=[];for(var i in su(e))fu.call(e,i)&&"constructor"!=i&&t.push(i);return t}function xn(e){if(!al(e))return Wr(e);var t=Nr(e),i=[];for(var n in e)("constructor"!=n||!t&&fu.call(e,n))&&i.push(n);return i}function jn(e,t){return t>e}function Bn(e,t){var i=-1,n=Gs(e)?iu(e.length):[];return md(e,function(e,a,r){n[++i]=t(e,a,r)}),n}function Fn(e){var t=kr(e);return 1==t.length&&t[0][2]?jr(t[0][0],t[0][1]):function(i){return i===e||An(i,e,t)}}function Wn(e,t){return Ur(e)&&xr(t)?jr(Xr(e),t):function(i){var n=Vl(i,e);return n===ie&&n===t?xl(i,e):$n(t,n,pe|me)}}function Yn(e,t,i,n,a){e!==t&&fd(t,function(r,o){if(a||(a=new fi),al(r))zn(e,t,o,i,Yn,n,a);else{var s=n?n(Hr(e,o),r,o+"",e,t,a):ie;s===ie&&(s=r),Ci(e,o,s)}},Bl)}function zn(e,t,i,n,a,r,o){var s=Hr(e,i),l=Hr(t,i),c=o.get(l);if(c)return void Ci(e,i,c);var u=r?r(s,l,i+"",e,t,o):ie,d=u===ie;if(d){var v=fv(l),p=!v&&bv(l),m=!v&&!p&&_v(l);u=l,v||p||m?fv(s)?u=s:qs(s)?u=Da(s):p?(d=!1,u=Oa(l,!0)):m?(d=!1,u=Ea(l,!0)):u=[]:pl(l)||hv(l)?(u=s,hv(s)?u=Ol(s):(!al(s)||tl(s))&&(u=Pr(l))):d=!1}d&&(o.set(l,u),a(u,l,n,r,o),o["delete"](l)),Ci(e,i,u)}function Gn(e,t){var i=e.length;if(i)return t+=0>t?i:0,Ar(t,i)?e[t]:ie}function qn(e,t,i){t=t.length?p(t,function(e){return fv(e)?function(t){return nn(t,1===e.length?e[0]:e)}:e}):[Ec];var n=-1;t=p(t,L(yr()));var a=Bn(e,function(e,i,a){var r=p(t,function(t){return t(e)});return{criteria:r,index:++n,value:e}});return $(a,function(e,t){return Aa(e,t,i)})}function Hn(e,t){return Kn(e,t,function(t,i){return xl(e,i)})}function Kn(e,t,i){for(var n=-1,a=t.length,r={};++n<a;){var o=t[n],s=nn(e,o);i(s,o)&&ra(r,_a(o,e),s)}return r}function Qn(e){return function(t){return nn(t,e)}}function Zn(e,t,i,n){var a=n?_:w,r=-1,o=t.length,s=e;for(e===t&&(t=Da(t)),i&&(s=p(e,L(i)));++r<o;)for(var l=0,c=t[r],u=i?i(c):c;(l=a(s,u,l,n))>-1;)s!==e&&Eu.call(s,l,1),Eu.call(e,l,1);return e}function Xn(e,t){for(var i=e?t.length:0,n=i-1;i--;){var a=t[i];if(i==n||a!==r){var r=a;Ar(a)?Eu.call(e,a,1):ha(e,a)}}return e}function Jn(e,t){return e+xu(Ku()*(t-e+1))}function ea(e,t,i,n){for(var a=-1,r=zu(Nu((t-e)/(i||1)),0),o=iu(r);r--;)o[n?r:++a]=e,e+=i;return o}function ta(e,t){var i="";if(!e||1>t||t>Le)return i;do t%2&&(i+=e),t=xu(t/2),t&&(e+=e);while(t);return i}function ia(e,t){return Ed(zr(e,t,Ec),e+"")}function na(e){return _i(Jl(e))}function aa(e,t){var i=Jl(e);return Zr(i,Ui(t,0,i.length))}function ra(e,t,i,n){if(!al(e))return e;t=_a(t,e);for(var a=-1,r=t.length,o=r-1,s=e;null!=s&&++a<r;){var l=Xr(t[a]),c=i;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(a!=o){var u=s[l];c=n?n(u,l,s):ie,c===ie&&(c=al(u)?u:Ar(t[a+1])?[]:{})}Ii(s,l,c),s=s[l]}return e}function oa(e){return Zr(Jl(e))}function sa(e,t,i){var n=-1,a=e.length;0>t&&(t=-t>a?0:a+t),i=i>a?a:i,0>i&&(i+=a),a=t>i?0:i-t>>>0,t>>>=0;for(var r=iu(a);++n<a;)r[n]=e[n+t];return r}function la(e,t){var i;return md(e,function(e,n,a){return i=t(e,n,a),!i}),!!i}function ca(e,t,i){var n=0,a=null==e?n:e.length;if("number"==typeof t&&t===t&&Ne>=a){for(;a>n;){var r=n+a>>>1,o=e[r];null!==o&&!fl(o)&&(i?t>=o:t>o)?n=r+1:a=r}return a}return ua(e,t,Ec,i)}function ua(e,t,i,n){var a=0,r=null==e?0:e.length;if(0===r)return 0;t=i(t);for(var o=t!==t,s=null===t,l=fl(t),c=t===ie;r>a;){var u=xu((a+r)/2),d=i(e[u]),v=d!==ie,p=null===d,m=d===d,h=fl(d);if(o)var f=n||m;else f=c?m&&(n||v):s?m&&v&&(n||!p):l?m&&v&&!p&&(n||!h):p||h?!1:n?t>=d:t>d;f?a=u+1:r=u}return Gu(r,Ve)}function da(e,t){for(var i=-1,n=e.length,a=0,r=[];++i<n;){var o=e[i],s=t?t(o):o;if(!i||!zs(s,l)){var l=s;r[a++]=0===o?0:o}}return r}function va(e){return"number"==typeof e?e:fl(e)?De:+e}function pa(e){if("string"==typeof e)return e;if(fv(e))return p(e,pa)+"";if(fl(e))return vd?vd.call(e):"";var t=e+"";return"0"==t&&1/e==-Ae?"-0":t}function ma(e,t,i){var n=-1,a=d,r=e.length,o=!0,s=[],l=s;if(i)o=!1,a=v;else if(r>=ae){var c=t?null:wd(e);if(c)return q(c);o=!1,a=D,l=new pi}else l=t?[]:s;e:for(;++n<r;){var u=e[n],p=t?t(u):u;if(u=i||0!==u?u:0,o&&p===p){for(var m=l.length;m--;)if(l[m]===p)continue e;t&&l.push(p),s.push(u)}else a(l,p,i)||(l!==s&&l.push(p),s.push(u))}return s}function ha(e,t){return t=_a(t,e),e=Gr(e,t),null==e||delete e[Xr(ko(t))]}function fa(e,t,i,n){return ra(e,t,i(nn(e,t)),n)}function ga(e,t,i,n){for(var a=e.length,r=n?a:-1;(n?r--:++r<a)&&t(e[r],r,e););return i?sa(e,n?0:r,n?r+1:a):sa(e,n?r+1:0,n?a:r)}function ba(e,t){var i=e;return i instanceof a&&(i=i.value()),h(t,function(e,t){return t.func.apply(t.thisArg,m([e],t.args))},i)}function ya(e,t,i){var n=e.length;if(2>n)return n?ma(e[0]):[];for(var a=-1,r=iu(n);++a<n;)for(var o=e[a],s=-1;++s<n;)s!=a&&(r[a]=Bi(r[a]||o,e[s],t,i));return ma(Qi(r,1),t,i)}function Sa(e,t,i){for(var n=-1,a=e.length,r=t.length,o={};++n<a;){var s=r>n?t[n]:ie;i(o,e[n],s)}return o}function ka(e){return qs(e)?e:[]}function wa(e){return"function"==typeof e?e:Ec}function _a(e,t){return fv(e)?e:Ur(e,t)?[e]:Td(Il(e))}function Ma(e,t,i){var n=e.length;return i=i===ie?n:i,!t&&i>=n?e:sa(e,t,i)}function Oa(e,t){if(t)return e.slice();var i=e.length,n=Cu?Cu(i):new e.constructor(i);return e.copy(n),n}function Ca(e){var t=new e.constructor(e.byteLength);return new Ou(t).set(new Ou(e)),t}function Ia(e,t){var i=t?Ca(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}function Pa(e){var t=new e.constructor(e.source,Wt.exec(e));return t.lastIndex=e.lastIndex,t}function $a(e){return dd?su(dd.call(e)):{}}function Ea(e,t){var i=t?Ca(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function Ta(e,t){if(e!==t){var i=e!==ie,n=null===e,a=e===e,r=fl(e),o=t!==ie,s=null===t,l=t===t,c=fl(t);if(!s&&!c&&!r&&e>t||r&&o&&l&&!s&&!c||n&&o&&l||!i&&l||!a)return 1;if(!n&&!r&&!c&&t>e||c&&i&&a&&!n&&!r||s&&i&&a||!o&&a||!l)return-1}return 0}function Aa(e,t,i){for(var n=-1,a=e.criteria,r=t.criteria,o=a.length,s=i.length;++n<o;){var l=Ta(a[n],r[n]);if(l){if(n>=s)return l;var c=i[n];return l*("desc"==c?-1:1)}}return e.index-t.index}function La(e,t,i,n){for(var a=-1,r=e.length,o=i.length,s=-1,l=t.length,c=zu(r-o,0),u=iu(l+c),d=!n;++s<l;)u[s]=t[s];for(;++a<o;)(d||r>a)&&(u[i[a]]=e[a]);for(;c--;)u[s++]=e[a++];return u}function Ua(e,t,i,n){for(var a=-1,r=e.length,o=-1,s=i.length,l=-1,c=t.length,u=zu(r-s,0),d=iu(u+c),v=!n;++a<u;)d[a]=e[a];for(var p=a;++l<c;)d[p+l]=t[l];for(;++o<s;)(v||r>a)&&(d[p+i[o]]=e[a++]);return d}function Da(e,t){var i=-1,n=e.length;for(t||(t=iu(n));++i<n;)t[i]=e[i];return t}function Ra(e,t,i,n){var a=!i;i||(i={});for(var r=-1,o=t.length;++r<o;){var s=t[r],l=n?n(i[s],e[s],s,i,e):ie;l===ie&&(l=e[s]),a?Ai(i,s,l):Ii(i,s,l)}return i}function Va(e,t){return Ra(e,Md(e),t)}function Na(e,t){return Ra(e,Od(e),t)}function xa(e,t){return function(i,n){var a=fv(i)?o:$i,r=t?t():{};return a(i,e,yr(n,2),r)}}function ja(e){return ia(function(t,i){var n=-1,a=i.length,r=a>1?i[a-1]:ie,o=a>2?i[2]:ie;for(r=e.length>3&&"function"==typeof r?(a--,r):ie,o&&Lr(i[0],i[1],o)&&(r=3>a?ie:r,a=1),t=su(t);++n<a;){var s=i[n];s&&e(t,s,n,r)}return t})}function Ba(e,t){return function(i,n){if(null==i)return i;if(!Gs(i))return e(i,n);for(var a=i.length,r=t?a:-1,o=su(i);(t?r--:++r<a)&&n(o[r],r,o)!==!1;);return i}}function Fa(e){return function(t,i,n){for(var a=-1,r=su(t),o=n(t),s=o.length;s--;){var l=o[e?s:++a];if(i(r[l],l,r)===!1)break}return t}}function Wa(e,t,i){function n(){var t=this&&this!==an&&this instanceof n?r:e;return t.apply(a?i:this,arguments)}var a=t&he,r=Ga(e);return n}function Ya(e){return function(t){t=Il(t);var i=B(t)?X(t):ie,n=i?i[0]:t.charAt(0),a=i?Ma(i,1).join(""):t.slice(1);return n[e]()+a}}function za(e){return function(t){return h(Oc(rc(t).replace(xi,"")),e,"")}}function Ga(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=pd(e.prototype),n=e.apply(i,t);return al(n)?n:i}}function qa(e,t,i){function n(){for(var o=arguments.length,s=iu(o),l=o,c=br(n);l--;)s[l]=arguments[l];var u=3>o&&s[0]!==c&&s[o-1]!==c?[]:G(s,c);if(o-=u.length,i>o)return ar(e,t,Qa,n.placeholder,ie,s,u,ie,ie,i-o);var d=this&&this!==an&&this instanceof n?a:e;return r(d,this,s)}var a=Ga(e);return n}function Ha(e){return function(t,i,n){var a=su(t);if(!Gs(t)){var r=yr(i,3);t=jl(t),i=function(e){return r(a[e],e,a)}}var o=e(t,i,n);return o>-1?a[r?t[o]:o]:ie}}function Ka(e){return mr(function(t){var i=t.length,a=i,r=n.prototype.thru;for(e&&t.reverse();a--;){var o=t[a];if("function"!=typeof o)throw new uu(oe);if(r&&!s&&"wrapper"==gr(o))var s=new n([],!0)}for(a=s?a:i;++a<i;){o=t[a];var l=gr(o),c="wrapper"==l?_d(o):ie;s=c&&Rr(c[0])&&c[1]==(we|be|Se|_e)&&!c[4].length&&1==c[9]?s[gr(c[0])].apply(s,c[3]):1==o.length&&Rr(o)?s[l]():s.thru(o)}return function(){var e=arguments,n=e[0];if(s&&1==e.length&&fv(n))return s.plant(n).value();for(var a=0,r=i?t[a].apply(this,e):n;++a<i;)r=t[a].call(this,r);return r}})}function Qa(e,t,i,n,a,r,o,s,l,c){function u(){for(var g=arguments.length,b=iu(g),y=g;y--;)b[y]=arguments[y];if(m)var S=br(u),k=N(b,S);if(n&&(b=La(b,n,a,m)),r&&(b=Ua(b,r,o,m)),g-=k,m&&c>g){var w=G(b,S);return ar(e,t,Qa,u.placeholder,i,b,w,s,l,c-g)}var _=v?i:this,M=p?_[e]:e;return g=b.length,s?b=qr(b,s):h&&g>1&&b.reverse(),d&&g>l&&(b.length=l),this&&this!==an&&this instanceof u&&(M=f||Ga(M)),M.apply(_,b)}var d=t&we,v=t&he,p=t&fe,m=t&(be|ye),h=t&Me,f=p?ie:Ga(e);return u}function Za(e,t){return function(i,n){return Mn(i,e,t(n),{})}}function Xa(e,t){return function(i,n){var a;if(i===ie&&n===ie)return t;if(i!==ie&&(a=i),n!==ie){if(a===ie)return n;"string"==typeof i||"string"==typeof n?(i=pa(i),n=pa(n)):(i=va(i),n=va(n)),a=e(i,n)}return a}}function Ja(e){return mr(function(t){return t=p(t,L(yr())),ia(function(i){var n=this;return e(t,function(e){return r(e,n,i)})})})}function er(e,t){t=t===ie?" ":pa(t);var i=t.length;if(2>i)return i?ta(t,e):t;var n=ta(t,Nu(e/Z(t)));return B(t)?Ma(X(n),0,e).join(""):n.slice(0,e)}function tr(e,t,i,n){function a(){for(var t=-1,l=arguments.length,c=-1,u=n.length,d=iu(u+l),v=this&&this!==an&&this instanceof a?s:e;++c<u;)d[c]=n[c];for(;l--;)d[c++]=arguments[++t];return r(v,o?i:this,d)}var o=t&he,s=Ga(e);return a}function ir(e){return function(t,i,n){return n&&"number"!=typeof n&&Lr(t,i,n)&&(i=n=ie),t=kl(t),i===ie?(i=t,t=0):i=kl(i),n=n===ie?i>t?1:-1:kl(n),ea(t,i,n,e)}}function nr(e){return function(t,i){return("string"!=typeof t||"string"!=typeof i)&&(t=Ml(t),i=Ml(i)),e(t,i)}}function ar(e,t,i,n,a,r,o,s,l,c){var u=t&be,d=u?o:ie,v=u?ie:o,p=u?r:ie,m=u?ie:r;t|=u?Se:ke,t&=~(u?ke:Se),t&ge||(t&=~(he|fe));var h=[e,t,a,p,d,m,v,s,l,c],f=i.apply(ie,h);return Rr(e)&&Pd(f,h),f.placeholder=n,Kr(f,e,t)}function rr(e){var t=ou[e];return function(e,i){if(e=Ml(e),i=null==i?0:Gu(wl(i),292),i&&Fu(e)){var n=(Il(e)+"e").split("e"),a=t(n[0]+"e"+(+n[1]+i));return n=(Il(a)+"e").split("e"),+(n[0]+"e"+(+n[1]-i))}return t(e)}}function or(e){return function(t){var i=Cd(t);return i==Ke?Y(t):i==it?H(t):A(t,e(t))}}function sr(e,t,i,n,a,r,o,s){var l=t&fe;if(!l&&"function"!=typeof e)throw new uu(oe);var c=n?n.length:0;if(c||(t&=~(Se|ke),n=a=ie),o=o===ie?o:zu(wl(o),0),s=s===ie?s:wl(s),c-=a?a.length:0,t&ke){var u=n,d=a;n=a=ie}var v=l?ie:_d(e),p=[e,t,i,n,a,u,d,r,o,s];if(v&&Fr(p,v),e=p[0],t=p[1],i=p[2],n=p[3],a=p[4],s=p[9]=p[9]===ie?l?0:e.length:zu(p[9]-c,0),!s&&t&(be|ye)&&(t&=~(be|ye)),t&&t!=he)m=t==be||t==ye?qa(e,t,s):t!=Se&&t!=(he|Se)||a.length?Qa.apply(ie,p):tr(e,t,i,n);else var m=Wa(e,t,i);var h=v?bd:Pd;return Kr(h(m,p),e,t)}function lr(e,t,i,n){return e===ie||zs(e,pu[i])&&!fu.call(n,i)?t:e}function cr(e,t,i,n,a,r){return al(e)&&al(t)&&(r.set(t,e),Yn(e,t,ie,cr,r),r["delete"](t)),e}function ur(e){return pl(e)?ie:e}function dr(e,t,i,n,a,r){var o=i&pe,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=r.get(e),u=r.get(t);if(c&&u)return c==t&&u==e;var d=-1,v=!0,p=i&me?new pi:ie;for(r.set(e,t),r.set(t,e);++d<s;){var m=e[d],h=t[d];if(n)var f=o?n(h,m,d,t,e,r):n(m,h,d,e,t,r);if(f!==ie){if(f)continue;v=!1;break}if(p){if(!g(t,function(e,t){return D(p,t)||m!==e&&!a(m,e,i,n,r)?void 0:p.push(t)})){v=!1;break}}else if(m!==h&&!a(m,h,i,n,r)){v=!1;break}}return r["delete"](e),r["delete"](t),v}function vr(e,t,i,n,a,r,o){switch(i){case ct:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case lt:return e.byteLength==t.byteLength&&r(new Ou(e),new Ou(t))?!0:!1;case We:case Ye:case Qe:return zs(+e,+t);case Ge:return e.name==t.name&&e.message==t.message;case tt:case nt:return e==t+"";case Ke:var s=Y;case it:var l=n&pe;if(s||(s=q),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;n|=me,o.set(e,t);var u=dr(s(e),s(t),n,a,r,o);return o["delete"](e),u;case at:if(dd)return dd.call(e)==dd.call(t)}return!1}function pr(e,t,i,n,a,r){var o=i&pe,s=hr(e),l=s.length,c=hr(t),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var v=s[d];if(!(o?v in t:fu.call(t,v)))return!1}var p=r.get(e),m=r.get(t);if(p&&m)return p==t&&m==e;var h=!0;r.set(e,t),r.set(t,e);for(var f=o;++d<l;){v=s[d];var g=e[v],b=t[v];if(n)var y=o?n(b,g,v,t,e,r):n(g,b,v,e,t,r);if(!(y===ie?g===b||a(g,b,i,n,r):y)){h=!1;break}f||(f="constructor"==v)}if(h&&!f){var S=e.constructor,k=t.constructor;S!=k&&"constructor"in e&&"constructor"in t&&!("function"==typeof S&&S instanceof S&&"function"==typeof k&&k instanceof k)&&(h=!1)}return r["delete"](e),r["delete"](t),h}function mr(e){return Ed(zr(e,ie,po),e+"")}function hr(e){return rn(e,jl,Md)}function fr(e){return rn(e,Bl,Od)}function gr(e){for(var t=e.name+"",i=ad[t],n=fu.call(ad,t)?i.length:0;n--;){var a=i[n],r=a.func;if(null==r||r==e)return a.name}return t}function br(e){var i=fu.call(t,"placeholder")?t:e;return i.placeholder}function yr(){var e=t.iteratee||Tc;return e=e===Tc?Vn:e,arguments.length?e(arguments[0],arguments[1]):e}function Sr(e,t){var i=e.__data__;return Dr(t)?i["string"==typeof t?"string":"hash"]:i.map}function kr(e){for(var t=jl(e),i=t.length;i--;){var n=t[i],a=e[n];t[i]=[n,a,xr(a)]}return t}function wr(e,t){var i=j(e,t);return Ln(i)?i:ie}function _r(e){var t=fu.call(e,Lu),i=e[Lu];try{e[Lu]=ie;var n=!0}catch(a){}var r=yu.call(e);return n&&(t?e[Lu]=i:delete e[Lu]),r}function Mr(e,t,i){for(var n=-1,a=i.length;++n<a;){var r=i[n],o=r.size;switch(r.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Gu(t,e+o);break;case"takeRight":e=zu(e,t-o)}}return{start:e,end:t}}function Or(e){var t=e.match(Nt);return t?t[1].split(xt):[]}function Cr(e,t,i){t=_a(t,e);for(var n=-1,a=t.length,r=!1;++n<a;){var o=Xr(t[n]);if(!(r=null!=e&&i(e,o)))break;e=e[o]}return r||++n!=a?r:(a=null==e?0:e.length,!!a&&nl(a)&&Ar(o,a)&&(fv(e)||hv(e)))}function Ir(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&fu.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function Pr(e){return"function"!=typeof e.constructor||Nr(e)?{}:pd(Iu(e))}function $r(e,t,i){var n=e.constructor;switch(t){case lt:return Ca(e);case We:case Ye:return new n(+e);case ct:return Ia(e,i);case ut:case dt:case vt:case pt:case mt:case ht:case ft:case gt:case bt:return Ea(e,i);case Ke:return new n;case Qe:case nt:return new n(e);case tt:return Pa(e);case it:return new n;case at:return $a(e)}}function Er(e,t){var i=t.length;if(!i)return e;var n=i-1;return t[n]=(i>1?"& ":"")+t[n],t=t.join(i>2?", ":" "),e.replace(Vt,"{\n/* [wrapped with "+t+"] */\n")}function Tr(e){return fv(e)||hv(e)||!!(Tu&&e&&e[Tu])}function Ar(e,t){var i=typeof e;return t=null==t?Le:t,!!t&&("number"==i||"symbol"!=i&&Ht.test(e))&&e>-1&&e%1==0&&t>e}function Lr(e,t,i){if(!al(i))return!1;var n=typeof t;return("number"==n?Gs(i)&&Ar(t,i.length):"string"==n&&t in i)?zs(i[t],e):!1}function Ur(e,t){if(fv(e))return!1;var i=typeof e;return"number"==i||"symbol"==i||"boolean"==i||null==e||fl(e)?!0:Et.test(e)||!$t.test(e)||null!=t&&e in su(t)}function Dr(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Rr(e){var i=gr(e),n=t[i];if("function"!=typeof n||!(i in a.prototype))return!1;if(e===n)return!0;var r=_d(n);return!!r&&e===r[0]}function Vr(e){return!!bu&&bu in e}function Nr(e){var t=e&&e.constructor,i="function"==typeof t&&t.prototype||pu;return e===i}function xr(e){return e===e&&!al(e)}function jr(e,t){return function(i){return null==i?!1:i[e]===t&&(t!==ie||e in su(i))}}function Br(e){var t=Ts(e,function(e){return i.size===le&&i.clear(),e}),i=t.cache;return t}function Fr(e,t){var i=e[1],n=t[1],a=i|n,r=(he|fe|we)>a,o=n==we&&i==be||n==we&&i==_e&&e[7].length<=t[8]||n==(we|_e)&&t[7].length<=t[8]&&i==be;if(!r&&!o)return e;n&he&&(e[2]=t[2],a|=i&he?0:ge);var s=t[3];if(s){var l=e[3];e[3]=l?La(l,s,t[4]):s,e[4]=l?G(e[3],ce):t[4]}return s=t[5],s&&(l=e[5],e[5]=l?Ua(l,s,t[6]):s,e[6]=l?G(e[5],ce):t[6]),s=t[7],s&&(e[7]=s),n&we&&(e[8]=null==e[8]?t[8]:Gu(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a,e}function Wr(e){var t=[];if(null!=e)for(var i in su(e))t.push(i);return t}function Yr(e){return yu.call(e)}function zr(e,t,i){return t=zu(t===ie?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=zu(n.length-t,0),s=iu(o);++a<o;)s[a]=n[t+a];a=-1;for(var l=iu(t+1);++a<t;)l[a]=n[a];return l[t]=i(s),r(e,this,l)}}function Gr(e,t){return t.length<2?e:nn(e,sa(t,0,-1))}function qr(e,t){for(var i=e.length,n=Gu(t.length,i),a=Da(e);n--;){var r=t[n];e[n]=Ar(r,i)?a[r]:ie}return e}function Hr(e,t){return"constructor"===t&&"function"==typeof e[t]||"__proto__"==t?void 0:e[t]}function Kr(e,t,i){var n=t+"";return Ed(e,Er(n,eo(Or(n),i)))}function Qr(e){var t=0,i=0;return function(){var n=qu(),a=Pe-(n-i);if(i=n,a>0){if(++t>=Ie)return arguments[0]}else t=0;return e.apply(ie,arguments)}}function Zr(e,t){var i=-1,n=e.length,a=n-1;for(t=t===ie?n:t;++i<t;){var r=Jn(i,a),o=e[r];e[r]=e[i],e[i]=o}return e.length=t,e}function Xr(e){if("string"==typeof e||fl(e))return e;var t=e+"";return"0"==t&&1/e==-Ae?"-0":t}function Jr(e){if(null!=e){try{return hu.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function eo(e,t){return s(xe,function(i){var n="_."+i[0];t&i[1]&&!d(e,n)&&e.push(n)}),e.sort()}function to(e){if(e instanceof a)return e.clone();var t=new n(e.__wrapped__,e.__chain__);return t.__actions__=Da(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function io(e,t,i){t=(i?Lr(e,t,i):t===ie)?1:zu(wl(t),0);var n=null==e?0:e.length;if(!n||1>t)return[];for(var a=0,r=0,o=iu(Nu(n/t));n>a;)o[r++]=sa(e,a,a+=t);return o}function no(e){for(var t=-1,i=null==e?0:e.length,n=0,a=[];++t<i;){var r=e[t];r&&(a[n++]=r)}return a}function ao(){var e=arguments.length;if(!e)return[];for(var t=iu(e-1),i=arguments[0],n=e;n--;)t[n-1]=arguments[n];return m(fv(i)?Da(i):[i],Qi(t,1))}function ro(e,t,i){var n=null==e?0:e.length;return n?(t=i||t===ie?1:wl(t),sa(e,0>t?0:t,n)):[]}function oo(e,t,i){var n=null==e?0:e.length;return n?(t=i||t===ie?1:wl(t),t=n-t,sa(e,0,0>t?0:t)):[]}function so(e,t){return e&&e.length?ga(e,yr(t,3),!0,!0):[]}function lo(e,t){return e&&e.length?ga(e,yr(t,3),!0):[]}function co(e,t,i,n){var a=null==e?0:e.length;return a?(i&&"number"!=typeof i&&Lr(e,t,i)&&(i=0,n=a),Yi(e,t,i,n)):[]}function uo(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var a=null==i?0:wl(i);return 0>a&&(a=zu(n+a,0)),k(e,yr(t,3),a)}function vo(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var a=n-1;return i!==ie&&(a=wl(i),a=0>i?zu(n+a,0):Gu(a,n-1)),k(e,yr(t,3),a,!0)}function po(e){var t=null==e?0:e.length;return t?Qi(e,1):[]}function mo(e){var t=null==e?0:e.length;return t?Qi(e,Ae):[]}function ho(e,t){var i=null==e?0:e.length;return i?(t=t===ie?1:wl(t),Qi(e,t)):[]}function fo(e){for(var t=-1,i=null==e?0:e.length,n={};++t<i;){var a=e[t];n[a[0]]=a[1]}return n}function go(e){return e&&e.length?e[0]:ie}function bo(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var a=null==i?0:wl(i);return 0>a&&(a=zu(n+a,0)),w(e,t,a)}function yo(e){var t=null==e?0:e.length;return t?sa(e,0,-1):[]}function So(e,t){return null==e?"":Wu.call(e,t)}function ko(e){var t=null==e?0:e.length;return t?e[t-1]:ie}function wo(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var a=n;return i!==ie&&(a=wl(i),a=0>a?zu(n+a,0):Gu(a,n-1)),t===t?Q(e,t,a):k(e,M,a,!0)}function _o(e,t){return e&&e.length?Gn(e,wl(t)):ie}function Mo(e,t){return e&&e.length&&t&&t.length?Zn(e,t):e}function Oo(e,t,i){return e&&e.length&&t&&t.length?Zn(e,t,yr(i,2)):e}function Co(e,t,i){return e&&e.length&&t&&t.length?Zn(e,t,ie,i):e}function Io(e,t){var i=[];if(!e||!e.length)return i;var n=-1,a=[],r=e.length;for(t=yr(t,3);++n<r;){var o=e[n];t(o,n,e)&&(i.push(o),a.push(n))}return Xn(e,a),i}function Po(e){return null==e?e:Qu.call(e)}function $o(e,t,i){var n=null==e?0:e.length;return n?(i&&"number"!=typeof i&&Lr(e,t,i)?(t=0,i=n):(t=null==t?0:wl(t),i=i===ie?n:wl(i)),sa(e,t,i)):[]}function Eo(e,t){return ca(e,t)}function To(e,t,i){return ua(e,t,yr(i,2))}function Ao(e,t){var i=null==e?0:e.length;if(i){var n=ca(e,t);if(i>n&&zs(e[n],t))return n}return-1}function Lo(e,t){return ca(e,t,!0)}function Uo(e,t,i){return ua(e,t,yr(i,2),!0)}function Do(e,t){var i=null==e?0:e.length;if(i){var n=ca(e,t,!0)-1;if(zs(e[n],t))return n}return-1}function Ro(e){return e&&e.length?da(e):[]}function Vo(e,t){return e&&e.length?da(e,yr(t,2)):[]}function No(e){var t=null==e?0:e.length;return t?sa(e,1,t):[]}function xo(e,t,i){return e&&e.length?(t=i||t===ie?1:wl(t),sa(e,0,0>t?0:t)):[]}function jo(e,t,i){var n=null==e?0:e.length;return n?(t=i||t===ie?1:wl(t),t=n-t,sa(e,0>t?0:t,n)):[]}function Bo(e,t){return e&&e.length?ga(e,yr(t,3),!1,!0):[]}function Fo(e,t){return e&&e.length?ga(e,yr(t,3)):[]}function Wo(e){return e&&e.length?ma(e):[]}function Yo(e,t){return e&&e.length?ma(e,yr(t,2)):[]}function zo(e,t){return t="function"==typeof t?t:ie,e&&e.length?ma(e,ie,t):[]}function Go(e){if(!e||!e.length)return[];var t=0;return e=u(e,function(e){return qs(e)?(t=zu(e.length,t),!0):void 0}),T(t,function(t){return p(e,C(t))})}function qo(e,t){if(!e||!e.length)return[];var i=Go(e);return null==t?i:p(i,function(e){return r(t,ie,e)})}function Ho(e,t){return Sa(e||[],t||[],Ii)}function Ko(e,t){return Sa(e||[],t||[],ra)}function Qo(e){var i=t(e);return i.__chain__=!0,i}function Zo(e,t){return t(e),e}function Xo(e,t){return t(e)}function Jo(){return Qo(this)}function es(){return new n(this.value(),this.__chain__)}function ts(){this.__values__===ie&&(this.__values__=Sl(this.value()));var e=this.__index__>=this.__values__.length,t=e?ie:this.__values__[this.__index__++];return{done:e,value:t}}function is(){return this}function ns(e){for(var t,n=this;n instanceof i;){var a=to(n);a.__index__=0,a.__values__=ie,t?r.__wrapped__=a:t=a;var r=a;n=n.__wrapped__}return r.__wrapped__=e,t}function as(){var e=this.__wrapped__;if(e instanceof a){var t=e;return this.__actions__.length&&(t=new a(this)),t=t.reverse(),t.__actions__.push({func:Xo,args:[Po],thisArg:ie}),new n(t,this.__chain__)}return this.thru(Po)}function rs(){return ba(this.__wrapped__,this.__actions__)}function os(e,t,i){var n=fv(e)?c:Fi;return i&&Lr(e,t,i)&&(t=ie),n(e,yr(t,3))}function ss(e,t){var i=fv(e)?u:Ki;return i(e,yr(t,3))}function ls(e,t){return Qi(ms(e,t),1)}function cs(e,t){return Qi(ms(e,t),Ae)}function us(e,t,i){return i=i===ie?1:wl(i),Qi(ms(e,t),i)}function ds(e,t){var i=fv(e)?s:md;return i(e,yr(t,3))}function vs(e,t){var i=fv(e)?l:hd;return i(e,yr(t,3))}function ps(e,t,i,n){e=Gs(e)?e:Jl(e),i=i&&!n?wl(i):0;var a=e.length;return 0>i&&(i=zu(a+i,0)),hl(e)?a>=i&&e.indexOf(t,i)>-1:!!a&&w(e,t,i)>-1}function ms(e,t){var i=fv(e)?p:Bn;return i(e,yr(t,3))}function hs(e,t,i,n){return null==e?[]:(fv(t)||(t=null==t?[]:[t]),i=n?ie:i,fv(i)||(i=null==i?[]:[i]),qn(e,t,i))}function fs(e,t,i){var n=fv(e)?h:P,a=arguments.length<3;return n(e,yr(t,4),i,a,md)}function gs(e,t,i){var n=fv(e)?f:P,a=arguments.length<3;return n(e,yr(t,4),i,a,hd)}function bs(e,t){var i=fv(e)?u:Ki;return i(e,As(yr(t,3)))}function ys(e){var t=fv(e)?_i:na;return t(e)}function Ss(e,t,i){t=(i?Lr(e,t,i):t===ie)?1:wl(t);var n=fv(e)?Mi:aa;return n(e,t)}function ks(e){var t=fv(e)?Oi:oa;return t(e)}function ws(e){if(null==e)return 0;if(Gs(e))return hl(e)?Z(e):e.length;var t=Cd(e);return t==Ke||t==it?e.size:Nn(e).length}function _s(e,t,i){var n=fv(e)?g:la;return i&&Lr(e,t,i)&&(t=ie),n(e,yr(t,3))}function Ms(e,t){if("function"!=typeof t)throw new uu(oe);return e=wl(e),function(){return--e<1?t.apply(this,arguments):void 0}}function Os(e,t,i){return t=i?ie:t,t=e&&null==t?e.length:t,sr(e,we,ie,ie,ie,ie,t)}function Cs(e,t){var i;if("function"!=typeof t)throw new uu(oe);return e=wl(e),function(){return--e>0&&(i=t.apply(this,arguments)),1>=e&&(t=ie),i}}function Is(e,t,i){t=i?ie:t;var n=sr(e,be,ie,ie,ie,ie,ie,t);return n.placeholder=Is.placeholder,n}function Ps(e,t,i){t=i?ie:t;var n=sr(e,ye,ie,ie,ie,ie,ie,t);return n.placeholder=Ps.placeholder,n}function $s(e,t,i){function n(t){var i=v,n=p;return v=p=ie,b=t,h=e.apply(n,i)}function a(e){return b=e,f=$d(s,t),y?n(e):h}function r(e){var i=e-g,n=e-b,a=t-i;return S?Gu(a,m-n):a}function o(e){var i=e-g,n=e-b;return g===ie||i>=t||0>i||S&&n>=m}function s(){var e=av();return o(e)?l(e):void(f=$d(s,r(e)))}function l(e){return f=ie,k&&v?n(e):(v=p=ie,h)}function c(){f!==ie&&kd(f),b=0,v=g=p=f=ie}function u(){return f===ie?h:l(av())}function d(){var e=av(),i=o(e);if(v=arguments,p=this,g=e,i){if(f===ie)return a(g);if(S)return kd(f),f=$d(s,t),n(g)}return f===ie&&(f=$d(s,t)),h}var v,p,m,h,f,g,b=0,y=!1,S=!1,k=!0;if("function"!=typeof e)throw new uu(oe);return t=Ml(t)||0,al(i)&&(y=!!i.leading,S="maxWait"in i,m=S?zu(Ml(i.maxWait)||0,t):m,k="trailing"in i?!!i.trailing:k),d.cancel=c,d.flush=u,d}function Es(e){return sr(e,Me)}function Ts(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new uu(oe);var i=function(){var n=arguments,a=t?t.apply(this,n):n[0],r=i.cache;if(r.has(a))return r.get(a);var o=e.apply(this,n);return i.cache=r.set(a,o)||r,o};return i.cache=new(Ts.Cache||si),i}function As(e){if("function"!=typeof e)throw new uu(oe);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Ls(e){return Cs(2,e)}function Us(e,t){if("function"!=typeof e)throw new uu(oe);return t=t===ie?t:wl(t),ia(e,t)}function Ds(e,t){if("function"!=typeof e)throw new uu(oe);return t=null==t?0:zu(wl(t),0),ia(function(i){var n=i[t],a=Ma(i,0,t);return n&&m(a,n),r(e,this,a)})}function Rs(e,t,i){var n=!0,a=!0;if("function"!=typeof e)throw new uu(oe);return al(i)&&(n="leading"in i?!!i.leading:n,a="trailing"in i?!!i.trailing:a),$s(e,t,{leading:n,maxWait:t,trailing:a})}function Vs(e){return Os(e,1)}function Ns(e,t){return uv(wa(t),e)}function xs(){if(!arguments.length)return[];var e=arguments[0];return fv(e)?e:[e]}function js(e){return Di(e,ve)}function Bs(e,t){return t="function"==typeof t?t:ie,Di(e,ve,t)}function Fs(e){return Di(e,ue|ve)}function Ws(e,t){return t="function"==typeof t?t:ie,Di(e,ue|ve,t)}function Ys(e,t){return null==t||Vi(e,t,jl(t))}function zs(e,t){return e===t||e!==e&&t!==t}function Gs(e){return null!=e&&nl(e.length)&&!tl(e)}function qs(e){return rl(e)&&Gs(e)}function Hs(e){return e===!0||e===!1||rl(e)&&on(e)==We}function Ks(e){return rl(e)&&1===e.nodeType&&!pl(e)}function Qs(e){if(null==e)return!0;if(Gs(e)&&(fv(e)||"string"==typeof e||"function"==typeof e.splice||bv(e)||_v(e)||hv(e)))return!e.length;var t=Cd(e);if(t==Ke||t==it)return!e.size;if(Nr(e))return!Nn(e).length;for(var i in e)if(fu.call(e,i))return!1;return!0}function Zs(e,t){return $n(e,t)}function Xs(e,t,i){i="function"==typeof i?i:ie;var n=i?i(e,t):ie;return n===ie?$n(e,t,ie,i):!!n}function Js(e){if(!rl(e))return!1;var t=on(e);return t==Ge||t==ze||"string"==typeof e.message&&"string"==typeof e.name&&!pl(e)}function el(e){return"number"==typeof e&&Fu(e)}function tl(e){if(!al(e))return!1;var t=on(e);return t==qe||t==He||t==Fe||t==et}function il(e){return"number"==typeof e&&e==wl(e)}function nl(e){return"number"==typeof e&&e>-1&&e%1==0&&Le>=e}function al(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rl(e){return null!=e&&"object"==typeof e}function ol(e,t){return e===t||An(e,t,kr(t))}function sl(e,t,i){return i="function"==typeof i?i:ie,An(e,t,kr(t),i)}function ll(e){return vl(e)&&e!=+e}function cl(e){if(Id(e))throw new au(re);return Ln(e)}function ul(e){return null===e}function dl(e){return null==e}function vl(e){return"number"==typeof e||rl(e)&&on(e)==Qe}function pl(e){if(!rl(e)||on(e)!=Xe)return!1;var t=Iu(e);if(null===t)return!0;var i=fu.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&hu.call(i)==Su}function ml(e){return il(e)&&e>=-Le&&Le>=e}function hl(e){return"string"==typeof e||!fv(e)&&rl(e)&&on(e)==nt}function fl(e){return"symbol"==typeof e||rl(e)&&on(e)==at}function gl(e){return e===ie}function bl(e){return rl(e)&&Cd(e)==ot}function yl(e){return rl(e)&&on(e)==st}function Sl(e){if(!e)return[];if(Gs(e))return hl(e)?X(e):Da(e);if(Au&&e[Au])return W(e[Au]());var t=Cd(e),i=t==Ke?Y:t==it?q:Jl;return i(e)}function kl(e){if(!e)return 0===e?e:0;if(e=Ml(e),e===Ae||e===-Ae){var t=0>e?-1:1;return t*Ue}return e===e?e:0}function wl(e){var t=kl(e),i=t%1;return t===t?i?t-i:t:0}function _l(e){return e?Ui(wl(e),0,Re):0}function Ml(e){if("number"==typeof e)return e;if(fl(e))return De;if(al(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=al(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ut,"");var i=zt.test(e);return i||qt.test(e)?en(e.slice(2),i?2:8):Yt.test(e)?De:+e}function Ol(e){return Ra(e,Bl(e))}function Cl(e){return e?Ui(wl(e),-Le,Le):0===e?e:0}function Il(e){return null==e?"":pa(e)}function Pl(e,t){var i=pd(e);return null==t?i:Ei(i,t)}function $l(e,t){return S(e,yr(t,3),Zi)}function El(e,t){return S(e,yr(t,3),Xi)}function Tl(e,t){return null==e?e:fd(e,yr(t,3),Bl)}function Al(e,t){return null==e?e:gd(e,yr(t,3),Bl)}function Ll(e,t){return e&&Zi(e,yr(t,3))}function Ul(e,t){return e&&Xi(e,yr(t,3))}function Dl(e){return null==e?[]:tn(e,jl(e))}function Rl(e){return null==e?[]:tn(e,Bl(e))}function Vl(e,t,i){var n=null==e?ie:nn(e,t);return n===ie?i:n}function Nl(e,t){return null!=e&&Cr(e,t,cn)}function xl(e,t){return null!=e&&Cr(e,t,fn)}function jl(e){return Gs(e)?wi(e):Nn(e)}function Bl(e){return Gs(e)?wi(e,!0):xn(e)}function Fl(e,t){var i={};return t=yr(t,3),Zi(e,function(e,n,a){Ai(i,t(e,n,a),e)}),i}function Wl(e,t){var i={};return t=yr(t,3),Zi(e,function(e,n,a){Ai(i,n,t(e,n,a))}),i}function Yl(e,t){return zl(e,As(yr(t)))}function zl(e,t){if(null==e)return{};var i=p(fr(e),function(e){return[e]});return t=yr(t),Kn(e,i,function(e,i){return t(e,i[0])})}function Gl(e,t,i){t=_a(t,e);var n=-1,a=t.length;for(a||(a=1,e=ie);++n<a;){var r=null==e?ie:e[Xr(t[n])];r===ie&&(n=a,r=i),e=tl(r)?r.call(e):r}return e}function ql(e,t,i){return null==e?e:ra(e,t,i)}function Hl(e,t,i,n){return n="function"==typeof n?n:ie,null==e?e:ra(e,t,i,n)}function Kl(e,t,i){var n=fv(e),a=n||bv(e)||_v(e);if(t=yr(t,4),null==i){var r=e&&e.constructor;i=a?n?new r:[]:al(e)&&tl(r)?pd(Iu(e)):{}}return(a?s:Zi)(e,function(e,n,a){return t(i,e,n,a)}),i}function Ql(e,t){return null==e?!0:ha(e,t)}function Zl(e,t,i){return null==e?e:fa(e,t,wa(i))}function Xl(e,t,i,n){
return n="function"==typeof n?n:ie,null==e?e:fa(e,t,wa(i),n)}function Jl(e){return null==e?[]:U(e,jl(e))}function ec(e){return null==e?[]:U(e,Bl(e))}function tc(e,t,i){return i===ie&&(i=t,t=ie),i!==ie&&(i=Ml(i),i=i===i?i:0),t!==ie&&(t=Ml(t),t=t===t?t:0),Ui(Ml(e),t,i)}function ic(e,t,i){return t=kl(t),i===ie?(i=t,t=0):i=kl(i),e=Ml(e),Sn(e,t,i)}function nc(e,t,i){if(i&&"boolean"!=typeof i&&Lr(e,t,i)&&(t=i=ie),i===ie&&("boolean"==typeof t?(i=t,t=ie):"boolean"==typeof e&&(i=e,e=ie)),e===ie&&t===ie?(e=0,t=1):(e=kl(e),t===ie?(t=e,e=0):t=kl(t)),e>t){var n=e;e=t,t=n}if(i||e%1||t%1){var a=Ku();return Gu(e+a*(t-e+Ji("1e-"+((a+"").length-1))),t)}return Jn(e,t)}function ac(e){return Kv(Il(e).toLowerCase())}function rc(e){return e=Il(e),e&&e.replace(Kt,gn).replace(ji,"")}function oc(e,t,i){e=Il(e),t=pa(t);var n=e.length;i=i===ie?n:Ui(wl(i),0,n);var a=i;return i-=t.length,i>=0&&e.slice(i,a)==t}function sc(e){return e=Il(e),e&&Ot.test(e)?e.replace(_t,bn):e}function lc(e){return e=Il(e),e&&Lt.test(e)?e.replace(At,"\\$&"):e}function cc(e,t,i){e=Il(e),t=wl(t);var n=t?Z(e):0;if(!t||n>=t)return e;var a=(t-n)/2;return er(xu(a),i)+e+er(Nu(a),i)}function uc(e,t,i){e=Il(e),t=wl(t);var n=t?Z(e):0;return t&&t>n?e+er(t-n,i):e}function dc(e,t,i){e=Il(e),t=wl(t);var n=t?Z(e):0;return t&&t>n?er(t-n,i)+e:e}function vc(e,t,i){return i||null==t?t=0:t&&(t=+t),Hu(Il(e).replace(Dt,""),t||0)}function pc(e,t,i){return t=(i?Lr(e,t,i):t===ie)?1:wl(t),ta(Il(e),t)}function mc(){var e=arguments,t=Il(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function hc(e,t,i){return i&&"number"!=typeof i&&Lr(e,t,i)&&(t=i=ie),(i=i===ie?Re:i>>>0)?(e=Il(e),e&&("string"==typeof t||null!=t&&!kv(t))&&(t=pa(t),!t&&B(e))?Ma(X(e),0,i):e.split(t,i)):[]}function fc(e,t,i){return e=Il(e),i=null==i?0:Ui(wl(i),0,e.length),t=pa(t),e.slice(i,i+t.length)==t}function gc(e,i,n){var a=t.templateSettings;n&&Lr(e,i,n)&&(i=ie),e=Il(e),i=Pv({},i,a,lr);var r,o,s=Pv({},i.imports,a.imports,lr),l=jl(s),c=U(s,l),u=0,d=i.interpolate||Qt,v="__p += '",p=lu((i.escape||Qt).source+"|"+d.source+"|"+(d===Pt?Ft:Qt).source+"|"+(i.evaluate||Qt).source+"|$","g"),m="//# sourceURL="+(fu.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Gi+"]")+"\n";e.replace(p,function(t,i,n,a,s,l){return n||(n=a),v+=e.slice(u,l).replace(Zt,x),i&&(r=!0,v+="' +\n__e("+i+") +\n'"),s&&(o=!0,v+="';\n"+s+";\n__p += '"),n&&(v+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),v+="';\n";var h=fu.call(i,"variable")&&i.variable;h||(v="with (obj) {\n"+v+"\n}\n"),v=(o?v.replace(yt,""):v).replace(St,"$1").replace(kt,"$1;"),v="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+v+"return __p\n}";var f=Qv(function(){return ru(l,m+"return "+v).apply(ie,c)});if(f.source=v,Js(f))throw f;return f}function bc(e){return Il(e).toLowerCase()}function yc(e){return Il(e).toUpperCase()}function Sc(e,t,i){if(e=Il(e),e&&(i||t===ie))return e.replace(Ut,"");if(!e||!(t=pa(t)))return e;var n=X(e),a=X(t),r=R(n,a),o=V(n,a)+1;return Ma(n,r,o).join("")}function kc(e,t,i){if(e=Il(e),e&&(i||t===ie))return e.replace(Rt,"");if(!e||!(t=pa(t)))return e;var n=X(e),a=V(n,X(t))+1;return Ma(n,0,a).join("")}function wc(e,t,i){if(e=Il(e),e&&(i||t===ie))return e.replace(Dt,"");if(!e||!(t=pa(t)))return e;var n=X(e),a=R(n,X(t));return Ma(n,a).join("")}function _c(e,t){var i=Oe,n=Ce;if(al(t)){var a="separator"in t?t.separator:a;i="length"in t?wl(t.length):i,n="omission"in t?pa(t.omission):n}e=Il(e);var r=e.length;if(B(e)){var o=X(e);r=o.length}if(i>=r)return e;var s=i-Z(n);if(1>s)return n;var l=o?Ma(o,0,s).join(""):e.slice(0,s);if(a===ie)return l+n;if(o&&(s+=l.length-s),kv(a)){if(e.slice(s).search(a)){var c,u=l;for(a.global||(a=lu(a.source,Il(Wt.exec(a))+"g")),a.lastIndex=0;c=a.exec(u);)var d=c.index;l=l.slice(0,d===ie?s:d)}}else if(e.indexOf(pa(a),s)!=s){var v=l.lastIndexOf(a);v>-1&&(l=l.slice(0,v))}return l+n}function Mc(e){return e=Il(e),e&&Mt.test(e)?e.replace(wt,yn):e}function Oc(e,t,i){return e=Il(e),t=i?ie:t,t===ie?F(e)?te(e):y(e):e.match(t)||[]}function Cc(e){var t=null==e?0:e.length,i=yr();return e=t?p(e,function(e){if("function"!=typeof e[1])throw new uu(oe);return[i(e[0]),e[1]]}):[],ia(function(i){for(var n=-1;++n<t;){var a=e[n];if(r(a[0],this,i))return r(a[1],this,i)}})}function Ic(e){return Ri(Di(e,ue))}function Pc(e){return function(){return e}}function $c(e,t){return null==e||e!==e?t:e}function Ec(e){return e}function Tc(e){return Vn("function"==typeof e?e:Di(e,ue))}function Ac(e){return Fn(Di(e,ue))}function Lc(e,t){return Wn(e,Di(t,ue))}function Uc(e,t,i){var n=jl(t),a=tn(t,n);null!=i||al(t)&&(a.length||!n.length)||(i=t,t=e,e=this,a=tn(t,jl(t)));var r=!(al(i)&&"chain"in i&&!i.chain),o=tl(e);return s(a,function(i){var n=t[i];e[i]=n,o&&(e.prototype[i]=function(){var t=this.__chain__;if(r||t){var i=e(this.__wrapped__),a=i.__actions__=Da(this.__actions__);return a.push({func:n,args:arguments,thisArg:e}),i.__chain__=t,i}return n.apply(e,m([this.value()],arguments))})}),e}function Dc(){return an._===this&&(an._=ku),this}function Rc(){}function Vc(e){return e=wl(e),ia(function(t){return Gn(t,e)})}function Nc(e){return Ur(e)?C(Xr(e)):Qn(e)}function xc(e){return function(t){return null==e?ie:nn(e,t)}}function jc(){return[]}function Bc(){return!1}function Fc(){return{}}function Wc(){return""}function Yc(){return!0}function zc(e,t){if(e=wl(e),1>e||e>Le)return[];var i=Re,n=Gu(e,Re);t=yr(t),e-=Re;for(var a=T(n,t);++i<e;)t(i);return a}function Gc(e){return fv(e)?p(e,Xr):fl(e)?[e]:Da(Td(Il(e)))}function qc(e){var t=++gu;return Il(e)+t}function Hc(e){return e&&e.length?Wi(e,Ec,ln):ie}function Kc(e,t){return e&&e.length?Wi(e,yr(t,2),ln):ie}function Qc(e){return O(e,Ec)}function Zc(e,t){return O(e,yr(t,2))}function Xc(e){return e&&e.length?Wi(e,Ec,jn):ie}function Jc(e,t){return e&&e.length?Wi(e,yr(t,2),jn):ie}function eu(e){return e&&e.length?E(e,Ec):0}function tu(e,t){return e&&e.length?E(e,yr(t,2)):0}e=null==e?an:kn.defaults(an.Object(),e,kn.pick(an,zi));var iu=e.Array,nu=e.Date,au=e.Error,ru=e.Function,ou=e.Math,su=e.Object,lu=e.RegExp,cu=e.String,uu=e.TypeError,du=iu.prototype,vu=ru.prototype,pu=su.prototype,mu=e["__core-js_shared__"],hu=vu.toString,fu=pu.hasOwnProperty,gu=0,bu=function(){var e=/[^.]+$/.exec(mu&&mu.keys&&mu.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),yu=pu.toString,Su=hu.call(su),ku=an._,wu=lu("^"+hu.call(fu).replace(At,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_u=sn?e.Buffer:ie,Mu=e.Symbol,Ou=e.Uint8Array,Cu=_u?_u.allocUnsafe:ie,Iu=z(su.getPrototypeOf,su),Pu=su.create,$u=pu.propertyIsEnumerable,Eu=du.splice,Tu=Mu?Mu.isConcatSpreadable:ie,Au=Mu?Mu.iterator:ie,Lu=Mu?Mu.toStringTag:ie,Uu=function(){try{var e=wr(su,"defineProperty");return e({},"",{}),e}catch(t){}}(),Du=e.clearTimeout!==an.clearTimeout&&e.clearTimeout,Ru=nu&&nu.now!==an.Date.now&&nu.now,Vu=e.setTimeout!==an.setTimeout&&e.setTimeout,Nu=ou.ceil,xu=ou.floor,ju=su.getOwnPropertySymbols,Bu=_u?_u.isBuffer:ie,Fu=e.isFinite,Wu=du.join,Yu=z(su.keys,su),zu=ou.max,Gu=ou.min,qu=nu.now,Hu=e.parseInt,Ku=ou.random,Qu=du.reverse,Zu=wr(e,"DataView"),Xu=wr(e,"Map"),Ju=wr(e,"Promise"),ed=wr(e,"Set"),td=wr(e,"WeakMap"),id=wr(su,"create"),nd=td&&new td,ad={},rd=Jr(Zu),od=Jr(Xu),sd=Jr(Ju),ld=Jr(ed),cd=Jr(td),ud=Mu?Mu.prototype:ie,dd=ud?ud.valueOf:ie,vd=ud?ud.toString:ie,pd=function(){function e(){}return function(t){if(!al(t))return{};if(Pu)return Pu(t);e.prototype=t;var i=new e;return e.prototype=ie,i}}();t.templateSettings={escape:Ct,evaluate:It,interpolate:Pt,variable:"",imports:{_:t}},t.prototype=i.prototype,t.prototype.constructor=t,n.prototype=pd(i.prototype),n.prototype.constructor=n,a.prototype=pd(i.prototype),a.prototype.constructor=a,J.prototype.clear=ee,J.prototype["delete"]=jt,J.prototype.get=Xt,J.prototype.has=Jt,J.prototype.set=ei,ti.prototype.clear=ii,ti.prototype["delete"]=ni,ti.prototype.get=ai,ti.prototype.has=ri,ti.prototype.set=oi,si.prototype.clear=li,si.prototype["delete"]=ci,si.prototype.get=ui,si.prototype.has=di,si.prototype.set=vi,pi.prototype.add=pi.prototype.push=mi,pi.prototype.has=hi,fi.prototype.clear=gi,fi.prototype["delete"]=bi,fi.prototype.get=yi,fi.prototype.has=Si,fi.prototype.set=ki;var md=Ba(Zi),hd=Ba(Xi,!0),fd=Fa(),gd=Fa(!0),bd=nd?function(e,t){return nd.set(e,t),e}:Ec,yd=Uu?function(e,t){return Uu(e,"toString",{configurable:!0,enumerable:!1,value:Pc(t),writable:!0})}:Ec,Sd=ia,kd=Du||function(e){return an.clearTimeout(e)},wd=ed&&1/q(new ed([,-0]))[1]==Ae?function(e){return new ed(e)}:Rc,_d=nd?function(e){return nd.get(e)}:Rc,Md=ju?function(e){return null==e?[]:(e=su(e),u(ju(e),function(t){return $u.call(e,t)}))}:jc,Od=ju?function(e){for(var t=[];e;)m(t,Md(e)),e=Iu(e);return t}:jc,Cd=on;(Zu&&Cd(new Zu(new ArrayBuffer(1)))!=ct||Xu&&Cd(new Xu)!=Ke||Ju&&Cd(Ju.resolve())!=Je||ed&&Cd(new ed)!=it||td&&Cd(new td)!=ot)&&(Cd=function(e){var t=on(e),i=t==Xe?e.constructor:ie,n=i?Jr(i):"";if(n)switch(n){case rd:return ct;case od:return Ke;case sd:return Je;case ld:return it;case cd:return ot}return t});var Id=mu?tl:Bc,Pd=Qr(bd),$d=Vu||function(e,t){return an.setTimeout(e,t)},Ed=Qr(yd),Td=Br(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Tt,function(e,i,n,a){t.push(n?a.replace(Bt,"$1"):i||e)}),t}),Ad=ia(function(e,t){return qs(e)?Bi(e,Qi(t,1,qs,!0)):[]}),Ld=ia(function(e,t){var i=ko(t);return qs(i)&&(i=ie),qs(e)?Bi(e,Qi(t,1,qs,!0),yr(i,2)):[]}),Ud=ia(function(e,t){var i=ko(t);return qs(i)&&(i=ie),qs(e)?Bi(e,Qi(t,1,qs,!0),ie,i):[]}),Dd=ia(function(e){var t=p(e,ka);return t.length&&t[0]===e[0]?_n(t):[]}),Rd=ia(function(e){var t=ko(e),i=p(e,ka);return t===ko(i)?t=ie:i.pop(),i.length&&i[0]===e[0]?_n(i,yr(t,2)):[]}),Vd=ia(function(e){var t=ko(e),i=p(e,ka);return t="function"==typeof t?t:ie,t&&i.pop(),i.length&&i[0]===e[0]?_n(i,ie,t):[]}),Nd=ia(Mo),xd=mr(function(e,t){var i=null==e?0:e.length,n=Li(e,t);return Xn(e,p(t,function(e){return Ar(e,i)?+e:e}).sort(Ta)),n}),jd=ia(function(e){return ma(Qi(e,1,qs,!0))}),Bd=ia(function(e){var t=ko(e);return qs(t)&&(t=ie),ma(Qi(e,1,qs,!0),yr(t,2))}),Fd=ia(function(e){var t=ko(e);return t="function"==typeof t?t:ie,ma(Qi(e,1,qs,!0),ie,t)}),Wd=ia(function(e,t){return qs(e)?Bi(e,t):[]}),Yd=ia(function(e){return ya(u(e,qs))}),zd=ia(function(e){var t=ko(e);return qs(t)&&(t=ie),ya(u(e,qs),yr(t,2))}),Gd=ia(function(e){var t=ko(e);return t="function"==typeof t?t:ie,ya(u(e,qs),ie,t)}),qd=ia(Go),Hd=ia(function(e){var t=e.length,i=t>1?e[t-1]:ie;return i="function"==typeof i?(e.pop(),i):ie,qo(e,i)}),Kd=mr(function(e){var t=e.length,i=t?e[0]:0,r=this.__wrapped__,o=function(t){return Li(t,e)};return!(t>1||this.__actions__.length)&&r instanceof a&&Ar(i)?(r=r.slice(i,+i+(t?1:0)),r.__actions__.push({func:Xo,args:[o],thisArg:ie}),new n(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(ie),e})):this.thru(o)}),Qd=xa(function(e,t,i){fu.call(e,i)?++e[i]:Ai(e,i,1)}),Zd=Ha(uo),Xd=Ha(vo),Jd=xa(function(e,t,i){fu.call(e,i)?e[i].push(t):Ai(e,i,[t])}),ev=ia(function(e,t,i){var n=-1,a="function"==typeof t,o=Gs(e)?iu(e.length):[];return md(e,function(e){o[++n]=a?r(t,e,i):On(e,t,i)}),o}),tv=xa(function(e,t,i){Ai(e,i,t)}),iv=xa(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]}),nv=ia(function(e,t){if(null==e)return[];var i=t.length;return i>1&&Lr(e,t[0],t[1])?t=[]:i>2&&Lr(t[0],t[1],t[2])&&(t=[t[0]]),qn(e,Qi(t,1),[])}),av=Ru||function(){return an.Date.now()},rv=ia(function(e,t,i){var n=he;if(i.length){var a=G(i,br(rv));n|=Se}return sr(e,n,t,i,a)}),ov=ia(function(e,t,i){var n=he|fe;if(i.length){var a=G(i,br(ov));n|=Se}return sr(t,n,e,i,a)}),sv=ia(function(e,t){return Ni(e,1,t)}),lv=ia(function(e,t,i){return Ni(e,Ml(t)||0,i)});Ts.Cache=si;var cv=Sd(function(e,t){t=1==t.length&&fv(t[0])?p(t[0],L(yr())):p(Qi(t,1),L(yr()));var i=t.length;return ia(function(n){for(var a=-1,o=Gu(n.length,i);++a<o;)n[a]=t[a].call(this,n[a]);return r(e,this,n)})}),uv=ia(function(e,t){var i=G(t,br(uv));return sr(e,Se,ie,t,i)}),dv=ia(function(e,t){var i=G(t,br(dv));return sr(e,ke,ie,t,i)}),vv=mr(function(e,t){return sr(e,_e,ie,ie,ie,t)}),pv=nr(ln),mv=nr(function(e,t){return e>=t}),hv=Cn(function(){return arguments}())?Cn:function(e){return rl(e)&&fu.call(e,"callee")&&!$u.call(e,"callee")},fv=iu.isArray,gv=un?L(un):In,bv=Bu||Bc,yv=dn?L(dn):Pn,Sv=vn?L(vn):Tn,kv=pn?L(pn):Un,wv=mn?L(mn):Dn,_v=hn?L(hn):Rn,Mv=nr(jn),Ov=nr(function(e,t){return t>=e}),Cv=ja(function(e,t){if(Nr(t)||Gs(t))return void Ra(t,jl(t),e);for(var i in t)fu.call(t,i)&&Ii(e,i,t[i])}),Iv=ja(function(e,t){Ra(t,Bl(t),e)}),Pv=ja(function(e,t,i,n){Ra(t,Bl(t),e,n)}),$v=ja(function(e,t,i,n){Ra(t,jl(t),e,n)}),Ev=mr(Li),Tv=ia(function(e,t){e=su(e);var i=-1,n=t.length,a=n>2?t[2]:ie;for(a&&Lr(t[0],t[1],a)&&(n=1);++i<n;)for(var r=t[i],o=Bl(r),s=-1,l=o.length;++s<l;){var c=o[s],u=e[c];(u===ie||zs(u,pu[c])&&!fu.call(e,c))&&(e[c]=r[c])}return e}),Av=ia(function(e){return e.push(ie,cr),r(Vv,ie,e)}),Lv=Za(function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=yu.call(t)),e[t]=i},Pc(Ec)),Uv=Za(function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=yu.call(t)),fu.call(e,t)?e[t].push(i):e[t]=[i]},yr),Dv=ia(On),Rv=ja(function(e,t,i){Yn(e,t,i)}),Vv=ja(function(e,t,i,n){Yn(e,t,i,n)}),Nv=mr(function(e,t){var i={};if(null==e)return i;var n=!1;t=p(t,function(t){return t=_a(t,e),n||(n=t.length>1),t}),Ra(e,fr(e),i),n&&(i=Di(i,ue|de|ve,ur));for(var a=t.length;a--;)ha(i,t[a]);return i}),xv=mr(function(e,t){return null==e?{}:Hn(e,t)}),jv=or(jl),Bv=or(Bl),Fv=za(function(e,t,i){return t=t.toLowerCase(),e+(i?ac(t):t)}),Wv=za(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),Yv=za(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),zv=Ya("toLowerCase"),Gv=za(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()}),qv=za(function(e,t,i){return e+(i?" ":"")+Kv(t)}),Hv=za(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),Kv=Ya("toUpperCase"),Qv=ia(function(e,t){try{return r(e,ie,t)}catch(i){return Js(i)?i:new au(i)}}),Zv=mr(function(e,t){return s(t,function(t){t=Xr(t),Ai(e,t,rv(e[t],e))}),e}),Xv=Ka(),Jv=Ka(!0),ep=ia(function(e,t){return function(i){return On(i,e,t)}}),tp=ia(function(e,t){return function(i){return On(e,i,t)}}),ip=Ja(p),np=Ja(c),ap=Ja(g),rp=ir(),op=ir(!0),sp=Xa(function(e,t){return e+t},0),lp=rr("ceil"),cp=Xa(function(e,t){return e/t},1),up=rr("floor"),dp=Xa(function(e,t){return e*t},1),vp=rr("round"),pp=Xa(function(e,t){return e-t},0);return t.after=Ms,t.ary=Os,t.assign=Cv,t.assignIn=Iv,t.assignInWith=Pv,t.assignWith=$v,t.at=Ev,t.before=Cs,t.bind=rv,t.bindAll=Zv,t.bindKey=ov,t.castArray=xs,t.chain=Qo,t.chunk=io,t.compact=no,t.concat=ao,t.cond=Cc,t.conforms=Ic,t.constant=Pc,t.countBy=Qd,t.create=Pl,t.curry=Is,t.curryRight=Ps,t.debounce=$s,t.defaults=Tv,t.defaultsDeep=Av,t.defer=sv,t.delay=lv,t.difference=Ad,t.differenceBy=Ld,t.differenceWith=Ud,t.drop=ro,t.dropRight=oo,t.dropRightWhile=so,t.dropWhile=lo,t.fill=co,t.filter=ss,t.flatMap=ls,t.flatMapDeep=cs,t.flatMapDepth=us,t.flatten=po,t.flattenDeep=mo,t.flattenDepth=ho,t.flip=Es,t.flow=Xv,t.flowRight=Jv,t.fromPairs=fo,t.functions=Dl,t.functionsIn=Rl,t.groupBy=Jd,t.initial=yo,t.intersection=Dd,t.intersectionBy=Rd,t.intersectionWith=Vd,t.invert=Lv,t.invertBy=Uv,t.invokeMap=ev,t.iteratee=Tc,t.keyBy=tv,t.keys=jl,t.keysIn=Bl,t.map=ms,t.mapKeys=Fl,t.mapValues=Wl,t.matches=Ac,t.matchesProperty=Lc,t.memoize=Ts,t.merge=Rv,t.mergeWith=Vv,t.method=ep,t.methodOf=tp,t.mixin=Uc,t.negate=As,t.nthArg=Vc,t.omit=Nv,t.omitBy=Yl,t.once=Ls,t.orderBy=hs,t.over=ip,t.overArgs=cv,t.overEvery=np,t.overSome=ap,t.partial=uv,t.partialRight=dv,t.partition=iv,t.pick=xv,t.pickBy=zl,t.property=Nc,t.propertyOf=xc,t.pull=Nd,t.pullAll=Mo,t.pullAllBy=Oo,t.pullAllWith=Co,t.pullAt=xd,t.range=rp,t.rangeRight=op,t.rearg=vv,t.reject=bs,t.remove=Io,t.rest=Us,t.reverse=Po,t.sampleSize=Ss,t.set=ql,t.setWith=Hl,t.shuffle=ks,t.slice=$o,t.sortBy=nv,t.sortedUniq=Ro,t.sortedUniqBy=Vo,t.split=hc,t.spread=Ds,t.tail=No,t.take=xo,t.takeRight=jo,t.takeRightWhile=Bo,t.takeWhile=Fo,t.tap=Zo,t.throttle=Rs,t.thru=Xo,t.toArray=Sl,t.toPairs=jv,t.toPairsIn=Bv,t.toPath=Gc,t.toPlainObject=Ol,t.transform=Kl,t.unary=Vs,t.union=jd,t.unionBy=Bd,t.unionWith=Fd,t.uniq=Wo,t.uniqBy=Yo,t.uniqWith=zo,t.unset=Ql,t.unzip=Go,t.unzipWith=qo,t.update=Zl,t.updateWith=Xl,t.values=Jl,t.valuesIn=ec,t.without=Wd,t.words=Oc,t.wrap=Ns,t.xor=Yd,t.xorBy=zd,t.xorWith=Gd,t.zip=qd,t.zipObject=Ho,t.zipObjectDeep=Ko,t.zipWith=Hd,t.entries=jv,t.entriesIn=Bv,t.extend=Iv,t.extendWith=Pv,Uc(t,t),t.add=sp,t.attempt=Qv,t.camelCase=Fv,t.capitalize=ac,t.ceil=lp,t.clamp=tc,t.clone=js,t.cloneDeep=Fs,t.cloneDeepWith=Ws,t.cloneWith=Bs,t.conformsTo=Ys,t.deburr=rc,t.defaultTo=$c,t.divide=cp,t.endsWith=oc,t.eq=zs,t.escape=sc,t.escapeRegExp=lc,t.every=os,t.find=Zd,t.findIndex=uo,t.findKey=$l,t.findLast=Xd,t.findLastIndex=vo,t.findLastKey=El,t.floor=up,t.forEach=ds,t.forEachRight=vs,t.forIn=Tl,t.forInRight=Al,t.forOwn=Ll,t.forOwnRight=Ul,t.get=Vl,t.gt=pv,t.gte=mv,t.has=Nl,t.hasIn=xl,t.head=go,t.identity=Ec,t.includes=ps,t.indexOf=bo,t.inRange=ic,t.invoke=Dv,t.isArguments=hv,t.isArray=fv,t.isArrayBuffer=gv,t.isArrayLike=Gs,t.isArrayLikeObject=qs,t.isBoolean=Hs,t.isBuffer=bv,t.isDate=yv,t.isElement=Ks,t.isEmpty=Qs,t.isEqual=Zs,t.isEqualWith=Xs,t.isError=Js,t.isFinite=el,t.isFunction=tl,t.isInteger=il,t.isLength=nl,t.isMap=Sv,t.isMatch=ol,t.isMatchWith=sl,t.isNaN=ll,t.isNative=cl,t.isNil=dl,t.isNull=ul,t.isNumber=vl,t.isObject=al,t.isObjectLike=rl,t.isPlainObject=pl,t.isRegExp=kv,t.isSafeInteger=ml,t.isSet=wv,t.isString=hl,t.isSymbol=fl,t.isTypedArray=_v,t.isUndefined=gl,t.isWeakMap=bl,t.isWeakSet=yl,t.join=So,t.kebabCase=Wv,t.last=ko,t.lastIndexOf=wo,t.lowerCase=Yv,t.lowerFirst=zv,t.lt=Mv,t.lte=Ov,t.max=Hc,t.maxBy=Kc,t.mean=Qc,t.meanBy=Zc,t.min=Xc,t.minBy=Jc,t.stubArray=jc,t.stubFalse=Bc,t.stubObject=Fc,t.stubString=Wc,t.stubTrue=Yc,t.multiply=dp,t.nth=_o,t.noConflict=Dc,t.noop=Rc,t.now=av,t.pad=cc,t.padEnd=uc,t.padStart=dc,t.parseInt=vc,t.random=nc,t.reduce=fs,t.reduceRight=gs,t.repeat=pc,t.replace=mc,t.result=Gl,t.round=vp,t.runInContext=wn,t.sample=ys,t.size=ws,t.snakeCase=Gv,t.some=_s,t.sortedIndex=Eo,t.sortedIndexBy=To,t.sortedIndexOf=Ao,t.sortedLastIndex=Lo,t.sortedLastIndexBy=Uo,t.sortedLastIndexOf=Do,t.startCase=qv,t.startsWith=fc,t.subtract=pp,t.sum=eu,t.sumBy=tu,t.template=gc,t.times=zc,t.toFinite=kl,t.toInteger=wl,t.toLength=_l,t.toLower=bc,t.toNumber=Ml,t.toSafeInteger=Cl,t.toString=Il,t.toUpper=yc,t.trim=Sc,t.trimEnd=kc,t.trimStart=wc,t.truncate=_c,t.unescape=Mc,t.uniqueId=qc,t.upperCase=Hv,t.upperFirst=Kv,t.each=ds,t.eachRight=vs,t.first=go,Uc(t,function(){var e={};return Zi(t,function(i,n){fu.call(t.prototype,n)||(e[n]=i)}),e}(),{chain:!1}),t.VERSION=ne,s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),s(["drop","take"],function(e,t){a.prototype[e]=function(i){i=i===ie?1:zu(wl(i),0);var n=this.__filtered__&&!t?new a(this):this.clone();return n.__filtered__?n.__takeCount__=Gu(i,n.__takeCount__):n.__views__.push({size:Gu(i,Re),type:e+(n.__dir__<0?"Right":"")}),n},a.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),s(["filter","map","takeWhile"],function(e,t){var i=t+1,n=i==$e||i==Te;a.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:yr(e,3),type:i}),t.__filtered__=t.__filtered__||n,t}}),s(["head","last"],function(e,t){var i="take"+(t?"Right":"");a.prototype[e]=function(){return this[i](1).value()[0]}}),s(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");a.prototype[e]=function(){return this.__filtered__?new a(this):this[i](1)}}),a.prototype.compact=function(){return this.filter(Ec)},a.prototype.find=function(e){return this.filter(e).head()},a.prototype.findLast=function(e){return this.reverse().find(e)},a.prototype.invokeMap=ia(function(e,t){return"function"==typeof e?new a(this):this.map(function(i){return On(i,e,t)})}),a.prototype.reject=function(e){return this.filter(As(yr(e)))},a.prototype.slice=function(e,t){e=wl(e);var i=this;return i.__filtered__&&(e>0||0>t)?new a(i):(0>e?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==ie&&(t=wl(t),i=0>t?i.dropRight(-t):i.take(t-e)),i)},a.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},a.prototype.toArray=function(){return this.take(Re)},Zi(a.prototype,function(e,i){var r=/^(?:filter|find|map|reject)|While$/.test(i),o=/^(?:head|last)$/.test(i),s=t[o?"take"+("last"==i?"Right":""):i],l=o||/^find/.test(i);s&&(t.prototype[i]=function(){var i=this.__wrapped__,c=o?[1]:arguments,u=i instanceof a,d=c[0],v=u||fv(i),p=function(e){var i=s.apply(t,m([e],c));return o&&h?i[0]:i};v&&r&&"function"==typeof d&&1!=d.length&&(u=v=!1);var h=this.__chain__,f=!!this.__actions__.length,g=l&&!h,b=u&&!f;if(!l&&v){i=b?i:new a(this);var y=e.apply(i,c);return y.__actions__.push({func:Xo,args:[p],thisArg:ie}),new n(y,h)}return g&&b?e.apply(this,c):(y=this.thru(p),g?o?y.value()[0]:y.value():y)})}),s(["pop","push","shift","sort","splice","unshift"],function(e){var i=du[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",a=/^(?:pop|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;if(a&&!this.__chain__){var t=this.value();return i.apply(fv(t)?t:[],e)}return this[n](function(t){return i.apply(fv(t)?t:[],e)})}}),Zi(a.prototype,function(e,i){var n=t[i];if(n){var a=n.name+"";fu.call(ad,a)||(ad[a]=[]),ad[a].push({name:i,func:n})}}),ad[Qa(ie,fe).name]=[{name:"wrapper",func:ie}],a.prototype.clone=b,a.prototype.reverse=I,a.prototype.value=K,t.prototype.at=Kd,t.prototype.chain=Jo,t.prototype.commit=es,t.prototype.next=ts,t.prototype.plant=ns,t.prototype.reverse=as,t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=rs,t.prototype.first=t.prototype.head,Au&&(t.prototype[Au]=is),t},kn=Sn();an._=kn,n=function(){return kn}.call(t,i,t,a),!(n!==ie&&(a.exports=n))}).call(this)}).call(t,function(){return this}(),i(109)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n){"ngInject";i(this,e),this.$uibModalInstance=t,this.dataObj=n,this.passwordInputType="password"}return e.$inject=["$uibModalInstance","dataObj"],n(e,[{key:"togglePasswordVisibility",value:function(){this.passwordInputType="password"===this.passwordInputType?"input":"password"}},{key:"save",value:function(){this.drivePasswordForm.$valid&&this.$uibModalInstance.close({username:this.dataObj.username,password:this.dataObj.password})}},{key:"cancel",value:function(){this.$uibModalInstance.dismiss()}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a){"ngInject";i(this,e),this.$uibModalInstance=t,this.dataObj=n,this.$translate=a}return e.$inject=["$uibModalInstance","dataObj","$translate"],n(e,[{key:"close",value:function(){this.$uibModalInstance.close()}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n){"ngInject";i(this,e),this.$uibModalInstance=t,this.dataObj=n}return e.$inject=["$uibModalInstance","dataObj"],n(e,[{key:"cancel",value:function(){this.$uibModalInstance.dismiss("cancel")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n){"ngInject";i(this,e),this.$uibModalInstance=t,this.dataObj=n}return e.$inject=["$uibModalInstance","dataObj"],n(e,[{key:"cancel",value:function(){this.$uibModalInstance.dismiss("cancel")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s){"ngInject";i(this,e),this.$uibModalInstance=t,this.dataObj=n,this.socketService=a,this.$http=r,this.modalService=o,this.$state=s,this.loadingCredit={},this.unavailableCredits={},this.creditRequestOptions={timeout:7e3}}return e.$inject=["$uibModalInstance","dataObj","socketService","$http","modalService","$state"],n(e,[{key:"cancel",value:function(){this.$uibModalInstance.dismiss("cancel")}},{key:"goToUpgrade",value:function(){this.$uibModalInstance.dismiss("cancel"),this.modalService.closeAllModals(),this.$state.go("myvolumio.plans")}},{key:"showCreditLink",value:function(e,t,i){var n=this,a=this.socketService.host+"/api/v1/pluginEndpoint",r={endpoint:"metavolumio",data:{}};if(e.indexOf("mbid:/artist/")>-1)r.data.mbid=e.replace("mbid:/artist/",""),r.data.mode="storyArtist",this.loadingCredit[e+i]=!0;else if(e.indexOf("mbid:/place/")>-1)r.data.mbid=e.replace("mbid:/place/",""),r.data.mode="storyPlace",this.loadingCredit[e+i]=!0;else{if(!(e.indexOf("mbid:/label/")>-1))return;r.data.mbid=e.replace("mbid:/label/",""),r.data.mode="storyLabel",this.loadingCredit[e+i]=!0}return this.$http.post(a,r,this.creditRequestOptions).then(function(a){return a.data&&a.data.success&&a.data.data&&a.data.data.value?(n.loadingCredit[e+i]=!1,n.showCreditsDetails({title:t,story:a.data.data.value})):(n.unavailableCredits[e+i]=!0,void(n.loadingCredit[e+i]=!1))})}},{key:"showCreditsDetails",value:function(e){var t="app/browse-music/components/modal/modal-credits-details.html",i="ModalCreditsDetailsController",n={title:e.title,story:e.story,credits:e.credits};this.modalService.openModal(i,t,n,"md")}},{key:"hasCreditLink",value:function(e){return e.indexOf("mbid:/artist/")>-1||e.indexOf("mbid:/label/")>-1||e.indexOf("mbid:/place/")>-1?!0:!1}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c){"ngInject";i(this,e),this.socketService=a,this.$rootScope=t,this.$scope=n,this.$log=o,this.$translate=s,this.uiSettingsService=c,this.init()}return e.$inject=["$rootScope","$scope","socketService","mockService","$log","$translate","themeManager","uiSettingsService"],n(e,[{key:"init",value:function(){this.registerListner(),this.initService(),this.securityTypes=[{label:"open"},{label:"wep"},{label:"wpa"},{label:"wpa2"}]}},{key:"insertPassword",value:function(e){var t=this;this.wirelessNetworks.available.forEach(function(i,n){t.wirelessNetworks.available[n].insertPassword=n!==e?void 0:!0})}},{key:"connectToWifi",value:function(e,t){var i={ssid:e.ssid,security:e.security.label||e.security,password:e.password,hidden:e.hidden};this.wirelessNetworks.available[t].insertPassword=void 0,this.$log.debug("connect to",e,i),this.socketService.emit("saveWirelessNetworkSettings",i)}},{key:"connectToWifiWizard",value:function(e,t){var i={ssid:e.ssid,security:e.security.label||e.security,password:e.password,hidden:e.hidden,persistentWizard:this.isPersistentWizard()};this.wirelessNetworks.available[t].insertPassword=void 0,this.$log.debug("connect to",e,i),this.socketService.emit("connectWirelessNetworkWizard",i)}},{key:"cancelConnectToWifi",value:function(e){e.insertPassword=void 0}},{key:"refreshWifiNetworks",value:function(){this.socketService.emit("getWirelessNetworks","")}},{key:"disconnectFromWiFi",value:function(){}},{key:"addManualConnectionEntry",value:function(e){return e.available=e.available.filter(function(e){return!e.manual}),e.available.slice(-1).pop().manual||e.available.push({security:this.securityTypes[0],signal:-1,ssidHidden:!0,manual:!0}),e}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushWirelessNetworks",function(t){e.$log.debug("pushWirelessNetworks",t),e.wirelessNetworks||(e.wirelessNetworks={available:[]}),t||(t={available:[]}),t.available.forEach(function(t){var i=e.wirelessNetworks.available.find(function(e){return e.ssid===t.ssid});void 0!==i?(i.security=t.security,i.signal=t.signal):e.wirelessNetworks.available.push(t)}),e.wirelessNetworks=e.addManualConnectionEntry(e.wirelessNetworks),e.wirelessNetworks.available.map(function(t){t.security&&""!==t.security||(t.security=e.securityTypes[0],t.hotSpot=!0)})}),this.socketService.on("pushWizardWirelessConnResults",function(t){e.$log.debug("pushWizardWirelessConnResults",t),e.wirelessNetworks="",e.WirelessConnResults=t}),this.$scope.$on("$destroy",function(){e.socketService.off("pushWirelessNetworks"),e.socketService.off("pushWizardWirelessConnResults")})}},{key:"initService",value:function(){this.socketService.emit("getWirelessNetworks")}},{key:"isPersistentWizard",value:function(){return this.uiSettingsService.uiSettings&&this.uiSettingsService.uiSettings.persistentWizard===!0?!0:!1}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l){"ngInject";i(this,e),this.socketService=a,this.$rootScope=n,this.$scope=t,this.$log=o,this.$translate=s,this.$stateParams=l,this.init()}return e.$inject=["$scope","$rootScope","socketService","mockService","$log","$translate","$stateParams"],n(e,[{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"connectToWifi",value:function(e){}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushInfoNetworkReload",function(t){e.$log.debug("pushInfoNetworkReload",t),"system_controller-network"===e.$stateParams.pluginName&&window.location.reload()}),this.$scope.$on("$destroy",function(){e.socketService.off("pushInfoNetworkReload")}),this.socketService.on("pushInfoNetwork",function(t){e.$log.debug("pushInfoNetwork",t),e.networkInfos=t}),this.$scope.$on("$destroy",function(){e.socketService.off("pushInfoNetwork")})}},{key:"initService",
value:function(){this.socketService.emit("getInfoNetwork")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s){"ngInject";i(this,e),this.socketService=n,this.$interval=r,this.$scope=t,this.$log=o,this.$translate=s,this.init()}return e.$inject=["$scope","socketService","mockService","$interval","$log","$translate"],n(e,[{key:"rescanLibrary",value:function(){this.socketService.emit("rescanDb")}},{key:"updateLibrary",value:function(){this.socketService.emit("updateDb")}},{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushMyCollectionStats",function(t){e.$log.debug("pushMyCollectionStats",t),e.myCollectionStats=t}),this.$scope.$on("$destroy",function(){e.socketService.off("pushMyCollectionStats"),e.intervalHandler&&e.$interval.cancel(e.intervalHandler)})}},{key:"initService",value:function(){var e=this;this.socketService.emit("getMyCollectionStats"),this.intervalHandler=this.$interval(function(){e.socketService.emit("getMyCollectionStats")},4e3)}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c){"ngInject";i(this,e),this.drive={},this.socketService=n,this.modalService=a,this.toastMessageService=o,this.$scope=t,this.$log=s,this.$filter=l,this.matchmediaService=c,this.passwordInputType="password",this.inAddDrive=!1,this.driveTypes=["cifs","nfs"],this.init()}return e.$inject=["$scope","socketService","modalService","mockService","toastMessageService","$log","$filter","matchmediaService"],n(e,[{key:"saveAddEditDrive",value:function(){this.inAddDrive?(this.$log.debug("addShare",this.drive),this.socketService.emit("addShare",this.drive)):(this.$log.debug("editShare",this.drive),this.socketService.emit("editShare",this.drive)),this.inAddDrive=!1,this.inEditDrive=!1}},{key:"cancelAddEditDrive",value:function(){this.inAddDrive=!1,this.inEditDrive=!1}},{key:"addDrive",value:function(){this.drive={fstype:"cifs"},this.inAddDrive=!0,this.inEditDrive=!1,this.advancedVisible=!1,this.networkShares=void 0,this.socketService.emit("getNetworkSharesDiscovery"),this.$log.debug("emit getNetworkSharesDiscovery")}},{key:"editDrive",value:function(e,t){this.$log.debug("edit",t),this.inEditDrive=t,this.inAddDrive=!1,this.advancedVisible=!0,this.drive=e}},{key:"deleteDrive",value:function(e){var t=this,i=this.$filter("translate")("NETWORKFS.DELETE_DRIVE"),n=""+this.$filter("translate")("NETWORKFS.DELETE_DRIVE_CONFIRM")+" "+e.name+"?",a=this.modalService.openModal("ModalConfirmController","app/components/modals/modal-confirm.html",{title:i,message:n});a.result.then(function(i){t.$log.debug("deleteShare",{id:e.name}),t.socketService.emit("deleteShare",{id:e.id})},function(){})}},{key:"selectShare",value:function(e,t){this.drive.ip=e.name,this.drive.name=t.sharename,this.drive.path=t.path}},{key:"showNasHelper",value:function(){this.socketService.emit("showNasHelper")}},{key:"togglePasswordVisibility",value:function(){this.passwordInputType="password"===this.passwordInputType?"input":"password"}},{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushListShares",function(t){e.$log.debug("infoShare",t),e.infoShare=t}),this.socketService.on("pushListUsbDrives",function(t){e.$log.debug("listUsbDrives",t),e.listUsbDrives=t}),this.socketService.on("pushAddShare",function(t){e.$log.debug("pushAddShare",t),t.success?e.toastMessageService.showMessage("success","Share successfully mounted...",""):(e.toastMessageService.showMessage("error","An error occured during adding share",""),e.$log.debug("addShare failed",t)),e.socketService.emit("getListShares")}),this.socketService.on("pushDeleteShare",function(t){e.$log.debug("pushDeleteShare",t),t.success?(e.toastMessageService.showMessage("success","Share successfully unmounted...",""),e.socketService.emit("getListShares")):(e.toastMessageService.showMessage("error","An error occured during deleting share",""),e.$log.debug("deleteShare failed",t))}),this.socketService.on("pushNetworkSharesDiscovery",function(t){e.$log.debug("pushNetworkSharesDiscovery",t),e.networkShares=t}),this.socketService.on("nasCredentialsCheck",function(t){e.$log.debug("nasCredentialsCheck",t),e.drive={id:t.id,name:t.name};var i=e.modalService.openModal("ModalNetwordDrivesPasswordController","app/plugin/core-plugin/modals/modal-network-drive-password.html",t);i.result.then(function(t){e.drive=angular.extend(e.drive,t),e.$log.debug("updateSharePw",e.drive),e.socketService.emit("editShare",e.drive)},function(){})}),this.$scope.$on("$destroy",function(){e.socketService.off("pushListShares"),e.socketService.off("pushListUsbDrives"),e.socketService.off("pushAddShare"),e.socketService.off("pushDeleteShare"),e.socketService.off("pushNetworkSharesDiscovery"),e.socketService.off("nasCredentialsCheck")})}},{key:"initService",value:function(){this.socketService.emit("getListShares"),this.socketService.emit("getListUsbDrives")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r){"ngInject";i(this,e),this.socketService=n,this.$scope=t,this.$log=a,this.$translate=r,this.init()}return e.$inject=["$scope","socketService","$log","$translate"],n(e,[{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushSystemVersion",function(t){e.$log.debug("pushSystemVersion",t),e.systemVersion=t}),this.$scope.$on("$destroy",function(){e.socketService.off("pushSystemVersion")})}},{key:"initService",value:function(){this.socketService.emit("getSystemVersion")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l){"ngInject";i(this,e),this.socketService=n,this.$scope=t,this.$log=r,this.Upload=o,this.modalService=s,this.updaterService=l,this.init()}return e.$inject=["$scope","socketService","mockService","$log","Upload","modalService","updaterService"],n(e,[{key:"init",value:function(){this.registerListner(),this.initService(),this.modalPayload={},this.resolveTranslations()}},{key:"uploadFirmware",value:function(){var e=this,t=this.modalService.openModal("ModalUpdaterController","app/components/modals/modal-updater.html",this.modalPayload,"lg");this.updaterService.status="updateProgress",this.updaterService.updateProgress={status:this.modalPayload.description,progress:0},this.Upload.upload({url:""+this.socketService.host+"/firmware-upload",data:{filename:this.firmwareFile}}).then(function(e){},function(t){e.$log.debug("Error status: "+t.status)},function(i){e.uploadPercentage=parseInt(100*i.loaded/i.total),e.updaterService.updateProgress.progress=e.uploadPercentage,100===e.uploadPercentage&&t.close()})}},{key:"resolveTranslations",value:function(){this.modalPayload.title="Uploading Firmware File",this.modalPayload.description="Uploading Firmware File"}},{key:"registerListner",value:function(){}},{key:"initService",value:function(){}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c){"ngInject";i(this,e),this.socketService=n,this.$scope=t,this.$log=r,this.$document=s,this.themeManager=o,this.Upload=l,this.uiSettingsService=c,this.init()}return e.$inject=["$scope","socketService","mockService","$log","themeManager","$document","Upload","uiSettingsService"],n(e,[{key:"selectBackground",value:function(e){this.$log.debug("setBackgrounds",e),this.socketService.emit("setBackgrounds",e)}},{key:"selectBackgroundColor",value:function(e){e.length>=4&&this.socketService.emit("setBackgrounds",{color:e})}},{key:"deleteBackground",value:function(e){this.$log.debug("deleteBackground",e),this.socketService.emit("deleteBackground",e)}},{key:"uploadBackground",value:function(){var e=this;this.Upload.upload({url:""+this.socketService.host+"/backgrounds-upload",data:{filename:this.backgroundFile}}).then(function(t){e.uploadPercentage=!1},function(t){e.uploadPercentage=!1,e.$log.debug("Error status: "+t.status)},function(t){e.uploadPercentage=parseInt(100*t.loaded/t.total),100===e.uploadPercentage&&(e.uploadPercentage=!1)})}},{key:"init",value:function(){var e=this;this.registerListner(),this.initService(),this.backgroundColorSet=["#000","#999","#CCC","#C44","#CAF","#388"];var t=!this.backgroundColorSet.find(function(t){return e.uiSettingsService.uiSettings.color&&t===e.uiSettingsService.uiSettings.color});this.customBackgroundColor=this.uiSettingsService.uiSettings.color&&t?this.uiSettingsService.uiSettings.color:"#DDD"}},{key:"registerListner",value:function(){}},{key:"initService",value:function(){this.socketService.emit("getBackgrounds")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s){"ngInject";i(this,e),this.socketService=n,this.$scope=t,this.$log=r,this.$state=o,this.matchmediaService=s,this.init()}return e.$inject=["$scope","socketService","mockService","$log","$state","matchmediaService"],n(e,[{key:"init",value:function(){this.registerListner(),this.initService()}},{key:"enableDisableMyMusicPlugin",value:function(e){this.$log.debug("enableDisableMyMusicPlugins",e),this.socketService.emit("enableDisableMyMusicPlugin",e)}},{key:"showMyMusicPluginSettings",value:function(e){this.$log.debug("showMyMusicPluginSettings",e),this.$state.go("volumio.plugin",{pluginName:""+e.category+"-"+e.name,isPluginSettings:!0})}},{key:"registerListner",value:function(){var e=this;this.socketService.on("pushMyMusicPlugins",function(t){e.$log.debug("pushMyMusicPlugins",t),e.plugins=t}),this.$scope.$on("$destroy",function(){e.socketService.off("pushMyMusicPlugins")})}},{key:"initService",value:function(){this.socketService.emit("getMyMusicPlugins")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o){"ngInject";i(this,e),this.$scope=t,this.authService=r,this.$state=n,this.modalService=a,this.user=o,this.authInit()}return e.$inject=["$scope","$state","modalService","authService","user"],n(e,[{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(t){e.postAuthInit()})}},{key:"postAuthInit",value:function(){null!==this.user&&this.$state.go("myvolumio.profile")}},{key:"login",value:function(){var e=this;this.authService.login(this.username,this.pass).then(function(t){e.$state.go("myvolumio.profile")},function(t){e.modalService.openDefaultErrorModal(t)})}},{key:"loginWithFacebook",value:function(){this.loginWithProvider("facebook")}},{key:"loginWithGoogle",value:function(){this.loginWithProvider("google")}},{key:"loginWithGithub",value:function(){this.loginWithProvider("github")}},{key:"loginWithProvider",value:function(e){var t=this;this.authService.loginWithProvider(e)["catch"](function(e){t.modalService.openDefaultErrorModal(e)})}},{key:"logOut",value:function(){this.authService.logOut()}},{key:"goToRecoverPassword",value:function(){this.$state.go("myvolumio.recover-password")}},{key:"isSocialEnabled",value:function(){return this.authService.isSocialEnabled()}},{key:"goToSignUp",value:function(){this.$state.go("myvolumio.signup")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s){"ngInject";i(this,e),this.$scope=t,this.$state=n,this.modalService=r,this.authService=a,this.$translate=o,this.user=s,this.agreeButtonSettings={on:"glyphicon glyphicon-check",off:"glyphicon glyphicon-unchecked"},this.termsButtonIcon=this.agreeButtonSettings.off,this.marketingConsentButtonSettings={on:"glyphicon glyphicon-check",off:"glyphicon glyphicon-unchecked"},this.marketingConsentButtonIcon=this.marketingConsentButtonSettings.off,this.form={termsCheckbox:!1,marketingConsent:!1},this.init()}return e.$inject=["$scope","$state","authService","modalService","$translate","user"],n(e,[{key:"init",value:function(){this.authInit(),this.initTermsAgreementButton()}},{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(t){e.postAuthInit()})}},{key:"postAuthInit",value:function(){null!==this.user&&this.$state.go("myvolumio.profile")}},{key:"loginWithFacebook",value:function(){this.loginWithProvider("facebook")}},{key:"loginWithGoogle",value:function(){this.loginWithProvider("google")}},{key:"loginWithGithub",value:function(){this.loginWithProvider("github")}},{key:"loginWithProvider",value:function(e){var t=this;this.authService.loginWithProvider(e)["catch"](function(e){t.modalService.openDefaultErrorModal(e)})}},{key:"clickShowTerms",value:function(){this.openTermsModal()}},{key:"initTermsAgreementButton",value:function(){this.updateAgreementDisplay()}},{key:"clickAgreementButton",value:function(){this.form.termsCheckbox=!this.form.termsCheckbox,this.updateAgreementDisplay()}},{key:"updateAgreementDisplay",value:function(){this.termsButtonIcon=this.agreeButtonSettings[this.form.termsCheckbox?"on":"off"]}},{key:"clickMarketingConsentButton",value:function(){this.form.marketingConsent=!this.form.marketingConsent,this.updateMarketingConsentDisplay()}},{key:"updateMarketingConsentDisplay",value:function(){this.marketingConsentButtonIcon=this.marketingConsentButtonSettings[this.form.marketingConsent?"on":"off"]}},{key:"openTermsModal",value:function(){var e="app/components/myvolumio/modals/myvolumio-terms-modal/myvolumio-terms-modal.html",t="MyVolumioTermsModalController",i={title:"Terms and conditions"};this.modalService.openModal(t,e,i,"md")}},{key:"submitForm",value:function(){var e=this;if(this.validate()===!0){var t={firstName:this.firstName,lastName:this.lastName,password:this.password,email:this.email,marketingConsent:this.form.marketingConsent,avatarId:0,social:{},country:""};this.authService.signup(t).then(function(t){e.$state.go("myvolumio.profile")},function(t){e.modalService.openDefaultErrorModal(t)})}}},{key:"validate",value:function(){return this.validateFormCheckBox()&&this.validatePasswordMatch()}},{key:"validateFormCheckBox",value:function(){return this.form.termsCheckbox===!0?!0:(this.modalService.openDefaultErrorModal("MYVOLUMIO.ERROR_VALIDATION_TERMS_UNACCEPTED"),!1)}},{key:"validatePasswordMatch",value:function(){return this.password===this.passwordConfirm?!0:(this.modalService.openDefaultErrorModal("MYVOLUMIO.ERROR_VALIDATION_PASSWORD_MATCH"),!1)}},{key:"isSocialEnabled",value:function(){return this.authService.isSocialEnabled()}},{key:"goToLogin",value:function(){this.$state.go("myvolumio.login")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c,u,d,v,p,m){"ngInject";i(this,e),this.$scope=t,this.$state=r,this.modalService=s,this.authService=o,this.$translate=l,this.filteredTranslate=c("translate"),this.paymentsService=n,this.productService=a,this.$log=d,this.socketService=v,this.$rootScope=p,this.statisticsService=m,this.user=u,this.newUser=null,this.form={termsCheckbox:!1,marketingConsent:!1},this.$scope.step=1,this.signUpInitiated=!1,this.products=[],this.productsObj={},this.$scope.model={},this.$scope.model.selectedProduct=null,this.selectedPlanDuration="yearly",this.switchLabelMonthly=this.$translate("MYVOLUMIO.MONTHLY"),this.switchLabelYearly=this.$translate("MYVOLUMIO.YEARLY"),this.init()}return e.$inject=["$scope","paymentsService","productsService","$state","authService","modalService","$translate","$filter","user","$log","socketService","$rootScope","statisticsService"],n(e,[{key:"selectProduct",value:function(e){}},{key:"init",value:function(){this.authInit(),this.initProducts(),this.initSocket(),this.$scope.model.selectedProduct="virtuoso"}},{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(e){})}},{key:"postAuthInit",value:function(){null!==this.user&&(this.signUpInitiated||this.$state.go("myvolumio.profile"))}},{key:"loginWithFacebook",value:function(){this.loginWithProvider("facebook")}},{key:"loginWithGoogle",value:function(){this.loginWithProvider("google")}},{key:"loginWithGithub",value:function(){this.loginWithProvider("github")}},{key:"loginWithProvider",value:function(e){var t=this;this.authService.loginWithProvider(e)["catch"](function(e){t.modalService.openDefaultErrorModal(e)})}},{key:"clickShowTerms",value:function(){this.openTermsModal()}},{key:"stepForwards",value:function(){this.$scope.step<2&&this.$scope.step++}},{key:"stepBackwards",value:function(){1===this.$scope.step}},{key:"initProducts",value:function(){var e=this;this.productService.getProducts().then(function(t){e.productsObj=t,e.products=[t.free,t.virtuoso,t.superstar]})}},{key:"clickAgreementButton",value:function(){this.form.termsCheckbox=!this.form.termsCheckbox}},{key:"clickMarketingConsentButton",value:function(){this.form.marketingConsent=!this.form.marketingConsent}},{key:"openTermsModal",value:function(){var e="app/components/myvolumio/modals/myvolumio-terms-modal/myvolumio-terms-modal.html",t="MyVolumioTermsModalController",i={title:"Terms and conditions"};this.modalService.openModal(t,e,i,"md")}},{key:"submitForm",value:function(){var e=this;if(this.validate()===!0){this.signUpInitiated=!0;var t={firstName:this.firstName,lastName:this.lastName,password:this.password,email:this.email,marketingConsent:this.form.marketingConsent,avatarId:0,social:{},country:""};this.authService.signup(t).then(function(t){e.newUser=t,e.statisticsService.signalLead(),e.stepForwards()},function(t){e.modalService.openDefaultErrorModal(t),e.signUpInitiated=!1})}}},{key:"validate",value:function(){return this.validateFormCheckBox()&&this.validatePasswordMatch()}},{key:"validateFormCheckBox",value:function(){return this.form.termsCheckbox===!0?!0:(this.modalService.openDefaultErrorModal("MYVOLUMIO.ERROR_VALIDATION_TERMS_UNACCEPTED"),!1)}},{key:"validatePasswordMatch",value:function(){return this.password===this.passwordConfirm?!0:(this.modalService.openDefaultErrorModal("MYVOLUMIO.ERROR_VALIDATION_PASSWORD_MATCH"),!1)}},{key:"isSocialEnabled",value:function(){return this.authService.isSocialEnabled()}},{key:"goToLogin",value:function(){this.$state.go("myvolumio.login")}},{key:"getPaddleProductId",value:function(){return void 0===this.productsObj[this.$scope.model.selectedProduct].prices||void 0===this.selectedPlanDuration?void 0:this.productsObj[this.$scope.model.selectedProduct].prices[this.selectedPlanDuration].paddleId}},{key:"getTrialParameters",value:function(){if(void 0===this.productsObj[this.$scope.model.selectedProduct].prices||void 0===this.selectedPlanDuration)return void 0;var e={trialDays:"",trialDaysAuth:"",trialAuth:""};return this.productsObj[this.$scope.model.selectedProduct].prices[this.selectedPlanDuration].trial.trialEnabled&&this.productsObj[this.$scope.model.selectedProduct].prices[this.selectedPlanDuration].trial.trialDays&&this.productsObj[this.$scope.model.selectedProduct].prices[this.selectedPlanDuration].trial.trialDaysAuth&&this.productsObj[this.$scope.model.selectedProduct].prices[this.selectedPlanDuration].trial.trialAuth&&(e.trialDays=this.productsObj[this.$scope.model.selectedProduct].prices[this.selectedPlanDuration].trial.trialDays,e.trialDaysAuth=this.productsObj[this.$scope.model.selectedProduct].prices[this.selectedPlanDuration].trial.trialDaysAuth,e.trialAuth=this.productsObj[this.$scope.model.selectedProduct].prices[this.selectedPlanDuration].trial.trialAuth),e}},{key:"isTrial",value:function(){return!!this.productsObj[this.$scope.model.selectedProduct].prices[this.selectedPlanDuration].trial}},{key:"getProduct",value:function(){return this.productsObj[this.$scope.model.selectedProduct]}},{key:"handlePayment",value:function(){var e=this;if("free"===this.$scope.model.selectedProduct)return void this.$state.go("myvolumio.profile");var t=this.getPaddleProductId(),i="",n="",a="",r="";if(this.isTrial()){var o=this.getTrialParameters();i=o.trialDays,n=o.trialDaysAuth,r=o.trialAuth,a=0}if(void 0===t||!Number.isInteger(t))return void this.showSignupErrorModal("no paddleId found");if(!this.newUser)return void this.showSignupErrorModal("no authenticated user found");if(!(this.newUser&&this.newUser.email&&this.newUser.uid||(this.newUser=this.authService.getCurrentAuthUser(),this.newUser&&this.newUser.email&&this.newUser.uid)))return void this.showSignupErrorModal("missing email and uid");var s={product:t,email:this.newUser.email,passthrough:{email:this.newUser.email,uid:this.newUser.uid},successCallback:function(t){e.successCallback(t)},closeCallback:function(t){e.closeCallback(t)}};this.couponCode?s.coupon=this.couponCode:(s.trialDays=i,s.trialDaysAuth=n,s.price=a,s.auth=r),Paddle.Checkout.open(s,!1)}},{key:"successCallback",value:function(e){this.statisticsService.signalSubscriptionCreated(this.getProduct(),this.selectedPlanDuration,this.isTrial(),e),this.$state.go("myvolumio.payment-success")}},{key:"closeCallback",value:function(e){this.modalService.openDefaultErrorModal("MYVOLUMIO.COMPLETE_CHECKOUT")}},{key:"getTrialOverride",value:function(){return this.productService.getTrialOverride()}},{key:"onCouponCodeChange",value:function(e){this.$log.debug("myvolumio coupon :",e),this.couponCode=e,this.productService.setTrialOverride(this.couponCode.length?!0:!1)}},{key:"initSocket",value:function(){var e=this;this.socketService.isSocketAvalaible()&&(this.registerListener(),this.$rootScope.$on("socket:reconnect",function(){e.registerListener()}))}},{key:"registerListener",value:function(){var e=this;this.socketService.isSocketAvalaible()&&(this.socketService.on("userUpgradedFromDeviceCode",function(){e.executeUserUpgradedFromDeviceCode()}),this.$rootScope.$on("$destroy",function(){e.socketService.off("userUpgradedFromDeviceCode")}))}},{key:"executeUserUpgradedFromDeviceCode",value:function(){"myvolumio.signup"===this.$state.current.name&&this.$state.go("myvolumio.profile")}},{key:"showSignupErrorModal",value:function(e){var t=this.filteredTranslate("MYVOLUMIO.SIGNUP_ERROR_CONTACT_SUPPORT")+" "+e;this.modalService.openDefaultErrorModal(t)}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c,u){"ngInject";i(this,e),this.$scope=t,this.$state=r,this.authService=o,this.$translate=l,this.paymentsService=n,this.productService=a,this.statisticsService=u,this.user=null,this.newUser=null,this.authUser=null,this.form={termsCheckbox:!1,marketingConsent:!1},this.$scope.step=1,this.signUpInitiated=!1,this.products=[],this.productsObj={},this.cheapestPrice=2.99,this.$scope.model={},this.$scope.model.selectedProduct=null,this.selectedPlanDuration="yearly",this.switchLabelMonthly=this.$translate("MYVOLUMIO.MONTHLY"),this.switchLabelYearly=this.$translate("MYVOLUMIO.YEARLY"),this.init()}return e.$inject=["$scope","paymentsService","productsService","$state","authService","modalService","$translate","user","statisticsService"],n(e,[{key:"selectProduct",value:function(e){}},{key:"init",value:function(){this.authInit(),this.initProducts(),this.$scope.model.selectedProduct="virtuoso"}},{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(t){e.authUser=t})}},{key:"loginWithFacebook",value:function(){this.loginWithProvider("facebook")}},{key:"loginWithGoogle",value:function(){this.loginWithProvider("google")}},{key:"loginWithGithub",value:function(){this.loginWithProvider("github")}},{key:"loginWithProvider",value:function(e){var t=this;this.authService.loginWithProvider(e)["catch"](function(e){t.modalService.openDefaultErrorModal(e)})}},{key:"initProducts",value:function(){var e=this;this.productService.getProducts().then(function(t){e.productsObj=t,e.products=[t.free,t.virtuoso,t.superstar],e.findCheapestOption()})}},{key:"findCheapestOption",value:function(){var e=[];this.products.map(function(t){t.prices&&Object.keys(t.prices).map(function(i){t.prices[i].amount&&t.prices[i].amount>0&&e.push(t.prices[i].amount)})}),this.cheapestPrice=Math.min.apply(Math,e)}},{key:"goToLogin",value:function(){this.$state.go("myvolumio.login")}},{key:"goToMyVolumio",value:function(){this.$state.go(this.authUser?"myvolumio.plans":"myvolumio.signup")}},{key:"goToSettings",value:function(){this.$state.go("volumio.plugin",{pluginName:"miscellanea/my_music"})}},{key:"getPaddleProductId",value:function(){return void 0===this.productsObj[this.$scope.model.selectedProduct].prices||void 0===this.selectedPlanDuration?void 0:this.productsObj[this.$scope.model.selectedProduct].prices[this.selectedPlanDuration].paddleId}},{key:"getTrialParameters",value:function(){if(void 0===this.productsObj[this.$scope.model.selectedProduct].prices||void 0===this.selectedPlanDuration)return void 0;var e={trialDays:"",trialDaysAuth:"",trialAuth:""};return this.productsObj[this.$scope.model.selectedProduct].prices[this.selectedPlanDuration].trial.trialEnabled&&this.productsObj[this.$scope.model.selectedProduct].prices[this.selectedPlanDuration].trial.trialDays&&this.productsObj[this.$scope.model.selectedProduct].prices[this.selectedPlanDuration].trial.trialDaysAuth&&this.productsObj[this.$scope.model.selectedProduct].prices[this.selectedPlanDuration].trial.trialAuth&&(e.trialDays=this.productsObj[this.$scope.model.selectedProduct].prices[this.selectedPlanDuration].trial.trialDays,e.trialDaysAuth=this.productsObj[this.$scope.model.selectedProduct].prices[this.selectedPlanDuration].trial.trialDaysAuth,e.trialAuth=this.productsObj[this.$scope.model.selectedProduct].prices[this.selectedPlanDuration].trial.trialAuth),e}},{key:"isTrial",value:function(){return!!this.productsObj[this.$scope.model.selectedProduct].prices[this.selectedPlanDuration].trial}},{key:"handlePayment",value:function(){var e=this;if("free"===this.$scope.model.selectedProduct)return void this.$state.go("myvolumio.profile");var t=this.getPaddleProductId(),i="",n="",a="",r="";if(this.isTrial()){var o=this.getTrialParameters();i=o.trialDays,n=o.trialDaysAuth,r=o.trialAuth,a=0}if(void 0===t||!Number.isInteger(t))return void alert("Error, no transaction occurred, no paddleId found.");if(!this.newUser)return void alert("Error, no transaction occurred, no authenticated user found.");var s={product:t,email:this.newUser.email,passthrough:{email:this.newUser.email,uid:this.newUser.uid},trialDays:i,trialDaysAuth:n,price:a,auth:r,successCallback:function(t){e.successCallback(t)},closeCallback:function(t){e.closeCallback(t)}};this.couponCode&&(s.coupon=this.couponCode),Paddle.Checkout.open(s,!1)}},{key:"successCallback",value:function(e){this.statisticsService.signalSubscriptionCreated(this.product,this.planDuration,this.isTrial,e),this.$state.go("myvolumio.payment-success")}},{key:"closeCallback",value:function(e){this.modalService.openDefaultErrorModal("MYVOLUMIO.COMPLETE_CHECKOUT")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c,u){"ngInject";i(this,e),this.$scope=t,this.$state=n,this.authService=r,this.modalService=o,this.$q=s,this.angularFireService=l,this.growSurfService=u,this.user=c,this.isUserVerified=!0,this.init()}return e.$inject=["$scope","$state","$stateParams","authService","modalService","$q","angularFireService","user","growSurfService"],n(e,[{key:"init",value:function(){this.authInit()}},{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(t){e.user=t,e.initUserVerified()})}},{key:"initUserVerified",value:function(){var e=this,t=this.$q.defer();return this.authService.isUserVerified().then(function(){e.isUserVerified=!0,t.resolve(!0)})["catch"](function(i){
e.isUserVerified=!1,t.resolve(!1)}),t.promise}},{key:"resendEmailVerification",value:function(){this.authService.resendEmailVerification()}},{key:"goToPlans",value:function(){this.$state.go("myvolumio.plans")}},{key:"logIn",value:function(){this.$state.go("myvolumio.login")}},{key:"signUp",value:function(){this.$state.go("myvolumio.signup")}},{key:"goToEdit",value:function(){this.$state.go("myvolumio.edit-profile")}},{key:"reAuth",value:function(){var e=this;this.authService.logOut().then(function(){e.$state.go("myvolumio.access")})["catch"](function(e){alert(e)})}},{key:"logOut",value:function(){var e=this;this.authService.logOut().then(function(){e.$state.go("myvolumio.access")})["catch"](function(t){e.modalService.openDefaultErrorModal(t)})}},{key:"goToReferral",value:function(){this.$state.go("myvolumio.referral")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c,u){"ngInject";i(this,e),this.$scope=t,this.paymentsService=n,this.authService=o,this.productService=s,this.$state=a,this.$q=r,this.paymentsService=n,this.modalService=l,this.user=c,this.$translate=u("translate"),this.products={},this.product0=null,this.product1=null,this.product2=null,this.showYearly=!0,this.showMode={planDuration:this.getSelectedPlanDuration()},this.switchLabelMonthly=this.$translate("MYVOLUMIO.MONTHLY"),this.switchLabelYearly=this.$translate("MYVOLUMIO.YEARLY"),this.init()}return e.$inject=["$scope","paymentsService","$state","$q","authService","productsService","modalService","user","$filter"],n(e,[{key:"init",value:function(){this.authInit(),this.initProducts(),this.initShowMode()}},{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(t){e.user=t,e.user&&e.user.planData&&e.user.planDuration&&"monthly"===e.user.planDuration&&(e.showYearly=!1)})}},{key:"initProducts",value:function(){var e=this;this.productService.getProducts().then(function(t){e.products=t,e.product0=e.products.free,e.product1=e.products.virtuoso,e.product2=e.products.superstar})}},{key:"initShowMode",value:function(){var e=this;this.$scope.$watch(function(){return e.showYearly},function(t,i,n){e.showMode.planDuration=e.getSelectedPlanDuration()})}},{key:"getSelectedPlanDuration",value:function(){return this.showYearly===!0?this.productService.YEARLY_PLAN:this.productService.MONTHLY_PLAN}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c,u,d,v){"ngInject";i(this,e),this.$scope=t,this.$state=n,this.$stateParams=a,this.$q=r,this.modalService=u,this.paymentsService=l,this.authService=o,this.stripeCheckout=c,this.productsService=d,this.filteredTranslate=v("translate"),this.openedModal={},this.product=null,this.showMode={planDuration:null},this.user=s,this.init()}return e.$inject=["$scope","$state","$stateParams","$q","authService","user","paymentsService","StripeCheckout","modalService","productsService","$filter"],n(e,[{key:"init",value:function(){this.authInit(),this.loadProduct(),this.loadPlanDuration()}},{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(t){e.user=t})}},{key:"subscriptionCallback",value:function(e){var t=this;this.openPayingModal(),e.then(function(e){return t.closePayingModal(),e===!0?void t.goToPaymentSuccess():void t.goToPaymentFail()},function(e){t.modalService.openDefaultErrorModal(e,function(){t.closePayingModal(),t.goToPaymentFail()})})}},{key:"openPayingModal",value:function(){var e="app/components/myvolumio/modals/myvolumio-paying-modal/myvolumio-paying-modal.html",t="MyVolumioPayingModalController",i={title:this.filteredTranslate("MYVOLUMIO.PAYNG")};this.openedModal=this.modalService.openModal(t,e,i,"md")}},{key:"closePayingModal",value:function(){this.openedModal.close()}},{key:"goToPaymentSuccess",value:function(){this.$state.go("myvolumio.payment-success")}},{key:"goToPaymentFail",value:function(){this.$state.go("myvolumio.payment-fail")}},{key:"loadProduct",value:function(){var e=this,t=this.$stateParams.plan;this.productsService.getProductByCode(t).then(function(t){e.product=t})}},{key:"goToPlans",value:function(){this.$state.go("myvolumio.plans")}},{key:"loadPlanDuration",value:function(){this.showMode.planDuration=this.$stateParams.planDuration}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a){"ngInject";i(this,e),this.$state=n,this.user=a}return e.$inject=["$scope","$state","user"],n(e,[{key:"goToProfile",value:function(){this.$state.go("myvolumio.profile")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a){"ngInject";i(this,e),this.$state=n,this.user=a}return e.$inject=["$scope","$state","user"],n(e,[{key:"retryPayment",value:function(){this.$state.go("myvolumio.plans")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r){"ngInject";i(this,e),this.authService=n,this.$state=t,this.modalService=a,this.email="",this.sent=!1,this.user=r}return e.$inject=["$state","authService","modalService","user"],n(e,[{key:"doRecover",value:function(){var e=this;this.email&&this.authService.recoverPassword(this.email).then(function(){e.sent=!0})["catch"](function(t){e.modalService.openDefaultErrorModal(t)})}},{key:"goToLogin",value:function(){this.$state.go("myvolumio.login")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c){"ngInject";i(this,e),this.$scope=t,this.$state=n,this.authService=a,this.$q=r,this.filteredTranslate=o("translate"),this.modalService=s,this.paddleService=c,this.user=l,this.emailChanged=!1,this.form={},this.avatarFile={},this.isAvatarChanged=!1,this.uploadingAvatar=!1,this.deletingUser=!1,this.init()}return e.$inject=["$scope","$state","authService","$q","$filter","modalService","user","paddleService"],n(e,[{key:"init",value:function(){this.authInit()}},{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(t){e.user=t,e.postAuthInit()})}},{key:"postAuthInit",value:function(){this.copyValuesToForm()}},{key:"copyValuesToForm",value:function(){for(var e in this.user)e.startsWith("$")||"forEach"===e||(this.form[e]=this.user[e])}},{key:"copyValuesToUser",value:function(){for(var e in this.form)e.startsWith("$")||"forEach"===e||(this.user[e]=this.form[e])}},{key:"goToProfile",value:function(){this.$state.go("myvolumio.profile")}},{key:"isUserFilledWithMandatory",value:function(){return this.authService.isUserFilledWithMandatory(this.user)}},{key:"doEdit",value:function(){var e=this,t=[];if(this.form.password){if(!this.validatePasswordMatch())return;var i=this.updatePassword();t.push(i)}if(this.emailChanged===!0){var n=this.updateEmail();t.push(n)}this.$q.all(t).then(function(){e.updateUserData()})["catch"](function(t){e.modalService.openDefaultErrorModal(t)})}},{key:"updateUserData",value:function(){var e=this;this.copyValuesToUser(),this.authService.saveUserData(this.user).then(function(){e.goToProfile()})["catch"](function(t){e.modalService.openDefaultErrorModal(t)})}},{key:"updatePassword",value:function(){var e=this.$q.defer();return this.authService.updatePassword(this.form.password).then(function(){e.resolve()})["catch"](function(t){e.reject(t)}),e.promise}},{key:"updateEmail",value:function(){var e=this.$q.defer();return this.authService.updateEmail(this.form.email).then(function(){e.resolve()})["catch"](function(t){e.reject(t)}),e.promise}},{key:"validatePasswordMatch",value:function(){return this.form.password===this.passwordCheck?!0:(this.modalService.openDefaultErrorModal("MYVOLUMIO.ERROR_VALIDATION_PASSWORD_MATCH"),!1)}},{key:"notifyEmailChanged",value:function(){this.emailChanged=!0}},{key:"avatarChange",value:function(e){this.isAvatarChanged=!0,this.$scope.$apply(),this.avatarFile=e}},{key:"saveAvatar",value:function(){var e=this;this.uploadingAvatar=!0,this.authService.changeAvatar(this.avatarFile,this.user.uid).then(function(t){e.uploadingAvatar=!1,e.isAvatarChanged=!1,e.form.photoUrl=t})["catch"](function(t){e.uploadingAvatar=!1,e.modalService.openDefaultErrorModal(t)})}},{key:"logIn",value:function(){this.$state.go("myvolumio.login")}},{key:"deleteUser",value:function(){var e=this;this.modalService.openDefaultConfirm("MYVOLUMIO.CONFIRM_DELETE_ACCOUNT_TITLE","MYVOLUMIO.CONFIRM_DELETE_ACCOUNT",function(){e.doDeleteUser()})}},{key:"doDeleteUser",value:function(){var e=this;this.deletingUser=!0,this.authService.deleteUser(this.user).then(function(){e.deletingUser=!1,e.$state.go("myvolumio.access")})["catch"](function(t){e.deletingUser=!1,e.modalService.openDefaultErrorModal(t)})}},{key:"getSignupDate",value:function(){if(!this.user.planData)return null;if(!this.user.planData.signupDate)return null;var e=this.user.planData.signupDate,t=e.split(/[- :]/),i=new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5]);return i}},{key:"isUserSubscriptionActive",value:function(){return this.user.planData&&this.user.planData.status&&("active"===this.user.planData.status||"trialing"===this.user.planData.status||"past_due"===this.user.planData.status)?!0:!1}},{key:"getUserSubscriptionStatus",value:function(){if(!this.user.planData||!this.user.planData.status)return null;switch(this.user.planData.status){case"active":return this.filteredTranslate("MYVOLUMIO.ACTIVE");case"trialing":return this.filteredTranslate("MYVOLUMIO.TRIALING");case"past_due":return this.filteredTranslate("MYVOLUMIO.PROBLEMS_WITH_PAYMENT");default:return this.filteredTranslate("MYVOLUMIO.INACTIVE")}}},{key:"updateSubscriptionMethod",value:function(){var e=this.user.planData.updateUrl;this.paddleService.openUpdateSubscriptionMethod(e)}},{key:"cancelSubscription",value:function(){this.$state.go("myvolumio.cancel-subscription")}},{key:"subscribe",value:function(){this.$state.go("myvolumio.plans")}},{key:"clickShowTerms",value:function(){var e="app/components/myvolumio/modals/myvolumio-terms-modal/myvolumio-terms-modal.html",t="MyVolumioTermsModalController",i={title:"Terms and conditions"};this.modalService.openModal(t,e,i,"md")}},{key:"logOut",value:function(){var e=this;this.authService.logOut().then(function(){e.$state.go("myvolumio.access")})["catch"](function(t){e.modalService.openDefaultErrorModal(t)})}},{key:"isAccountCancellationAllowed",value:function(){return this.user&&"lifetime"===this.user.planDuration?!1:!0}},{key:"isLifetimePlan",value:function(){return this.user&&"lifetime"===this.user.planDuration?!0:!1}},{key:"getPlanDuration",value:function(){var e=this.user.planDuration;return(void 0===e||null===e)&&(e="monthly"),e}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function a(e){"ngInject";i(this,a),this.user=e};n.$inject=["user"],t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c,u,d,v){"ngInject";i(this,e),this.$scope=t,this.$state=n,this.$stateParams=a,this.$q=r,this.modalService=u,this.paymentsService=l,this.authService=o,this.stripeCheckout=c,this.productsService=d,this.filteredTranslate=v("translate"),this.openedModal={},this.plan="free",this.user=s,this.product=null,this.init()}return e.$inject=["$scope","$state","$stateParams","$q","authService","user","paymentsService","StripeCheckout","modalService","productsService","$filter"],n(e,[{key:"init",value:function(){this.authInit()}},{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(t){e.user=t,e.postAuthInit()})}},{key:"postAuthInit",value:function(){this.loadProduct()}},{key:"downgradeToFree",value:function(){var e=this;return this.user.planData.subscriptionId?void this.modalService.openDefaultConfirm("MYVOLUMIO.CONFIRM_CANCEL_PLAN_TITLE","MYVOLUMIO.CONFIRM_CANCEL_PLAN",function(){e.openCancellingModal(),e.authService.getUserToken().then(function(t){e.paymentsService.cancelSubscription(e.user,t).then(function(t){e.closeCancellingModal(),e.$state.go("myvolumio.payment-success")})["catch"](function(t){e.closeCancellingModal(),e.modalService.openDefaultErrorModal("MYVOLUMIO.CANCELLATION_FAILED")})})}):void this.modalService.openDefaultErrorModal("MYVOLUMIO.NO_SUBSCRIPTION")}},{key:"openCancellingModal",value:function(){var e="app/components/myvolumio/modals/myvolumio-paying-modal/myvolumio-paying-modal.html",t="MyVolumioPayingModalController",i={title:this.filteredTranslate("MYVOLUMIO.PAYING")};this.openedModal=this.modalService.openModal(t,e,i,"md")}},{key:"closeCancellingModal",value:function(){this.openedModal.close()}},{key:"goToCancellingSuccess",value:function(){this.$state.go("myvolumio.payment-success")}},{key:"goToCancellingFail",value:function(){this.$state.go("myvolumio.payment-fail")}},{key:"loadProduct",value:function(){var e=this;this.productsService.getProductByCode(this.plan).then(function(t){e.product=t})}},{key:"getCurrentPlanName",value:function(){return this.user.plan}},{key:"logIn",value:function(){this.$state.go("myvolumio.login")}},{key:"goToPlans",value:function(){this.$state.go("myvolumio.plans")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c,u,d,v,p,m){"ngInject";i(this,e),this.$scope=t,this.$state=n,this.$stateParams=a,this.$q=r,this.$log=o,this.modalService=d,this.paymentsService=c,this.authService=s,this.stripeCheckout=u,this.productsService=v,this.filteredTranslate=p("translate"),this.$document=m,this.openedModal={},this.user=l,this.product=null,this.planDuration=null,this.showMode={planDuration:"monthly"},this.init()}return e.$inject=["$scope","$state","$stateParams","$q","$log","authService","user","paymentsService","StripeCheckout","modalService","productsService","$filter","$document"],n(e,[{key:"init",value:function(){this.loadProduct(),this.authInit(),this.loadPlanDuration()}},{key:"loadProduct",value:function(){var e=this,t=this.$stateParams.plan;this.productsService.getProductByCode(t).then(function(t){e.product=t})}},{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(t){e.user=t})}},{key:"loadPlanDuration",value:function(){this.planDuration=this.$stateParams.planDuration,this.showMode.planDuration=this.planDuration}},{key:"changePlan",value:function(){var e=this;return void 0===this.user.planData.subscriptionId||null===this.user.planData.subscriptionId?void this.modalService.openDefaultErrorModal("MYVOLUMIO.ERROR_CHANGE_PLAN_NO_PREVIOUS_PLAN_FOUND"):void 0===this.product||null===this.product||void 0===this.product.planCode?void this.modalService.openDefaultErrorModal("MYVOLUMIO.ERROR_CHANGE_PLAN_NO_PLAN_SELECTED"):void this.modalService.openDefaultConfirm("MYVOLUMIO.CONFIRM_CHANGE_PLAN_TITLE","MYVOLUMIO.CONFIRM_CHANGE_PLAN",function(){e.openUpdatingModal(),e.authService.getUserToken().then(function(t){e.paymentsService.updateSubscription(e.product,e.planDuration,e.user.uid,t).then(function(t){e.closeUpdatingModal(),e.goToUpdatingSuccess()})["catch"](function(t){e.$log.debug(t);var i="Payment Failed";t.data.error.message&&(i=t.data.error.message),e.modalService.openDefaultErrorModal(i),e.closeUpdatingModal(),e.goToUpdatingFail()})})})}},{key:"openUpdatingModal",value:function(){var e="app/components/myvolumio/modals/myvolumio-paying-modal/myvolumio-paying-modal.html",t="MyVolumioPayingModalController",i={title:this.filteredTranslate("MYVOLUMIO.PAYMENT_IN_PROGRESS")};this.openedModal=this.modalService.openModal(t,e,i,"md")}},{key:"closeUpdatingModal",value:function(){this.openedModal.close()}},{key:"goToUpdatingSuccess",value:function(){this.$state.go("myvolumio.payment-success")}},{key:"goToUpdatingFail",value:function(){this.$state.go("myvolumio.payment-fail")}},{key:"logIn",value:function(){this.$state.go("myvolumio.login")}},{key:"goToPlans",value:function(){this.$state.go("myvolumio.plans")}},{key:"getCurrentPlanName",value:function(){return this.user.plan}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o){"ngInject";i(this,e),this.$scope=t,this.authService=r,this.$state=n,this.modalService=a,this.user=o,this.authInit()}return e.$inject=["$scope","$state","modalService","authService","user"],n(e,[{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(t){e.postAuthInit()})}},{key:"postAuthInit",value:function(){null!==this.user&&this.$state.go("myvolumio.login")}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r){"ngInject";i(this,e),this.$scope=t,this.$state=n,this.authService=a,this.$document=r,this.user=null,this.init()}return e.$inject=["$scope","$state","authService","$document"],n(e,[{key:"init",value:function(){this.authInit(),this.setRandomBg()}},{key:"authInit",value:function(){var e=this;this.$scope.$watch(function(){return e.authService.user},function(t){e.user=t,e.postAuthInit()})}},{key:"postAuthInit",value:function(){null!==this.user&&this.$state.go("myvolumio.profile")}},{key:"goToLogin",value:function(){this.$state.go("myvolumio.login")}},{key:"goToSignUp",value:function(){this.$state.go("myvolumio.signup")}},{key:"isSocialEnabled",value:function(){return this.authService.isSocialEnabled()}},{key:"loginWithFacebook",value:function(){this.loginWithProvider("facebook")}},{key:"loginWithGoogle",value:function(){this.loginWithProvider("google")}},{key:"loginWithGithub",value:function(){this.loginWithProvider("github")}},{key:"loginWithProvider",value:function(e){var t=this;this.authService.loginWithProvider(e)["catch"](function(e){t.modalService.openDefaultErrorModal(e)})}},{key:"setRandomBg",value:function(){var e=["live.jpg","rehersal.jpg"],t=e[Math.floor(Math.random()*e.length)];this.$document[0].body.style.background='#333 url("https://cdn.volumio.org/myvolumiobg/'+t+'") no-repeat center center',this.$document[0].body.style.backgroundSize="cover"}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c,u){"ngInject";i(this,e),this.$scope=t,this.$state=n,this.authService=a,this.user=r,this.$rootScope=o,this.growSurfService=s,this.$window=l,this.cloudService=c,this.$translate=u,this.participant=null,this.campaign=null,this.copyDone=!1,this.init()}return e.$inject=["$scope","$state","authService","user","$rootScope","growSurfService","$window","cloudService","$translate"],n(e,[{key:"init",value:function(){}},{key:"backToProfile",value:function(){this.$state.go("myvolumio.profile")}},{key:"orderRewards",value:function(e){return e?e.sort(function(e,t){return e.totalReferralsRequired>t.totalReferralsRequired?1:t.totalReferralsRequired>e.totalReferralsRequired?-1:0}):[]}},{key:"copyLink",value:function(){var e=document.getElementById("my-volumio-link-field");try{e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),this.copyDone=!0}catch(t){console.log(t),console.log("Couldnt select text")}}},{key:"shareClick",value:function(e,t){switch(e){case"email":window.location.href="mailto:?subject=Check out this awesome music player!&body=I've been using an awesome music player called Volumio. It turns your Raspberry PI into an audiophile music station. Check it out: "+t;break;case"facebook":window.open("https://www.facebook.com/sharer/sharer.php?u="+t,"_blank");break;case"twitter":window.open("http://twitter.com/share?text=I've been using an awesome music player called Volumio. It turns your Raspberry PI into an audiophile music station. Check it out!&url="+t+"&hashtags=volumio","_blank");break;case"whatsapp":window.open("https://api.whatsapp.com/send?text=Check out this awesome music player I've been using: "+t,"_blank")}}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,n,a,r,o,s,l,c){"ngInject";i(this,e),this.$scope=t,this.$state=n,this.$rootScope=a,this.growSurfService=r,this.$window=o,this.cloudService=s,this.$translate=l,this.redirectService=c,this.init()}return e.$inject=["$scope","$state","$rootScope","growSurfService","$window","cloudService","$translate","redirectService"],n(e,[{key:"init",value:function(){}},{key:"goToAuthPage",value:function(){var e=this.$window.location.href.split("?")[1];this.redirectService.urlGo("myvolumio/signup",e)}}]),e}();t["default"]=a,e.exports=t["default"]}]),angular.module("volumio").run(["$templateCache",function(e){e.put("app/plugin/plugin.html",'<plugin-component plugin-name="plugin.pluginName"></plugin-component>'),e.put("app/plugin-manager/plugin-manager.html",'<div class="box"><div class="boxHeader"><div class="title"><h2><a ng-click="pluginManager.goBack()" class="btn btn-primary" ng-if="pluginManager.themeManager.theme === \'volumio3\'"><i class="fa fa-arrow-left" style="font-size: 24px"></i></a> <span translate="PLUGINS.PLUGINS"></span></h2></div></div><div id="pluginsPlugin" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-plug"></i> <span translate="PLUGINS.PLUGINS_MANAGEMENT"></span></h3></div><div class="panel-body"><uib-tabset active="pluginManager.activeTab"><uib-tab index="0" heading="{{\'PLUGINS.SEARCH_PLUGINS\' | translate}}"><ng-include src="\'app/plugin-manager/elements/search-plugin.html\'"></ng-include></uib-tab><uib-tab index="1" heading="{{\'PLUGINS.INSTALLED_PLUGINS\' | translate}}"><ng-include src="\'app/plugin-manager/elements/installed-plugin.html\'"></ng-include></uib-tab></uib-tabset></div></div></div>'),e.put("app/static-pages/static-page.html",'<div ng-bind-html="staticPage.content"></div>'),e.put("app/wizard/wizard.html",'<div id="wizard" ng-class="{\'volumio3\': wizard.isVolumio3Theme()}"><div class="row"><div id="wizard-container" class="col-sm-18 col-sm-offset-3 col-xs-24"><ng-include src="\'app/wizard/partials/wizard-navigator.html\'"></ng-include><div class="row" ng-if="wizard.currentStep"><ng-include ng-if="wizard.currentStep.type === \'core\'" src="\'app/wizard/views/wizard-\' + wizard.currentStep.name.toLowerCase() + \'.html\'"></ng-include><ng-include ng-if="wizard.currentStep.type.indexOf(\'Plugin\') > -1" src="\'app/wizard/views/wizard-plugin.html\'"></ng-include></div><ng-include src="\'app/wizard/partials/wizard-button-bar.html\'"></ng-include></div></div></div>'),e.put("app/browse/components/browse-hamburger-menu.html",'<li ng-if="::browse.showPlayButton(item)" ng-click="browse.play(item)" title="{{\'BROWSER.PLAY\' | translate}}"><a href=""><i class="fa fa-play"></i><span translate="BROWSER.PLAY"></span></a></li><li ng-if="::browse.showAddToQueueButton(item)" ng-click="browse.addToQueue(item)" title="{{\'BROWSER.ADD_TO_QUEUE\' | translate}}"><a href=""><i class="fa fa-list"></i><span translate="BROWSER.ADD_TO_QUEUE"></span></a></li><li ng-if="::browse.showPlayButton(item)" ng-click="browse.replaceAndPlay(item)" title="{{\'BROWSER.ADD_TO_QUEUE\' | translate}}"><a href=""><i class="fa fa-list"></i><span translate="BROWSER.CLEAR_AND_PLAY"></span></a></li><li ng-if="::browse.showAddToPlaylist(item)" ng-click="browse.addToPlaylist(item)" title="{{\'BROWSER.ADD_TO_PLAYLIST\' | translate}}"><a href=""><i class="fa fa-plus"></i><span translate="BROWSER.ADD_TO_PLAYLIST"></span></a></li><li ng-if="::browse.browseService.currentFetchRequest.type === \'playlist\'" ng-click="browse.playlistService.removeFromPlaylist(item, browse.browseService.currentFetchRequest.title)" title="{{\'BROWSER.REMOVE_FROM_PLAYLIST\' | translate}}"><a href=""><i class="fa fa-trash"></i><span translate="BROWSER.REMOVE_FROM_PLAYLIST"></span></a></li><li ng-if="::item.type === \'playlist\'" ng-click="browse.playlistService.deletePlaylist(item.title)" title="{{\'BROWSER.DELETE_PLAYLIST\' | translate}}"><a href=""><i class="fa fa-trash"></i>{{\'BROWSER.DELETE_PLAYLIST\' | translate}}</a></li><li ng-if="::item.type === \'remdisk\'" ng-click="browse.safeRemoveDrive(item.title)" title="{{\'BROWSER.SAFE_REMOVE\' | translate}}"><a href=""><i class="fa fa-eject"></i>{{\'BROWSER.SAFE_REMOVE\' | translate}}</a></li><li ng-if="::item.type === \'folder\' || item.type === \'internal-folder\'" ng-click="browse.updateFolder(item.uri)" title="{{\'BROWSER.UPDATE_FOLDER\' | translate}}"><a href=""><i class="fa fa-refresh"></i>{{\'BROWSER.UPDATE_FOLDER\' | translate}}</a></li><li ng-if="::item.type === \'internal-folder\'" ng-click="browse.deleteFolder(browse.browseService.currentFetchRequest.uri, item)" title="{{\'BROWSER.DELETE\' | translate}}"><a href=""><i class="fa fa-trash"></i>{{\'BROWSER.DELETE_FOLDER\' | translate}}</a></li><li ng-if="::(item.type === \'song\' || item.type === \'folder-with-favourites\') && browse.browseService.currentFetchRequest.uri !== \'favourites\' && !item.favourite" ng-click="browse.playlistService.addToFavourites(item)" title="{{\'BROWSER.ADD_TO_FAVOURITES\' | translate}}"><a href=""><i class="fa fa-heart"></i><span translate="BROWSER.ADD_TO_FAVOURITES"></span></a></li><li ng-if="::(browse.browseService.currentFetchRequest.uri === \'favourites\' || item.favourite)" ng-click="browse.playlistService.removeFromFavourites(item)" title="{{\'BROWSER.REMOVE_FROM_FAVOURITES\' | translate}}"><a href=""><i class="fa fa-trash"></i><span translate="BROWSER.REMOVE_FROM_FAVOURITES"></span></a></li><li ng-if="::item.type === \'mywebradio-category\'" ng-click="browse.addWebRadio()" title="{{\'BROWSER.ADD_WEBRADIO\' | translate}}"><a href=""><i class="fa fa-plus"></i><span translate="BROWSER.ADD_WEBRADIO"></span></a></li><li ng-if="::item.type === \'mywebradio\'" ng-click="browse.editWebRadio(item)" title="{{\'BROWSER.EDIT_WEBRADIO\' | translate}}"><a href=""><i class="fa fa-pencil"></i><span translate="BROWSER.EDIT_WEBRADIO"></span></a></li><li ng-if="::item.type === \'mywebradio\' && browse.browseService.currentFetchRequest.uri === \'radio/myWebRadio\'" ng-click="browse.playlistService.deleteWebRadio(item)" title="{{\'BROWSER.DELETE_WEBRADIO\' | translate}}"><a href=""><i class="fa fa-trash"></i><span translate="BROWSER.DELETE_WEBRADIO"></span></a></li><li ng-if="::item.type === \'webradio\' || item.type === \'mywebradio\'" ng-click="browse.playlistService.addWebRadioToFavourites(item)" title="{{\'BROWSER.ADD_TO_RADIO_FAVOURITES\' | translate}}"><a href=""><i class="fa fa-heart"></i><span translate="BROWSER.ADD_TO_RADIO_FAVOURITES"></span></a></li><li ng-if="::browse.browseService.currentFetchRequest.uri === \'radio/favourites\' && (item.type === \'webradio\' || item.type === \'mywebradio\')" ng-click="browse.playlistService.removeWebRadioFromFavourites(item)" title="{{\'BROWSER.REMOVE_FROM_RADIO_FAVOURITES\' | translate}}"><a href=""><i class="fa fa-trash"></i><span translate="BROWSER.REMOVE_FROM_RADIO_FAVOURITES"></span></a></li>'),e.put("app/browse/components/browse-nav-buttons.html",'<button class="btn-link" ng-click="browse.backHome()" title="{{\'COMMON.HOME\' | translate}}"><i class="fa fa-home"></i></button> <button class="btn-link backButton" ng-if="browse.browseService.isBrowsing && browse.browseService.navigationStack.length > 0" ng-click="browse.goBack()" title="{{\'COMMON.BACK\' | translate}}"><i class="fa fa-arrow-circle-left"></i></button><button class="btn-link" ng-click="browse.toggleGridView()" title="{{((browse.browseService.showGridView) ? \'COMMON.LIST\': \'COMMON.GRID\') | translate}}" ng-if="browse.browseService.showGridViewSelector"><i ng-if="browse.browseService.showGridView" class="fa fa-list"></i> <i ng-if="!browse.browseService.showGridView" class="fa fa-th"></i></button> <button class="btn-link" ng-if="browse.browseService.isBrowsing && browse.browseService.eject && browse.browseService.eject.enabled" ng-click="browse.browseService.sendEject(browse.browseService.eject.data)" title="{{\'COMMON.EJECT\' | translate}}"><i class="fa fa-eject"></i></button> <button class="btn-link" ng-if="browse.browseService.isBrowsing && browse.browseService.rip && browse.browseService.rip.enabled" ng-click="browse.browseService.sendRip(browse.browseService.rip.data)" title="{{\'COMMON.RIP\' | translate}}"><i class="fa fa-download"></i></button>'),
e.put("app/browse/components/browse-search-box.html",'<div class="search-container"><form action="." id="searchForm" ng-class="{ \'hidden-xs\': browse.isDedicatedSearchView !== true && this.browse.isVolumio3Theme(), \'pull-right\': true }" ng-submit="browse.searchSubmit($event)"><input type="search" ng-model="browse.searchField" ng-change="browse.search()" class="form-control" placeholder="{{\'COMMON.SEARCH\' | translate}} ..." title="{{\'COMMON.SEARCH\' | translate}}" id="search-input-form"></form><button class="search-icon" ng-class="{ \'hidden-xs\': browse.isDedicatedSearchView !== true }"><i ng-if="!browse.searchField.length" class="fa fa-search"></i> <i ng-if="browse.searchField.length" ng-mousedown="browse.searchField=\'\'; browse.search();" class="fa fa-times-circle clear-search"></i></button></div><div class="clearfix"></div>'),e.put("app/browse/components/browse-sources-btn-group.html",'<div id="browseSources" class="btn-group"><button ng-repeat="source in browse.browseService.sources" ng-click="browse.fetchLibrary(source)" ng-class="{\'selected\': browse.browseService.currentFetchRequest.name === source.name}" class="btn btn-default">{{source.name}}</button></div>'),e.put("app/browse/components/browse-table-items.html",'<div class="browseTable"></div>'),e.put("app/browse/components/browse-table-sources.html",'<div class="browseTable sourcesTable"><div class="listWrapper" ng-class="::{grid: browse.uiSettingsService.uiSettings.browseSourcesView === \'grid\'}"><div ng-repeat="source in browse.browseService.sources track by source.uri" ng-click="browse.fetchLibrary(source)" class="itemWrapper"><div class="itemTab"><div class="image" ng-attr-id="{{source.active ? \'source-active\': \'\'}}"><img ng-if="source.albumart" src="{{::source.albumart}}" alt="{{::source.name}}/"> <i ng-if="source.icon && !source.albumart" class="{{::source.icon}}"></i></div><div class="commandButtons"><div ng-if="::source.menuItems" uib-dropdown="" class="hamburgerMenu"><button class="dropdownToggle btn-link" title="{{\'COMMON.OPTIONS\' | translate}} ..." uib-dropdown-toggle=""><i class="fa fa-ellipsis-v"></i></button><ul class="dropdown-menu buttonsGroup" ng-class="{\'last\': ($index > 2 && browse.browseService.sources.length - $index < 3)}"><li ng-repeat="item in source.menuItems track by $index" ng-click="browse.browseServiceHamburgerClick(item.socketCall)"><a href=""><i ng-if="::item.icon" ng-class="::item.icon"></i>{{::item.name}}</a></li></ul></div></div><div class="description breakMe"><div class="title" ng-class="::{onlyTitle: !source.info}">{{::source.name}} <span ng-if="::source.info" class="info">- {{::source.info}}</span></div></div></div></div></div></div>'),e.put("app/browse-music/components/album-view.html",'<div class="page__album"><div class="album__cover"><div class="music-card"><div class="music-card__header"><img class="music-card__img" src="{{ browse.playerService.getAlbumart(album.albumart) }}"><div class="music-card__overlay"><div class="meta__genre">{{ album && album.genre ? album.genre : \'Example genre\' }}</div><div class="meta__actions"><button ng-click="browse.openMusicCardContenxtList($event, album, $index)" class="ghost-btn"><i class="fa fa-ellipsis-v"></i></button></div><div class="meta__play"><button ng-if="browse.showPlayButton(album)" ng-click="browse.playMusicCardClick($event, album)" class="ghost-btn play-btn"><i class="fa fa-play play-btn__icon"></i></button></div></div></div></div></div><div class="album__body"><h3 ng-click="browse.fetchLibrary({ uri: album ? album.uri : \'albums://\' })" class="album__title clickable">{{ album.title }}</h3><p class="album__meta">{{ album.meta }}</p><img ng-if="album.extensionIcon" class="music-card__extension" src="{{album.extensionIcon}}"><div ng-repeat="item in album.tracks track by $index" class="album__tracks" ng-include="" src="\'app/browse-music/components/music-item.html\'"></div></div></div>'),e.put("app/browse-music/components/browse-album.html",'<div id="artist-page" class="browse__album-page"><div class="album__header"><div class="header__content"><div class="header__content__inner"><div class="header__main"><div ng-if="browse.browseService.info.albumart" class="header__image"><img class="header__image__img" ng-src="{{browse.playerService.getAlbumart(browse.browseService.info.albumart)}}" alt=""></div><div class="header__info"><div class="header__play"><button ng-click="browse.playItemsList(browse.browseService.info)" class="header__play-btn"><i class="fa fa-play"></i></button><h1 class="header__artist">{{ browse.browseService.info.title || browse.browseService.info.album }}</h1></div><div ng-bind-html="browse.currentItemMetas.story" class="artist-description"></div><div ng-if="browse.currentItemMetas.story" class="artist-description__read-more"><button ng-click="browse.showMoreStory({\'title\':browse.browseService.info.album,\'story\':browse.currentItemMetas.story})" class="artist-description__read-more-btn"><span>{{ \'BROWSER.READ_MORE\' | translate }}...</span></button></div><div class="header__meta">{{ browse.browseService.info.artist }} <span ng-if="browse.browseService.info.artist && browse.browseService.info.year">•</span> {{ browse.browseService.info.year }} <span ng-if="browse.browseService.info.artist && browse.browseService.info.duration">•</span> {{ browse.browseService.info.duration }} <span ng-if="browse.browseService.info.duration && browse.browseService.info.genre">•</span> {{ browse.browseService.info.genre }} <span ng-if="browse.browseService.info.genre && browse.browseService.info.trackType">•</span> <img ng-if="browse.browseService.info.fileFormat" ng-src="{{\'/app/themes/volumio3/assets/format-icons/\' + browse.browseService.info.fileFormat.url + \'.svg\'}}" class="filetype-description" alt="{{tbrowse.browseService.info.fileFormat.name}}"> <span ng-if="!browse.browseService.info.fileFormat">{{browse.browseService.info.trackType}}</span></div></div><div class="header__actions"><button ng-if="browse.browseService.info.album && browse.browseService.info.artist && browse.currentItemMetas.albumCredits" ng-click="browse.showAlbumCredits()" class="header__action-btn mb-4"><i class="fa fa-info-circle"></i> {{ \'BROWSER.ALBUM_CREDITS\' | translate }}</button> <button ng-if="browse.browseService.info.album && browse.browseService.info.artist" ng-click="browse.getArtistInfo(browse.browseService.info)" class="header__action-btn header__action-btn__faded mb-1"><i class="fa fa-music"></i> {{ \'BROWSER.ARTIST_STORY\' | translate }}</button><button ng-click="browse.addToPlaylist(browse.browseService.info)" class="header__action-btn header__action-btn__faded mb-1"><i class="fa fa-plus"></i> {{ \'BROWSER.ADD_TO_PLAYLIST\' | translate }}</button> <button ng-click="browse.addToQueue(browse.browseService.info)" class="header__action-btn header__action-btn__faded"><i class="fa fa-list"></i> {{ \'BROWSER.ADD_TO_QUEUE\' | translate }}</button></div></div></div></div><div uib-dropdown="" on-toggle="browse.toggledItem(open, $event)" class="header__mobile-actions hamburgerMenu"><button id="hamburgerMenuBtn-album-artist" class="ghost-btn action-btn" uib-dropdown-toggle=""><i class="fa fa-ellipsis-v"></i></button><ul class="dropdown-menu buttonsGroup align-to-right"><li ng-if="browse.browseService.info.album && browse.browseService.info.artist && browse.currentItemMetas.albumCredits" ng-click="browse.showAlbumCredits()" title="{{\'BROWSER.ALBUM_CREDITS\' | translate}}"><a href=""><i class="fa fa-info-circle"></i><span translate="BROWSER.ALBUM_CREDITS"></span></a></li><li ng-if="browse.browseService.info.album && browse.browseService.info.artist" ng-click="browse.getArtistInfo(browse.browseService.info)" title="{{\'BROWSER.ARTIST_STORY\' | translate}}"><a href=""><i class="fa fa-music"></i><span translate="BROWSER.ARTIST_STORY"></span></a></li><li ng-click="browse.addToPlaylist(browse.browseService.info)" title="{{\'BROWSER.ADD_TO_PLAYLIST\' | translate}}"><a href=""><i class="fa fa-plus"></i><span translate="BROWSER.ADD_TO_PLAYLIST"></span></a></li><li ng-click="browse.addToQueue(browse.browseService.info)" title="{{\'BROWSER.ADD_TO_QUEUE\' | translate}}"><a href=""><i class="fa fa-list"></i><span translate="BROWSER.ADD_TO_QUEUE"></span></a></li></ul></div><div class="header__backdrop"><img ng-src="{{browse.playerService.getAlbumart(browse.browseService.info.albumart)}}" alt=""></div></div></div>'),e.put("app/browse-music/components/browse-artist.html",'<div><div class="artist__header"><div class="header__content"><div class="header__content__inner"><div class="header__main"><div class="header__image"><img class="header__image__img" src="{{browse.playerService.getAlbumart(browse.browseService.info.albumart)}}" alt=""></div><div class="header__info"><div class="header__play"><button ng-click="browse.playItemsList(browse.browseService.info)" class="header__play-btn"><i class="fa fa-play"></i></button><h1 class="header__artist">{{ browse.browseService.info.title }}</h1></div><div ng-bind-html="browse.currentItemMetas.story" class="artist-description"></div><div ng-if="browse.currentItemMetas.story" class="artist-description__read-more"><button ng-click="browse.showCreditsDetails({\'title\':browse.browseService.info.title,\'story\':browse.currentItemMetas.story})" class="artist-description__read-more-btn"><span>{{ \'BROWSER.READ_MORE\' | translate }}...</span></button></div><div class="header__meta"></div></div><div class="header__actions"><button ng-click="browse.addToQueue(browse.browseService.info)" class="header__action-btn header__action-btn__faded"><i class="fa fa-list"></i> {{ \'BROWSER.ADD_TO_QUEUE\' | translate }}</button></div></div><div class="header__footer"></div></div></div><div uib-dropdown="" on-toggle="browse.toggledItem(open, $event)" class="header__mobile-actions hamburgerMenu"><button id="hamburgerMenuBtn-album-artist" class="ghost-btn action-btn" uib-dropdown-toggle=""><i class="fa fa-ellipsis-v"></i></button><ul class="dropdown-menu buttonsGroup align-to-right"><li ng-click="browse.addToQueue(browse.browseService.info)" title="{{\'BROWSER.ADD_TO_QUEUE\' | translate}}"><a href=""><i class="fa fa-list"></i><span translate="BROWSER.ADD_TO_QUEUE"></span></a></li></ul></div><div class="header__backdrop"><img src="{{browse.playerService.getAlbumart(browse.browseService.info.albumart)}}" alt=""></div></div></div>'),e.put("app/browse-music/components/browse-main.html",'<div class="browse__main-page"><div ng-repeat="list in browse.mockService._mock.browseMusic.getMainPageSources.lists track by $index" class="main__source"><h3 class="main__source__title panel-title"><span class="title__icon"><img class="title__icon__img" ng-if="list.icon && !list.icon.startsWith(\'fa-\')" src="{{ list.icon }}" alt="{{ list.title }} icon"> <i ng-if="list.icon && list.icon.startsWith(\'fa-\')" class="{{ \'fa \' + list.icon }} title__icon__icon"></i></span> <span>{{ list.title }}</span></h3><div class="main__row"><div ng-repeat="item in list.items track by $index" class="music-card__wrapper" ng-include="" src="\'app/browse-music/components/music-card.html\'"></div><div class="music-card__wrapper placeholder-wrapper"></div><div class="music-card__wrapper placeholder-wrapper"></div><div class="music-card__wrapper placeholder-wrapper"></div><div class="music-card__wrapper placeholder-wrapper"></div><div class="music-card__wrapper placeholder-wrapper"></div><div class="music-card__wrapper placeholder-wrapper"></div></div></div></div>'),e.put("app/browse-music/components/browse-sources.html",'<div class="main__row"><div ng-repeat="item in browse.browseService.sources track by item.uri" class="music-card__wrapper" ng-include="" hideradio="true" src="\'app/browse-music/components/music-card.html\'"></div></div>'),e.put("app/browse-music/components/browse.html",'<div id="browse-page" class="browse__browse-page"></div>'),e.put("app/browse-music/components/music-card.html",'<div class="music-card" ng-click="browse.clickMusicCard(item)"><div class="music-card__header"><img class="music-card__img" src="{{browse.playerService.getAlbumart(item.albumart)}}" alt=""><div class="music-card__overlay"><div class="meta__genre">{{ item && item.genre ? item.genre : \'\' }}</div><div ng-if="!item.name" ng-click="browse.preventBubbling($event)" class="meta__actions {{ (item.type === \'radio-favourites\' || item.type === \'radio-category\' || item.type === \'title\' || item.type === \'streaming-category\' || item.type === \'item-no-menu\') ? \'hidden\' : \'\' }}"><button id="hamburgerMenuBtn-{{$listIndex}}-{{$index}}" ng-click="browse.openMusicCardContenxtList($event, item, $listIndex, $index)" class="ghost-btn action-btn"><i class="fa fa-ellipsis-v"></i></button></div><div class="meta__play"><button ng-if="browse.showPlayButton(item)" ng-click="browse.playMusicCardClick($event, item)" class="ghost-btn play-btn"><i class="fa fa-play play-btn__icon"></i></button></div><div ng-click="browse.addToFavorites($event, item)" ng-if="browse.showPlayButton(item) && (item.type === \'song\' || item.type === \'folder-with-favourites\') && browse.browseService.currentFetchRequest.uri !== \'favourites\' && !item.favourite" ng-class="{ favorited: item.favorite }" class="meta__favorite"><span class="meta__favorite-heart"><i class="fa fa-heart"></i></span></div></div></div><div class="music-card__info"><div class="music-card__label" ng-class="{ \'mr-2\': !!item.extensionIcon }" title="{{ item.title ? item.title : item.name }}">{{ item.title ? item.title : item.name }}</div><img ng-if="item.extensionIcon" class="music-card__extension" src="{{item.extensionIcon}}" alt=""></div><p class="music-card__meta">{{ item && item.meta ? item.meta : \'\'}}</p></div>'),e.put("app/browse-music/components/music-item.html",'<div class="music-item" ng-click="browse.fetchLibrary(item)"><div ng-if="browse.showPlayButton(item)" class="item__play"><button ng-click="browse.playAlbumItemClick(item, album.items, $index)" class="ghost-btn play-btn"><i class="fa fa-play play-btn__icon"></i></button></div><div class="item__image"><div ng-if="item.tracknumber && !item.albumart" class="item__number">{{item.tracknumber }}.</div><div ng-if="item.albumart" class="item__albumart"><img class="item__image__img" src="{{browse.playerService.getAlbumart(item.albumart) }}" alt=""></div></div><div class="item__info"><div class="item__title truncate-text" title="{{ item ? item.title : \'Example\' }}">{{ item.title ? item.title : item.name || \'\' }}</div><div ng-if="item.album" class="item__album truncate-text" title="{{ item.album ? item.album : \'Example album\' }}">{{ item.album }}</div><div ng-if="item.album && item.artist" class="item__info__separator">•</div><div ng-if="item.artist" class="item__artist truncate-text" title="{{ item.artist ? item.artist : \'Example artist\' }}">{{ item.artist }}</div></div><div ng-click="browse.addToFavorites($event, item)" ng-if="browse.showPlayButton(item) && (item.type === \'song\' || item.type === \'folder-with-favourites\') && browse.browseService.currentFetchRequest.uri !== \'favourites\' && !item.favourite" ng-class="{ favorited: item.favorite }" class="item__favorite"><span class="item__favorite-heart"><i class="fa fa-heart"></i></span></div><div ng-if="item.duration" class="item__duration">{{ browse.timeFormat(item.duration) }}</div><div ng-if="!item.name" ng-click="browse.preventBubbling($event)" class="item__actions {{ (item.type === \'radio-favourites\' || item.type === \'radio-category\' || item.type === \'title\' || item.type === \'streaming-category\' || item.type === \'item-no-menu\') ? \'hidden\' : \'\' }}"><button id="hamburgerMenuBtn-{{$listIndex}}-{{$index}}" ng-click="browse.openMusicCardContenxtList($event, item, $listIndex, $index)" class="ghost-btn action-btn"><i class="fa fa-ellipsis-v"></i></button></div></div>'),e.put("app/components/audio-outputs/audio-outputs.html",'<div id="sideMenuScrim" ng-if="audioOutputs.menuVisible" ng-click="audioOutputs.toggleMenu()"></div><div id="sideMenu"><div id="menuList" role="group" ng-if="audioOutputs.menuVisible" style="width:350px; max-width: 100%;"><div class="list-title pull-left" translate="MULTIDEVICE.PLAYBACK_ZONES"></div><div class="close-output-button pull-right"><button id="closeMenuBtnOutputs" ng-click="audioOutputs.toggleMenu()" class="btn btn-link pull-right"><i class="fa fa-times"></i></button></div><div class="group-container" ng-if="audioOutputs.audioOutputsService.outputs.length"><div ng-repeat="item in audioOutputs.audioOutputsService.outputs track by $index" class="list-item-div"><div class="row output-item"><div class="col-xs-18" id="device-wrapper"><button ng-if="item.isSelf" class="btn-link btn-block list-item-button self" disabled=""><img class="list-item-albumart" ng-src="{{item.state.albumart}}"> <span class="list-item-name">{{item.name}}</span> <span class="list-item-type">{{audioOutputs.showArtistAndTitle(item.state.artist,item.state.track,item.type)}}</span></button> <button ng-if="!item.isSelf" ng-click="audioOutputs.onDeviceClick(item)" class="btn-link btn-block list-item-button"><img class="list-item-albumart" ng-src="{{item.state.albumart}}"> <span class="list-item-name">{{item.name}}</span> <span class="list-item-type">{{audioOutputs.showArtistAndTitle(item.state.artist,item.state.track,item.type)}}</span></button></div><div class="col-xs-6" id="device-group-wrapper"><span ng-if="!item.isSelf" class="device-group-icon"><i class="{{item.enabled === true ? \'fa fa-minus-circle output-enabled\' : \'fa fa-plus-circle\'}}" ng-click="audioOutputs.toggleAudioOutput(item.id, item.enabled)"></i></span></div></div><input ng-show="{{item.volumeAvailable}}" type="range" name="volume-slider" id="volume-slider" min="0" max="100" ng-model="item.state.volume" class="list-item-volume-bar" ng-change="audioOutputs.onDeviceVolumeChange(item)"></div></div></div></div>'),e.put("app/components/debug/volumio-debug.html",'<div class="container"><h3>Host</h3><input type="text" name="name" value="" ng-model="debug.socketService.host" style="width:350px;"> <button ng-click="debug.socketService.host = debug.socketService.host" type="button" name="button">Change Host</button><hr><h3>Player status</h3><player-status></player-status><hr><h3>Player buttons</h3><player-buttons></player-buttons><hr><h3>Volume manager</h3><volume-manager></volume-manager><hr><h3>Track manager</h3><track-manager></track-manager><h3>Modal</h3><button type="button" name="button" ng-click="debug.openModal()">Open Modal</button><hr><h3>Toast Messages</h3><div class=""><button type="button" name="button" ng-click="debug.toastMessageService.showMessage(\'success\', \'Messaggio\', \'Success\')">Success</button> <button type="button" name="button" class="btn-info" ng-click="debug.toastMessageService.showMessage(\'info\', \'Messaggio\', \'Info\')">Info</button> <button type="button" name="button" class="btn-warning" ng-click="debug.toastMessageService.showMessage(\'warning\', \'Messaggio\', \'Warning\')">Warning</button> <button type="button" name="button" class="btn-danger" ng-click="debug.toastMessageService.showMessage(\'error\', \'Messaggio\', \'Error\')">Error</button></div><h3>Playlist</h3>TODO<br><div class="hide"><h3>Test API</h3><input type="text" ng-model="debug.apiMethod"> <input type="text" ng-model="debug.apiParams"> <button type="button" name="button" class="btn-danger" ng-click="debug.callApi()">Call API</button><br></div><h3>Logger</h3><player-logger></player-logger></div>'),e.put("app/components/equalizer/equalizer.html",'<div class="equalizer" ng-class="{{equalizer.config.class ? equalizer.config.class : \'equalizer.config.orientation\'}}" ng-repeat="bar in equalizer.config.bars track by $index"><label class="equalizer-label">{{::bar.ticksLabels[0]}}</label><slider id="{{::equalizer.id + \'-\' + $index}}" orientation="{{::equalizer.config.orientation}}" ng-model="bar.value" min="::bar.min" step="::bar.step" max="::bar.max" range="::bar.range" ticks="::bar.ticks" ticks-positions="::bar.ticksPositions" ticks-snap-bounds="10" value="bar.value" reversed="{{equalizer.config.orientation === \'vertical\'}}" slider-tooltip="{{bar.tooltip}}"></slider></div>'),e.put("app/components/modals/default-modal.html",'<div class="modal-header"><h3 class="modal-title">{{modal.dataObj.title}}</h3></div><div class="modal-body">{{modal.dataObj.message}}</div><div class="modal-footer"><button ng-if="modal.disableCancelButton !== true" class="btn btn-warning" ng-click="modal.cancel()"><span translate="COMMON.CANCEL"></span></button> <button class="btn btn-primary" ng-click="modal.ok()"><span translate="COMMON.OK"></span></button></div>'),e.put("app/components/modals/modal-confirm.html",'<div class="modal-header"><h3 class="modal-title"><i class="fa fa-info-circle"></i> {{modal.dataObj.title}}</h3></div><div class="modal-body">{{modal.dataObj.message}}</div><div class="modal-footer"><button class="btn btn-warning" ng-click="modal.no()">{{\'COMMON.NO\' | translate}}</button> <button class="btn btn-info" ng-click="modal.yes()">{{\'COMMON.YES\' | translate}}</button></div>'),e.put("app/components/modals/modal-crypto.html",'<div id="modalDonate"><div class="modal-header"><h3 class="modal-title"><span translate="WIZARD.DONATE"></span> {{::modal.dataObj.name}}</h3></div><div class="modal-body"><div class="modal-donate-address"><h5 class="modal-title">{{::modal.dataObj.address}}</h5></div><div class="modal-donate-qr"><img src="app/themes/volumio/assets/graphics/qr-{{::modal.dataObj.alias}}.png" alt="qr-code" class="btc-qr-code"></div></div><div class="modal-footer"><button class="btn btn-warning" ng-click="modal.close()">{{\'COMMON.CLOSE\' | translate}}</button></div></div>'),e.put("app/components/modals/modal-custom.html",'<div class="modal-header"><h3 class="modal-title">{{::modal.dataObj.title}}</h3></div><div class="modal-body" ng-bind-html="modal.dataObj.message"></div><div class="modal-footer"><button ng-class="button.class" ng-repeat="button in modal.dataObj.buttons track by $index" ng-click="modal.btnClick(button)">{{::button.name}}</button></div>'),e.put("app/components/modals/modal-gotit.html",'<div ng-if="modal.dataObj.title" class="modal-header"><h3 class="modal-title"><i class="fa fa-info-circle"></i> {{modal.dataObj.title}}</h3></div><div class="modal-body" ng-bind-html="modal.dataObj.message"></div><div class="modal-footer"><button class="btn btn-info" ng-click="modal.gotIt()"><span translate="COMMON.GOT_IT"></span></button></div>'),e.put("app/components/modals/modal-password.html",'<div class="modal-header"><h3 class="modal-title"><span translate="COMMON.ENTER_PASSWORD"></span></h3></div><div class="modal-body"><div ng-if="modal.dataObj.message">{{modal.dataObj.message}}<br><br></div><form class="form" name="modal.form"><input placeholder="Password" type="password" class="form-control" name="password" ng-model="modal.password" required=""></form><div ng-if="modal.showError"><span translate="COMMON.INVALID_PASSWORD"></span></div></div><div class="modal-footer"><button class="btn btn-warning" ng-click="modal.cancel()">{{\'COMMON.CANCEL\' | translate}}</button> <button class="btn btn-info" ng-click="modal.ok()">{{\'COMMON.OK\' | translate}}</button></div>'),e.put("app/components/modals/modal-progress.html",'<div class="modal-header"><h3 class="modal-title">{{modal.modalService.modalProgress.title}}</h3></div><div class="modal-body"><div ng-if="modal.modalService.status === \'modalProgress\'"><h4>{{modal.modalService.modalProgress.message}}</h4><uib-progressbar class="progress-striped active" value="modal.modalService.modalProgress.progressNumber" type="default">{{modal.modalService.modalProgress.progressNumber}}%</uib-progressbar></div><div ng-if="modal.modalService.status === \'modalDone\'"><h3>{{modal.modalService.modalProgress.message}}</h3></div></div><div class="modal-footer"><div ng-if="modal.modalService.status === \'modalDone\'"><button ng-class="button.class" ng-repeat="button in modal.modalService.modalProgress.buttons track by $index" ng-click="modal.btnClick(button)">{{::button.name}}</button></div></div>'),e.put("app/components/modals/modal-updater.html",'<div class="modal-header"><h3 class="modal-title"><i class="fa fa-refresh"></i> {{modal.dataObj.title}}</h3></div><div class="modal-body"><div ng-if="modal.updaterService.status === \'updateReady\'"><span ng-bind-html="modal.dataObj.description"></span></div><div ng-if="modal.updaterService.status === \'updateProgress\'"><h4>{{modal.updaterService.updateProgress.status}}</h4><uib-progressbar class="progress-striped active" value="modal.updaterService.updateProgress.progress" type="default">{{modal.updaterService.updateProgress.progress}}%</uib-progressbar><span translate="UPDATER.DOWNLOAD_SPEED"></span>: {{modal.updaterService.updateProgress.downloadSpeed}} | <span translate="UPDATER.TIME_REMAINING"></span>: {{modal.updaterService.updateProgress.eta}}</div><div ng-if="modal.updaterService.status === \'updateDone\'"><h3>{{modal.updaterService.updateDone.message}}</h3></div></div><div class="modal-footer"><div ng-if="modal.updaterService.status === \'updateReady\' || modal.updaterService.status === \'updateWaitMsg\'"><button ng-if="modal.updaterService.updateReady.updateavailable" class="btn btn-warning" ng-click="modal.cancel()"><span translate="COMMON.CANCEL"></span></button> <button ng-if="modal.updaterService.updateReady.updateavailable" class="btn btn-primary" ng-click="modal.update(\'now\')"><span translate="UPDATER.UPDATE_NOW"></span></button> <button ng-if="!modal.updaterService.updateReady.updateavailable" class="btn btn-primary" ng-click="modal.cancel()"><span translate="COMMON.OK"></span></button></div><div ng-if="modal.updaterService.status === \'updateDone\'"><button ng-if="modal.updaterService.updateDone.status === \'success\'" class="btn btn-primary" ng-click="modal.reboot()"><span translate="COMMON.RESTART_SYSTEM"></span></button> <button ng-if="modal.updaterService.updateDone.status === \'error\'" class="btn btn-primary" ng-click="modal.update(\'now\')"><span translate="COMMON.TRY_AGAIN"></span></button></div></div>'),e.put("app/components/on-cloud-actions/on-cloud-actions.html",'<div ng-if="!header.isSocketReady" class="on-cloud-actions-container"><div class="logout-container" ng-if="header.authService.user !== null"><button class="btn btn-danger btn-small btn-labeled" ng-click="header.logout()"><span class="glyphicon glyphicon-log-out"></span> {{\'MYVOLUMIO.LOGOUT\' | translate}}</button></div><div class="languageContainer"><ui-select ng-model="header.language" ng-change="header.changeLanguage()" search-enabled="false" ng-readonly="true" append-to-body="false" theme="bootstrap"><ui-select-match class="ui-select-match" placeholder="">{{$select.selected.label}}</ui-select-match><ui-select-choices class="ui-select-choices" repeat="language in header.languages track by $index"><div ng-bind-html="language.label"></div></ui-select-choices></ui-select></div></div>'),e.put("app/components/player-logger/player-logger.html",'<div id="playerLoggerWrapper"><div id="playerLogger"><button ng-click="playerLogger.loggerService.clear()">Clear console</button><br><div id="log" ng-bind-html="playerLogger.loggerService.log"></div></div></div>'),e.put("app/components/player-status/player-status.html",'<div id="playerStatusWrapper" class=""><div id="playerStatus"><span ng-repeat="(key, val) in playerStatus.playerService.state track by $index"><strong>{{::key}}:</strong> {{::val}}</span></div></div>'),e.put("app/components/side-menu/side-menu.html",'<div id="sideMenuScrim" ng-if="sideMenu.visible" ng-click="sideMenu.toggleMenu()"></div><li class="side-menu-item" ng-if="sideMenu.isInMainMenu"><a href="" ng-click="sideMenu.toggleMenu()"><i class="fa fa-cog"></i> <span translate="COMMON.SETTINGS"></span></a></li><button ng-if="sideMenu.isInTabBar" ng-click="sideMenu.toggleMenu()" class="btn btn-default tab-bar-btn settingsBtn" ng-mouseenter="hover = \'settings\'" ng-mouseleave="hover = \'\'" ng-class="{selected: state.current.name === \'volumio.settings\'}" title="{{\'COMMON.TAB_SETTINGS\' | translate}}"><span class="fa fa-cog"></span> <span class="label" translate="COMMON.TAB_SETTINGS"></span></button><div id="sideMenu"><button id="openMenuBtn" ng-if="!sideMenu.isInMainMenu && !sideMenu.isInTabBar" ng-click="sideMenu.toggleMenu()" class="btn btn-link" title="{{\'COMMON.SHOW_SETTINGS\' | translate}}"><i class="fa fa-cog"></i></button><div id="menuList" role="group" ng-if="sideMenu.visible"><button id="closeMenuBtn" ng-click="sideMenu.toggleMenu()" class="btn btn-link"><i class="fa fa-times"></i></button><div ng-if="sideMenu.isAuthActive() && sideMenu.isMyVolumioVisible()" id="myvolumio-card-container"><my-volumio-user-card action-callback="sideMenu.toggleMenu()"></my-volumio-user-card></div><button ng-repeat="item in sideMenu.menuItems track by $index" ng-click="sideMenu.itemClick(item)" ng-if="item.id !== sideMenu.MYVOLUMIO_KEY" class="btn-link btn-block">{{::item.name}}</button><div class="hardwareToggleCheckbox" ng-if="::sideMenu.uiSettingsService.uiSettings.sideMenu.checkboxes.analogInput"><input type="checkbox" ng-model="sideMenu.analogIn" ng-click="sideMenu.toggleAnalogInput()"> <span translate="SIDEMENU.ANALOG_INPUT"></span></div><div class="hardwareToggleCheckbox" ng-if="::sideMenu.uiSettingsService.uiSettings.sideMenu.checkboxes.bluetooth"><input type="checkbox" ng-model="sideMenu.bluetooth" ng-click="sideMenu.toggleBluetooth()"> <span translate="SIDEMENU.BLUETOOTH"></span></div><div class="side-logo" ng-if="::sideMenu.uiSettingsService.uiSettings.sideMenu.showLogo"><img ng-src="{{variantAssetsUrl}}/graphics/{{variant}}-logo-sidebar.png" alt="{{header.themeManager.theme}}"></div></div></div>'),e.put("app/components/track-info-bar/track-info-bar-buttons.html",'<div class="trackInfoBarButtons"><button ng-class="{\'active\': trackInfoBarButtons.playerService.state.random}" ng-click="trackInfoBarButtons.playerService.shuffle()" class="btn btn-link" title="{{\'TRACK_INFO_BAR.RANDOM\' | translate}}"><i class="fa fa-random"></i></button> <button ng-if="!trackInfoBarButtons.playerService.state.repeat" ng-class="{\'active\': trackInfoBarButtons.playerService.state.repeat}" ng-click="trackInfoBarButtons.playerService.repeatAlbum(true, false)" class="btn btn-link" title="{{\'TRACK_INFO_BAR.REPEAT\' | translate}}"><i class="fa fa-repeat"></i></button> <button ng-if="trackInfoBarButtons.playerService.state.repeat && !trackInfoBarButtons.playerService.state.repeatSingle" ng-class="{\'active\': trackInfoBarButtons.playerService.state.repeat}" ng-click="trackInfoBarButtons.playerService.repeatAlbum(true, true)" class="btn btn-link" title="{{\'TRACK_INFO_BAR.REPEAT\' | translate}}"><i class="fa fa-repeat"></i></button> <button ng-if="trackInfoBarButtons.playerService.state.repeat && trackInfoBarButtons.playerService.state.repeatSingle" ng-class="{\'active\': trackInfoBarButtons.playerService.state.repeat}" ng-click="trackInfoBarButtons.playerService.repeatAlbum(false, false)" class="btn btn-link" title="{{\'TRACK_INFO_BAR.REPEAT\' | translate}}"><i class="fa fa-repeat">1</i></button> <button ng-click="trackInfoBarButtons.addToPlaylist()" class="btn btn-link" title="{{\'TRACK_INFO_BAR.SAVE_QUEUE_AS_PLAYLIST\' | translate}}"><i class="fa fa-save"></i></button> <button ng-click="trackInfoBarButtons.playQueueService.clearQueue()" class="btn btn-link" title="{{\'TRACK_INFO_BAR.CLEAR_QUEUE\' | translate}}"><i class="fa fa-trash"></i></button></div>'),e.put("app/components/track-info-bar/track-info-bar.html",'<div class="trackInfoBar"><div class="leftInfo"><div ng-show="trackInfoBar.playerService.state.status === \'play\'"><span class="green" translate="TRACK_MANAGER.PLAYING">:</span> {{trackInfoBar.playerService.state.title}} <span ng-if="trackInfoBar.playerService.state.artist"><span class="small" translate="TRACK_MANAGER.BY"></span> <a style="cursor: pointer" ng-click="trackInfoBar.goTo(\'artist\')">{{trackInfoBar.playerService.state.artist}}</a></span> <span ng-if="trackInfoBar.playerService.state.album"><span class="small" translate="TRACK_MANAGER.FROM"></span> <a style="cursor: pointer" ng-click="trackInfoBar.goTo(\'album\')">{{trackInfoBar.playerService.state.album}}</a></span></div></div><track-info-bar-buttons class="rightInfo" ng-if="trackInfoBar.$state.current.name === \'volumio.play-queue\'"></track-info-bar-buttons></div>'),
e.put("app/components/wait-backend-scrim/wait-backend-scrim.html",'<div id="waitBackendScrim"><div id="overlay"></div><div id="waitBackendSpinner"><i class="fa fa-spinner fa-pulse"></i></div></div>'),e.put("app/plugin/components/plugin-component.html",'<div class="container-fluid"><div class="row" ng-if="pluginComponent.showPlugin"><div class="col-xs-24" id="pluginWrapper"><div class="box"><div class="boxHeader"><div class="title"><h2><a ui-sref="volumio.settings" class="btn btn-primary" ng-if="pluginComponent.themeManager.theme === \'volumio3\'"><i class="fa fa-arrow-left" style="font-size: 24px"></i></a> {{pluginComponent.pluginObj.page.label}}</h2><button type="button" class="btn btn-link btn-xs" ng-if="pluginComponent.$stateParams.isPluginSettings" onclick="window.history.back()"><i class="fa fa-chevron-left" aria-hidden="true"></i> <span translate="COMMON.BACK"></span></button></div></div><h4 class="pluginDescription" ng-if="pluginComponent.pluginObj.page.description">{{pluginComponent.pluginObj.page.description}}</h4><div class="panel panel-default" ng-if="!section.hidden" ng-repeat="section in pluginComponent.pluginObj.sections track by $index"><div ng-if="section.coreSection" ng-include="\'app/plugin/core-plugin/\' + section.coreSection + \'-plugin.html\'"></div><div ng-if="!section.coreSection" class="panel-heading"><h3 class="panel-title"><i ng-if="section.icon" class="fa {{section.icon}}"></i> <img ng-if="!section.icon && section.image" src="{{::pluginComponent.pluginObj.host+\'/albumart?sectionimage=\'+section.image}}" class="section-image"> {{this.socketService.host}}{{section.label}}</h3></div><div ng-if="!section.coreSection" class="panel-body"><h4 class="sectionDescription" ng-if="section.description">{{section.description}}</h4><div ng-if="section.content"><form><div ng-repeat="item in section.content track by $index" ng-if="pluginComponent.isItemVisible(item,section)" plugin-visible="item.visibleIf" section="section" class="form-group"><label for="{{item.id}}" class="plugin-label control-label">{{item.label}}</label><div ng-if=\'item.element!=="equalizer"\' ng-switch="item.element" class="control-item"><div class=""><input ng-switch-when="input" id="{{item.id}}" type="{{item.type}}" plugin-attributes="item.attributes" ng-model="item.value" class="form-control"> <input ng-switch-when="switch" id="{{item.id}}" bs-switch="" ng-model="item.value" type="checkbox" switch-size="medium" switch-animate="false" switch-on-text="On" switch-off-text="Off" ng-true-value="true" ng-false-value="false"><div ng-switch-when="select"><ui-select id="{{item.id}}" ng-model="item.value" search-enabled="false" ng-readonly="true" append-to-body="true" theme="bootstrap"><ui-select-match class="ui-select-match" placeholder="Enter an address...">{{$select.selected.label}}</ui-select-match><ui-select-choices class="ui-select-choices" repeat="option in item.options track by $index"><div ng-bind-html="option.label"></div></ui-select-choices></ui-select></div><div ng-switch-when="equalizer"><equalizer id="{{item.id}}" config="item.config"></equalizer></div><button ng-switch-when="button" id="{{item.id}}" type="button" class="btn btn-info" name="{{item.id}}" plugin-attributes="item.attributes" ng-click="pluginComponent.saveButton(item)">{{item.button_label !== undefined ? item.button_label : item.label}}</button><div ng-switch-default=""></div></div></div><div ng-if=\'item.element ==="equalizer"\' class="equalizer-plugin"><div class=""><div><equalizer id="{{item.id}}" config="item.config"></equalizer></div></div></div><div ng-if="pluginComponent.uiSettingsService.uiSettings.pluginsDoc.showDoc && item.doc" class="control-doc"><a href="" ng-click="pluginComponent.openDoc(item)"><i class="fa fa-info-circle" aria-hidden="true"></i></a></div><div ng-if="pluginComponent.uiSettingsService.uiSettings.pluginsDoc.showDescription && item.description" class="control-description">{{item.description}}</div><div style="clear: both"></div></div><div ng-if="section.saveButton && !section.saveButton.hidden" class="form-group"><div class="control-buttons"><button type="button" class="btn btn-info" ng-click="pluginComponent.saveSection(section)">{{section.saveButton.label}}</button></div></div></form></div></div></div></div></div></div></div>'),e.put("app/plugin/core-plugin/firmware-upload-plugin.html",'<div id="firmwareUploadPlugin" ng-controller="FirmwareUploadPluginController as uploadFirmwarePlugin" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-upload" aria-hidden="true"></i> Update firmware via file</h3></div><div class="panel-body">Update system\'s firmware via local firmware file<br><br><form name="uploadFirmwarePlugin.form"><button type="button" class="btn btn-info" ng-model="uploadFirmwarePlugin.firmwareFile" ngf-select="uploadFirmwarePlugin.uploadFirmware()"><i class="fa fa-upload" aria-hidden="true"></i> Choose File</button></form></div></div>'),e.put("app/plugin/core-plugin/my-music-plugin-enabler-plugin.html",'<div id="myMusicPlugins" ng-controller="MyMusicPluginEnablerController as MyMusicPlugins" class="panel panel-default"><div class="panel-heading" ng-if="MyMusicPlugins.plugins.length"><h3 class="panel-title"><i class="fa fa-toggle-on"></i> <span translate="COMMON.FUNCTIONALIES_CONTROL"></span></h3></div><div class="panel-body" ng-if="MyMusicPlugins.plugins.length"><div id="installed-plugin-lists" ng-repeat="plugin in MyMusicPlugins.plugins track by $index"><div class="row"><div class="col-xs-24 col-sm-24 col-md-12" id="list-group"><div class="row"><div class="col-xs-12 col-sm-12 col-md-16"><i ng-if="plugin.icon && !MyMusicPlugins.matchmediaService.isPhone" class="fa {{plugin.icon}} fa-lg"></i> {{plugin.prettyName}}</div><div class="col-xs-8 col-sm-8 col-md-8"><input bs-switch="" ng-model="plugin.enabled" type="checkbox" switch-size="medium" switch-animate="false" switch-on-text="On" switch-off-text="Off" ng-true-value="true" ng-false-value="false" ng-change="MyMusicPlugins.enableDisableMyMusicPlugin(plugin)"></div></div></div><div class="col-xs-24 col-sm-24 col-md-10" id="list-group"><div class="col-xs-12 col-sm-12 col-md-12"><span class="pluginDotStatus" ng-class="{\'active\': plugin.active, \'inactive\': !plugin.active}"></span> <span ng-if="plugin.active" translate="COMMON.ACTIVE"></span> <span ng-if="!plugin.active" translate="COMMON.INACTIVE"></span></div><div class="col-xs-12 col-sm-12 col-md-12"><button ng-if="plugin.enabled && plugin.hasConfiguration" ng-click="MyMusicPlugins.showMyMusicPluginSettings(plugin)" type="button" class="btn btn-info pull-right" title="{{\'COMMON.SETTINGS\' | translate}}">{{\'COMMON.SETTINGS\' | translate}}</button></div></div></div></div></div></div>'),e.put("app/plugin/core-plugin/my-music-plugin.html",'<div id="myMusic" ng-controller="MyMusicPluginController as myMusic" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-music"></i> <span translate="COMMON.MY_MUSIC"></span></h3></div><div class="panel-body"><h4 ng-if="false" class="sectionDescription"></h4><table class="table"><tr><th><span translate="COMMON.ARTISTS"></span></th><th><span translate="COMMON.ALBUMS"></span></th><th><span translate="COMMON.SONGS"></span></th><th><span class="hidden-xs" translate="COMMON.PLAYTIME"></span> <span class="visible-xs" translate="COMMON.TIME"></span></th></tr><tr><td>{{myMusic.myCollectionStats.artists}}</td><td>{{myMusic.myCollectionStats.albums}}</td><td>{{myMusic.myCollectionStats.songs}}</td><td>{{myMusic.myCollectionStats.playtime}}</td></tr></table><button ng-click="myMusic.updateLibrary()" type="button" class="btn btn-info" title="{{\'MY_MUSIC.UPDATE_DOC\' | translate}}"><span translate="MY_MUSIC.UPDATE"></span></button> <button ng-click="myMusic.rescanLibrary()" type="button" class="btn btn-info" title="{{\'MY_MUSIC.RESCAN_DOC\' | translate}}"><span translate="MY_MUSIC.RESCAN"></span></button></div></div>'),e.put("app/plugin/core-plugin/network-drives-plugin.html",'<div ng-controller="NetworkDrivesPluginController as networkDrives"><div id="networkDrives" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-hdd-o"></i> <span translate="NETWORKFS.NETWORK_DRIVES"></span> <i class="fa fa-info-circle pull-right" ng-click="networkDrives.showNasHelper()"></i></h3></div><div class="panel-body"><h4 ng-if="false" class="sectionDescription"></h4><button ng-click="networkDrives.addDrive()" id="addNewDrive" type="button" class="btn btn-info" title="{{\'NETWORKFS.ADD_DRIVE\' | translate}}"><span ng-if="!networkDrives.inAddDrive"><i class="fa fa-plus"></i> <span translate="NETWORKFS.ADD_DRIVE"></span></span> <span ng-if="networkDrives.inAddDrive"><i class="fa fa-refresh"></i> <span translate="COMMON.RESCAN"></span></span></button><div class="clearfix"></div><br><ng-include src="\'app/plugin/core-plugin/elements/network-drives-add-edit-drive.html\'" ng-if="networkDrives.inAddDrive"></ng-include><table class="table tableSmall" ng-if="networkDrives.infoShare"><tr><th><span translate="NETWORKFS.ALIAS"></span></th><th ng-if="!networkDrives.matchmediaService.isPhone"><span translate="NETWORKFS.PATH"></span></th><th><span translate="NETWORKFS.MOUNTED"></span></th><th><span translate="NETWORKFS.SIZE"></span></th><th></th></tr><tr ng-repeat-start="drive in networkDrives.infoShare track by drive.id"><td>{{drive.name}}</td><td ng-if="!networkDrives.matchmediaService.isPhone">\\\\{{drive.ip}}\\{{drive.path}}</td><td><i class="fa fa-check true" ng-if="drive.mounted"></i> <i class="fa fa-remove false" ng-if="!drive.mounted"></i></td><td>{{drive.size}}</td><td class="commandCol"><button ng-click="networkDrives.deleteDrive(drive)" type="button" class="btn btn-danger" title="{{\'NETWORKFS.DELETE_DRIVE\' | translate}}"><i class="fa fa-trash-o"></i></button> <button ng-click="networkDrives.editDrive(drive, $index)" type="button" class="btn btn-info" title="{{\'NETWORKFS.EDIT_DRIVE\' | translate}}"><i class="fa fa-pencil"></i></button></td></tr><tr ng-if="networkDrives.inEditDrive === $index" ng-repeat-end=""><td colspan="5"><div class="row"><div class="col-xs-24"><ng-include src="\'app/plugin/core-plugin/elements/network-drives-add-edit-drive.html\'"></ng-include></div></div></td></tr></table></div></div></div>'),e.put("app/plugin/core-plugin/network-status-plugin.html",'<div id="networkStatus" ng-controller="NetworkStatusPluginController as networkStatus" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-tachometer"></i> <span translate="NETWORK.NETWORK_STATUS"></span></h3></div><div class="panel-body"><h4 ng-if="::false" class="sectionDescription"></h4><div class="networkStatus"><div class="panel panel-default col-sm-12" ng-repeat="network in ::networkStatus.networkInfos track by $index"><div class="panel-heading"><h3 class="panel-title">{{::network.type}}</h3></div><div class="panel-body"><ul><li ng-if="::network.ssid"><span><img ng-if="::network.signal >= 0" ng-src="{{networkStatus.$rootScope.assetsUrl + \'/wifi-icons/\' + network.signal + \'.png\'}}" alt="signal-{{wifi.signal}}" class="signal-icon"></span> {{::network.ssid}}</li><li><span><span translate="NETWORK.IP_ADDRESS"></span>:</span> {{::network.ip}}</li><li ng-if="::network.speed"><span><span translate="NETWORK.SPEED"></span>:</span> {{::network.speed}}</li><li ng-if="network.online !== undefined"><span><span translate="NETWORK.ONLINE"></span>:</span> <i class="fa fa-check true" ng-if="network.online"></i> <i class="fa fa-remove false" ng-if="!network.online"></i></li></ul></div></div></div></div></div>'),e.put("app/plugin/core-plugin/system-version-plugin.html",'<div id="systemVersion" ng-controller="SystemVersionPluginController as sv" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-info-circle"></i> <span translate="COMMON.SYSTEM_VERSION"></span></h3></div><div class="panel-body"><h4 ng-if="false" class="sectionDescription"></h4><span translate="COMMON.SYSTEM_VERSION"></span>: {{sv.systemVersion.systemversion}} <span translate="COMMON.RELEASED"></span>: {{sv.systemVersion.builddate}}<h4 ng-if="false" class="sectionDescription"></h4><div ng-if="sv.systemVersion.additionalSVInfo">{{sv.systemVersion.additionalSVInfo}}</div></div></div>'),e.put("app/plugin/core-plugin/ui-settings-plugin.html",'<div id="uiSettings" ng-controller="UiSettingsPluginController as uiSettingsPlugin" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-paint-brush"></i> <span translate="UI_SETTINGS.THEME_SETTINGS"></span></h3></div><div class="panel-body"><h4 class="sectionDescription" translate="UI_SETTINGS.UPLOAD_BACKGROUND_FILE"></h4><div ng-if="!uiSettingsPlugin.uploadPercentage"><div class="uploadDroppableArea" ngf-drop="uiSettingsPlugin.uploadBackground()" ngf-select="uiSettingsPlugin.uploadBackground()" ngf-drag-over-class="\'dragover\'" ng-model="uiSettingsPlugin.backgroundFile" name="plugin"><span translate="UI_SETTINGS.UPLOAD_BACKGROUND_FILE"></span></div></div><div id="installProgressBar" ng-if="uiSettingsPlugin.uploadPercentage > 0"><h3 translate="UI_SETTINGS.UPLOAD_BACKGROUND_FILE"></h3><uib-progressbar class="progress-striped active" value="uiSettingsPlugin.uploadPercentage" type="default">{{uiSettingsPlugin.uploadPercentage}}%</uib-progressbar></div><hr><h4 class="sectionDescription" translate="UI_SETTINGS.SELECT_BACKGROUND"></h4><div id="backgroundSelector" class="row"><div class="col-sm-6" ng-repeat-start="background in uiSettingsPlugin.uiSettingsService.backgrounds.list track by $index"><div class="background"><img ng-click="uiSettingsPlugin.selectBackground(background)" ng-class="{\'current\': uiSettingsPlugin.uiSettingsService.uiSettings.background.title === background.name}" ng-src="{{background.thumbnail}}" alt="{{background.name}}"><div class="backgroundName"><span ng-class="{\'current\': uiSettingsPlugin.uiSettingsService.uiSettings.background.title === background.name}">{{background.name}}</span><p ng-if="uiSettingsPlugin.uiSettingsService.uiSettings.background.title !== background.name"><button type="button" class="btn btn-info" ng-click="uiSettingsPlugin.selectBackground(background)" title="{{\'UI_SETTINGS.APPLY_BACKGROUND\' | translate}}"><i class="fa fa-check"></i></button> <button type="button" class="btn btn-danger" ng-if="!background.notDeletable" ng-click="uiSettingsPlugin.deleteBackground(background)" title="{{\'UI_SETTINGS.DELETE_BACKGROUND\' | translate}}"><i class="fa fa-trash"></i></button></p></div></div></div><div ng-repeat-end="" ng-if="($index + 1) % 4 === 0" class="clearfix"></div></div><hr><h4 class="sectionDescription" translate="UI_SETTINGS.SELECT_BACKGROUND_COLOR"></h4><div id="backgroundColorSelector" class="row"><div class="col-xs-24" id="colorPalette"><div ng-repeat="color in uiSettingsPlugin.backgroundColorSet track by color" ng-class="{selected: color === uiSettingsPlugin.uiSettingsService.uiSettings.color}" ng-style="{backgroundColor: uiSettingsPlugin.backgroundColorSet[$index]}"><button type="button" class="btn btn-info" ng-click="uiSettingsPlugin.selectBackgroundColor(uiSettingsPlugin.backgroundColorSet[$index])" title="{{\'UI_SETTINGS.APPLY_BACKGROUND_COLOR\' | translate}}"><i class="fa fa-check"></i></button></div><div ng-style="{backgroundColor: uiSettingsPlugin.customBackgroundColor}" ng-class="{selected: (uiSettingsPlugin.uiSettingsService.uiSettings.color && uiSettingsPlugin.customBackgroundColor === uiSettingsPlugin.uiSettingsService.uiSettings.color)}"><button type="button" class="btn btn-info customColor" ng-click="uiSettingsPlugin.selectBackgroundColor(uiSettingsPlugin.customBackgroundColor)" title="{{\'UI_SETTINGS.APPLY_BACKGROUND_COLOR\' | translate}}"><i class="fa fa-check"></i></button> <input type="text" class="form-control" ng-model="uiSettingsPlugin.customBackgroundColor"></div></div></div></div></div>'),e.put("app/plugin/core-plugin/wifi-plugin.html",'<div id="wifiPlugin" ng-controller="WifiPluginController as wifiPlugin" ng-show="wifiPlugin.wirelessNetworks.available || wifiPlugin.wirelessNetworks.connectedTo" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-wifi"></i> <span translate="NETWORK.WIRELESS_NETWORK_CONNECTION"></span></h3></div><div class="panel-body"><table class="table"><tr ng-if="::wifiPlugin.wirelessNetworks.connectedTo"><td class="wifiIcon"><img ng-if="::wifiPlugin.wirelessNetworks.connectedTo.signal >= 0" ng-src="{{wifiPlugin.$rootScope.assetsUrl + \'/wifi-icons/\' + wifiPlugin.wirelessNetworks.connectedTo.signal + \'.png\'}}" alt="signal-{{wifi.signal}}"></td><td class="lockIcon"><span ng-if="::wifi.security"><i ng-if="::wifiPlugin.wirelessNetworks.connectedTo.security == \'open\'" class="fa fa-unlock" title="{{\'NETWORK.OPEN_NETWORK\' | translate}}"></i> <i ng-if="::wifiPlugin.wirelessNetworks.connectedTo.security !== \'open\'" class="fa fa-lock" title="{{\'NETWORK.SECURE_NETWORK\' | translate}}"></i></span></td><td>{{::wifiPlugin.wirelessNetworks.connectedTo.ssid}}</td><td></td><td class="commandCol"></td></tr><tr ng-if="::wifiPlugin.wirelessNetworks.available.length > 0" ng-click="wifiPlugin.insertPassword($index)" ng-repeat-start="wifi in wifiPlugin.wirelessNetworks.available track by $index"><td class="wifiIcon"><img ng-if="::wifi.signal >= 0" ng-src="{{wifiPlugin.$rootScope.assetsUrl + \'/wifi-icons/\' + wifi.signal + \'.png\'}}" alt="signal-{{wifi.signal}}"> <i ng-if="::wifi.signal < 0" class="fa fa-eye-slash"></i></td><td class="lockIcon"><span><i ng-if="wifi.security === \'open\' || wifi.security.label === \'open\'" class="fa fa-unlock" title="{{\'NETWORK.OPEN_NETWORK\' | translate}}"></i> <i ng-if="wifi.security !== \'open\' && wifi.security.label !== \'open\'" class="fa fa-lock" title="{{\'NETWORK.SECURE_NETWORK\' | translate}}"></i></span></td><td><span ng-if="!wifi.manual">{{::wifi.ssid}}</span> <span ng-if="wifi.manual" translate="NETWORK.MANUAL_WIFI_CONNECTION"></span></td></tr><tr ng-repeat-end="" ng-if="wifi.insertPassword"><td colspan="4" class="insertPasswordRow"><span ng-if="::wifi.ssidHidden" class="checkbox-wrapper"><input ng-model="wifi.hidden" type="checkbox" id="customWifi" class="custom-checkbox"> <label for="customWifi"></label> <span translate="COMMON.HIDDEN"></span> &nbsp;|&nbsp;</span> <span translate="NETWORK.SECURITY" ng-if="::wifi.ssidHidden || wifi.hotSpot"></span> &nbsp;<div class="securitySelectWrapper" ng-if="::wifi.ssidHidden || wifi.hotSpot"><ui-select ng-model="wifi.security" search-enabled="false" ng-readonly="true" append-to-body="false" theme="bootstrap"><ui-select-match class="ui-select-match" placeholder="{{\'NETWORK.SELECT_ENCRYPTION\'}}">{{$select.selected.label}}</ui-select-match><ui-select-choices class="ui-select-choices" repeat="option in wifiPlugin.securityTypes track by $index"><div ng-bind-html="option.label"></div></ui-select-choices></ui-select></div><input class="form-control" ng-if="::wifi.ssidHidden" ng-model="wifi.ssid" type="text" placeholder="{{\'NETWORK.NETWORK_NAME\' | translate}}"> <input class="form-control" ng-if="wifi.security !== \'open\' && wifi.security.label !== \'open\'" ng-model="wifi.password" type="{{wifi.showHidePassword || \'password\'}}" placeholder="password"><br><button ng-if="wifi.security !== \'open\' && wifi.security.label !== \'open\' && wifi.password.length" ng-click="(wifi.showHidePassword === \'text\') ? wifi.showHidePassword = \'password\' : wifi.showHidePassword = \'text\'" type="button" class="btn btn-info showHidePassword"><i ng-if="!wifi.showHidePassword || wifi.showHidePassword === \'password\'" class="fa fa-eye"></i> <i ng-if="wifi.showHidePassword === \'text\'" class="fa fa-eye-slash"></i></button> <button class="btn btn-info" ng-click="wifiPlugin.connectToWifi(wifi, $index)" type="button" name="btn btn-info"><i class="fa fa-level-down fa-rotate-90"></i> <span translate="NETWORK.CONNECT"></span></button></td></tr></table><button type="button" class="btn btn-info refreshWiFiNetworks" ng-click="wifiPlugin.refreshWifiNetworks()"><i class="fa fa-refresh" title="{{\'NETWORK.REFRESH\' | translate}}"></i> <span translate="NETWORK.REFRESH"></span></button></div></div>'),e.put("app/plugin-manager/elements/installed-plugin.html",'<div id="installed-plugin-lists" ng-repeat="plugin in pluginManager.installedPlugins track by $index"><div class="row"><div class="col-xs-24 col-sm-24 col-md-14" id="list-group"><div class="row"><div class="col-xs-8 col-sm-8 col-md-8"><i ng-if="plugin.icon" class="fa {{plugin.icon}} fa-lg"></i> <i ng-if="!plugin.icon" class="fa fa-cube fa-lg"></i> {{plugin.prettyName}} <small ng-if="plugin.version" class="text-muted">{{plugin.version}}</small></div><div class="col-xs-8 col-sm-8 col-md-8"><input bs-switch="" ng-model="plugin.enabled" type="checkbox" switch-size="medium" switch-animate="false" switch-on-text="On" switch-off-text="Off" ng-true-value="true" ng-false-value="false" ng-change="pluginManager.enableDisablePlugin(plugin)"></div><div class="col-xs-8 col-sm-8 col-md-8"><span class="pluginDotStatus" ng-class="{\'active\': plugin.active, \'inactive\': !plugin.active}"></span> <span ng-if="plugin.active" translate="COMMON.ACTIVE"></span> <span ng-if="!plugin.active" translate="COMMON.INACTIVE"></span></div></div></div><div class="col-xs-24 col-sm-24 col-md-8"><div class="row"><div class="col-xs-8 col-sm-8 col-md-8"><button ng-if="plugin.updateAvailable" ng-click="pluginManager.updatePlugin(plugin)" type="button" class="btn btn-info pull-right" title="{{\'PLUGINS.UPDATE\' | translate}}"><i class="fa fa-refresh"></i> {{\'PLUGINS.UPDATE\' | translate}}</button></div><div class="col-xs-8 col-sm-8 col-md-8"><button ng-if="plugin.enabled" ng-click="pluginManager.showPluginSettings(plugin)" type="button" class="btn btn-info pull-right" title="{{\'COMMON.SETTINGS\' | translate}}">{{\'COMMON.SETTINGS\' | translate}}</button></div><div class="col-xs-8 col-sm-8 col-md-8"><button ng-click="pluginManager.unInstallPlugin(plugin)" type="button" class="btn btn-danger pull-right" title="{{\'PLUGINS.UNINSTALL\' | translate}}">{{\'PLUGINS.UNINSTALL\' | translate}}</button></div></div></div></div><div ng-repeat-end="" ng-show="plugin.showSettings"><span translate="COMMON.SHOW_SETTINGS"></span></div></div>'),e.put("app/plugin-manager/elements/search-plugin.html",'<div class="row"><div class="col-sm-4"><div ng-repeat="category in pluginManager.availablePlugins.categories"><button ng-click="pluginManager.showPluginCategory(category, $index)" type="button" class="btn btn-link pluginCategoryBtn" ng-class="{active: category.name === pluginManager.selectedCategory.name}">{{::category.prettyName}}</button></div><div class="clearfix"></div></div><div class="col-sm-20"><div class="panel panel-default" ng-repeat="plugin in pluginManager.selectedCategory.plugins track by $index"><div class="panel-heading"><h3 class="panel-title"><i ng-if="plugin.icon" class="fa {{plugin.icon}}"></i> <i ng-if="!plugin.icon" class="fa fa-cube"></i> {{plugin.prettyName}}</h3></div><div class="panel-body"><div>{{plugin.description}}</div><br><div class="row pluginDetailsRow"><div class="col-xs-12"><strong>Author:</strong>{{plugin.author}}</div><div class="col-xs-12 text-right"><strong>Updated:</strong>{{plugin.updated}}</div></div><div class="row pluginDetailsRow"><div class="col-xs-12"><strong>Version:</strong>{{plugin.version}}</div></div><br><div><button ng-if="!plugin.installed" ng-click="pluginManager.installPlugin(plugin)" type="button" class="btn btn-info pull-right marginLeft" title="{{\'PLUGINS.INSTALL\' | translate}}"><span translate="PLUGINS.INSTALL"></span></button> <button ng-if="plugin.updateAvailable" ng-click="pluginManager.updatePlugin(plugin)" type="button" class="btn btn-info pull-right marginLeft" title="{{\'PLUGINS.UPDATE\' | translate}}"><span translate="PLUGINS.UPDATE"></span></button> <button ng-if="plugin.installed" ng-click="pluginManager.unInstallPlugin(plugin)" type="button" class="btn btn-danger pull-right marginLeft" title="{{\'PLUGINS.UNINSTALL\' | translate}}"><span translate="PLUGINS.UNINSTALL"></span></button> <button ng-click="pluginManager.showPluginDetails(plugin)" type="button" class="btn btn-info pull-right" title="{{\'PLUGINS.DETAILS\' | translate}}"><span translate="PLUGINS.DETAILS"></span></button></div></div></div></div></div>'),e.put("app/plugin-manager/elements/upload-plugin.html",'<div ng-if="!pluginManager.uploadPercentage"><div class="uploadDroppableArea" ngf-drop="pluginManager.uploadPlugin()" ngf-select="pluginManager.uploadPlugin()" ngf-drag-over-class="\'dragover\'" ng-model="pluginManager.pluginFile" name="plugin"><span translate="PLUGINS.DROP"></span></div></div><div id="installProgressBar" ng-if="pluginManager.uploadPercentage > 0"><h3 translate="PLUGINS.INSTALL_PROGRESS">:</h3><uib-progressbar class="progress-striped active" value="pluginManager.uploadPercentage" type="default">{{pluginManager.uploadPercentage}}%</uib-progressbar></div>'),e.put("app/wizard/partials/wizard-button-bar.html",'<div ng-if="!wizard.matchmediaService.isPhone" id="status-bar" class="row text-lef">{{\'WIZARD.STEP\' | translate}} {{wizard.getStepPos()}}</div><div id="button-bar" class="row text-right"><button type="button" class="btn btn-warning" ng-click="wizard.skipWizard()" ng-if="!wizard.isLastStep() && !wizard.isPersistentWizard()" translate="COMMON.CLOSE"></button> <button type="button" class="btn btn-info" ng-click="wizard.gotoPrevStep()" ng-if="!wizard.isFirstStep() && !wizard.matchmediaService.isPhone" translate="COMMON.PREVIOUS"></button> <button type="button" class="btn btn-info" ng-click="wizard.gotoPrevStep()" ng-if="!wizard.isFirstStep() && wizard.matchmediaService.isPhone"><</button> <button type="button" class="btn btn-info" ng-click="wizard.gotoNextStep()" ng-if="!wizard.isLastStep()" translate="COMMON.NEXT"></button> <button type="button" class="btn btn-info" ng-click="wizard.done()" ng-if="wizard.isLastStep() && !wizard.isAccountSetupRequired() && !wizard.isPersistentWizard()" translate="COMMON.DONE"></button> <button type="button" class="btn btn-info" ng-click="wizard.goToAccountSetup()" ng-if="wizard.isLastStep() && wizard.isAccountSetupRequired()" translate="MYVOLUMIO.ACCOUNT"></button></div>'),e.put("app/wizard/partials/wizard-navigator.html",'<div id="wizard-navigator"><span ng-repeat="step in wizard.wizardDetails.steps track by step.name"><button ng-if="!wizard.matchmediaService.isPhone" class="btn btn-link btn-navigator" type="button" ng-click="wizard.gotoStep(step)" ng-class="{selected: wizard.currentStep === step}"><span ng-if="step.type === \'core\'">{{\'WIZARD.\' + step.name | uppercase | translate}}</span> <span ng-if="step.type != \'core\'" style="text-transform:capitalize;">{{step.name}}</span></button></span></div>'),e.put("app/wizard/views/wizard-advancedsettings.html",'<div class="wizard-panel col-sm-10 col-sm-offset-7"><h4 translate="WIZARD.EXPERIENCE_SETTINGS_TITLE" style="margin-top:40px;"></h4><br><h5 translate="WIZARD.EXPERIENCE_SETTINGS_TEXT"></h5><h6 translate="WIZARD.EXPERIENCE_SETTINGS_TEXT_2"></h6><ui-select id="select-advanced-settings" ng-model="wizard.wizardDetails.experienceAdvancedSettings.status" search-enabled="false" ng-readonly="true" append-to-body="true" theme="bootstrap"><ui-select-match class="ui-select-match">{{$select.selected.label}}</ui-select-match><ui-select-choices class="ui-select-choices" repeat="setting in wizard.wizardDetails.experienceAdvancedSettings.options track by $index"><div ng-bind-html="setting.label"></div></ui-select-choices></ui-select></div>'),e.put("app/wizard/views/wizard-devicecode.html",'<div class="wizard-panel col-sm-10 col-sm-offset-7"><h3 translate="WIZARD.DEVICE_CODE_TITLE" style="margin-top:40px;"></h3><h5 ng-if="wizard.wizardDetails.deviceCode.activated !== true && wizard.wizardDetails.deviceCode.alreadyActivated !== true" translate="WIZARD.DEVICE_CODE_MESSAGE"></h5><form name="wizard.deviceCodeform"><input type="text" name="deviceCode" class="form-control" ng-if="wizard.wizardDetails.deviceCode.activated !== true && wizard.wizardDetails.deviceCode.alreadyActivated !== true" ng-model="wizard.wizardDetails.deviceCode.code"></form><button class="btn btn-info donate-button" ng-if="wizard.wizardDetails.deviceCode.activated !== true && wizard.wizardDetails.deviceCode.alreadyActivated !== true" type="submit" translate="WIZARD.DEVICE_CODE_VALIDATE" style="margin-top:20px;" ng-click="wizard.setDeviceCode()" ng-disabled="!wizard.wizardDetails.deviceCode.code"><span class="fa fa-paypal" translate="WIZARD.DEVICE_CODE_VALIDATE"></span></button><h5 ng-if="wizard.wizardDetails.deviceCode.activated !== true && wizard.wizardDetails.deviceCode.error.length">{{\'WIZARD.ERROR_ACTIVATING_DEVICE\' | translate}} : {{wizard.wizardDetails.deviceCode.error}}</h5><h4 ng-if="wizard.wizardDetails.deviceCode.activated === true" translate="WIZARD.DEVICE_ACTIVATED"></h4><h5 ng-if="wizard.wizardDetails.deviceCode.message">{{wizard.wizardDetails.deviceCode.message}}</h5></div>'),e.put("app/wizard/views/wizard-done.html",'<div class="wizard-panel col-sm-12 col-sm-offset-5"><div class="row"><h2 ng-if="wizard.wizardDetails.done.congratulations" class="congratulations-message">{{wizard.wizardDetails.done.congratulations}}</h2><h4 ng-if="wizard.wizardDetails.done.title">{{wizard.wizardDetails.done.title}}</h4><p ng-if="wizard.wizardDetails.done.message" class="done-message">{{wizard.wizardDetails.done.message}}</p></div><div ng-if="wizard.wizardDetails.done.donation" class="row"><button class="btn btn-default" type="button" ng-repeat="amount in wizard.wizardDetails.done.donationAmount.amounts track by amount" ng-click="wizard.setDonationAmount(amount)" ng-class="{selected: wizard.wizardData.donationAmount === amount}">{{amount}}</button> <input id="custom-amount" type="text" class="form-control" placeholder="{{wizard.wizardDetails.done.donationAmount.customAmount}}" ng-model="wizard.wizardDetails.done.donationAmount.selectedCustomAmount" ng-change="wizard.setDonationAmount(wizard.wizardDetails.done.donationAmount.selectedCustomAmount)"><form id="donate-button" action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank"><input type="hidden" name="cmd" value="_donations"> <input type="hidden" name="business" value="info@volumio.org"> <input type="hidden" name="lc" value="EU"> <input type="hidden" name="amount" ng-value="wizard.wizardData.donationAmount"> <input type="hidden" name="no_note" value="0"> <input type="hidden" name="cn" value="Add special instructions to the seller:"> <input type="hidden" name="no_shipping" value="2"> <input type="hidden" name="currency_code" value="EUR"> <input type="hidden" name="bn" value="PP-DonationsBF:btn_donateCC_LG.gif:NonHosted"><br><button class="btn btn-info donate-button fa fa-paypal" type="submit" translate="WIZARD.DONATE"><span class="fa fa-paypal" translate="WIZARD.DONATE"></span></button></form><br></div></div>'),e.put("app/wizard/views/wizard-follow.html",'<div class="wizard-panel col-sm-12 col-sm-offset-5"><div class="row"><h3 translate="WIZARD.SOCIAL_SHARE"></h3><a href="https://twitter.com/share" class="twitter-share-button" data-url="https://volumio.org/" data-via="volumio" data-text="tweet text" data-hashtags="volumio Audiophile">Tweet</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?\'http\':\'https\';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+\'://platform.twitter.com/widgets.js\';fjs.parentNode.insertBefore(js,fjs);}}(document, \'script\', \'twitter-wjs\');</script></div><br><div class="row"><h3 translate="WIZARD.MAIL_LIST_SUBSCRIPTION"></h3><form name="wizard.mailListForm" ng-submit="wizard.subscribeToMailList()"><input id="EMAIL" name"email"="" type="text" class="form-control" placeholder="{{\'COMMON.EMAIL\' | translate}}" ng-model="wizard.wizardData.mailListData.EMAIL"><br><div class="text-center" ng-if="wizard.wizardData.mailListSubscribed" translate="WIZARD.SUBSCRIBED_SUCCESFULLY"></div><br><div><button class="btn btn-info" type="submit" translate="COMMON.SUBSCRIBE_ME"></button></div></form></div></div>'),
e.put("app/wizard/views/wizard-language.html",'<div id="logo-wizard"><img ng-src="{{variantAssetsUrl}}/graphics/{{variant}}-logo-wizard.png" alt="{{header.themeManager.theme}}"></div><h4 class="text-center" translate="WIZARD.WELCOME"></h4><div class="wizard-panel col-sm-10 col-sm-offset-7"><h3 translate="WIZARD.SELECT_YOUR_LANGUAGE"></h3><ui-select id="select-language" ng-model="wizard.wizardDetails.language.defaultLanguage" search-enabled="false" ng-readonly="true" append-to-body="true" theme="bootstrap"><ui-select-match class="ui-select-match" placeholder="Select language">{{$select.selected.language}}</ui-select-match><ui-select-choices class="ui-select-choices" repeat="language in wizard.wizardDetails.language.available track by $index"><div ng-bind-html="language.language"></div></ui-select-choices></ui-select></div>'),e.put("app/wizard/views/wizard-music.html",'<h5 class="h-wizard" translate="WIZARD.ADD_YOUR_MUSIC"></h5><div ng-controller="NetworkDrivesPluginController as networkDrives"><div id="networkDrives" class="panel panel-default"><div class="panel-body"><h4 ng-if="false" class="sectionDescription"></h4><button ng-click="networkDrives.addDrive()" id="addNewDrive" type="button" class="btn btn-info" title="{{\'NETWORKFS.ADD_DRIVE\' | translate}}" style="float:left!important;"><span ng-if="!networkDrives.inAddDrive"><i class="fa fa-plus"></i> <span translate="NETWORKFS.ADD_DRIVE"></span></span> <span ng-if="networkDrives.inAddDrive"><i class="fa fa-refresh"></i> <span translate="COMMON.RESCAN"></span></span></button><div class="clearfix"></div><br><ng-include src="\'app/plugin/core-plugin/elements/network-drives-add-edit-drive.html\'" ng-if="networkDrives.inAddDrive"></ng-include><table class="table tableSmall" ng-if="networkDrives.infoShare"><tr><th><span translate="NETWORKFS.ALIAS"></span></th><th ng-if="!networkDrives.matchmediaService.isPhone"><span translate="NETWORKFS.PATH"></span></th><th><span translate="NETWORKFS.MOUNTED"></span></th><th><span translate="NETWORKFS.SIZE"></span></th><th></th></tr><tr ng-repeat-start="drive in networkDrives.infoShare track by drive.id"><td>{{drive.name}}</td><td ng-if="!networkDrives.matchmediaService.isPhone">{{drive.ip}}:{{drive.path}}</td><td><i class="fa fa-check true" ng-if="drive.mounted"></i> <i class="fa fa-remove false" ng-if="!drive.mounted"></i></td><td>{{drive.size}}</td><td class="commandCol"><button ng-click="networkDrives.deleteDrive(drive)" type="button" class="btn btn-danger" title="{{\'NETWORKFS.DELETE_DRIVE\' | translate}}"><i class="fa fa-trash-o"></i></button> <button ng-click="networkDrives.editDrive(drive, $index)" type="button" class="btn btn-info" title="{{\'NETWORKFS.EDIT_DRIVE\' | translate}}"><i class="fa fa-pencil"></i></button></td></tr><tr ng-if="networkDrives.inEditDrive === $index" ng-repeat-end=""><td colspan="5"><div class="row"><div class="col-xs-24"><ng-include src="\'app/plugin/core-plugin/elements/network-drives-add-edit-drive.html\'"></ng-include></div></div></td></tr></table></div></div></div>'),e.put("app/wizard/views/wizard-name.html",'<div class="wizard-panel col-sm-10 col-sm-offset-7"><h4 translate="WIZARD.DEVICE_NAME" style="margin-top:40px;"></h4><form name="wizard.deviceNameform"><input type="text" name="deviceName" class="form-control" ng-model="wizard.wizardDetails.deviceName.name"></form><div><br><h4 translate="WIZARD.DEVICE_ADDRESS"></h4>http://{{wizard.wizardDetails.deviceName.name.split(\' \').join(\'-\').toLowerCase()}}.local</div></div>'),e.put("app/wizard/views/wizard-network.html",'<h5 class="h-wizard" translate="WIZARD.WIFI_CONNECTION"></h5><div id="wifiPlugin" ng-controller="WifiPluginController as wifiPlugin" ng-show="wifiPlugin.WirelessConnResults" class="panel panel-default"><div id="wizard-wifi-spinner" ng-show="wifiPlugin.WirelessConnResults.wait"><i class="fa fa-spinner fa-pulse"></i><div id="wizard-wifi-message" ng-show="wifiPlugin.WirelessConnResults.message"><h4 class="text-center">{{::wifiPlugin.WirelessConnResults.message}}</h4></div></div><div id="wizard-wifi-spinner" ng-show="!wifiPlugin.WirelessConnResults.wait"><div id="wizard-wifi-message" ng-show="wifiPlugin.WirelessConnResults.result"><h4 class="text-center">{{::wifiPlugin.WirelessConnResults.result}}</h4></div></div></div><div id="wifiPlugin" ng-controller="WifiPluginController as wifiPlugin" ng-show="wifiPlugin.wirelessNetworks.available || wifiPlugin.wirelessNetworks.connectedTo" class="panel panel-default"><div class="panel-body"><table class="table"><tr ng-if="::wifiPlugin.wirelessNetworks.connectedTo"><td class="wifiIcon"><img ng-if="::wifiPlugin.wirelessNetworks.connectedTo.signal >= 0" ng-src="{{assetsUrl + \'/wifi-icons/\' + wifiPlugin.wirelessNetworks.connectedTo.signal + \'.png\'}}" alt="signal-{{wifi.signal}}"></td><td class="lockIcon"><span ng-if="::wifi.security"><i ng-if="::wifiPlugin.wirelessNetworks.connectedTo.security == \'open\'" class="fa fa-unlock" title="{{\'NETWORK.OPEN_NETWORK\' | translate}}"></i> <i ng-if="::wifiPlugin.wirelessNetworks.connectedTo.security !== \'open\'" class="fa fa-lock" title="{{\'NETWORK.SECURE_NETWORK\' | translate}}"></i></span></td><td>{{::wifiPlugin.wirelessNetworks.connectedTo.ssid}}</td><td></td><td class="commandCol"></td></tr><tr ng-if="::wifiPlugin.wirelessNetworks.available.length > 0" ng-click="wifiPlugin.insertPassword($index)" ng-repeat-start="wifi in wifiPlugin.wirelessNetworks.available track by $index" class="wifiwizard"><td class="wifiIcon"><img ng-if="::wifi.signal >= 0" ng-src="{{assetsUrl + \'/wifi-icons/\' + wifi.signal + \'.png\'}}" alt="signal-{{wifi.signal}}"> <i ng-if="::wifi.signal < 0" class="fa fa-eye-slash"></i></td><td class="lockIcon"><span><i ng-if="wifi.security === \'open\' || wifi.security.label === \'open\'" class="fa fa-unlock" title="{{\'NETWORK.OPEN_NETWORK\' | translate}}"></i> <i ng-if="wifi.security !== \'open\' && wifi.security.label !== \'open\'" class="fa fa-lock" title="{{\'NETWORK.SECURE_NETWORK\' | translate}}"></i></span></td><td><span ng-if="!$last">{{::wifi.ssid}}</span> <span ng-if="$last" translate="NETWORK.MANUAL_WIFI_CONNECTION"></span></td></tr><tr ng-repeat-end="" ng-if="wifi.insertPassword"><td colspan="4" class="insertPasswordRowWizard"><span translate="NETWORK.SECURITY" ng-if="::wifi.ssidHidden || wifi.hotSpot" id="wifiHiddenSelectorWizard"></span> &nbsp;<div class="securitySelectWrapperWizard" ng-if="::wifi.ssidHidden || wifi.hotSpot" id="wifiSecuritySelectorWizard"><ui-select ng-model="wifi.security" search-enabled="false" ng-readonly="true" append-to-body="false" theme="bootstrap"><ui-select-match class="ui-select-match" placeholder="{{\'NETWORK.SELECT_ENCRYPTION\'}}">{{$select.selected.label}}</ui-select-match><ui-select-choices class="ui-select-choices" repeat="option in wifiPlugin.securityTypes track by $index"><div ng-bind-html="option.label"></div></ui-select-choices></ui-select></div><input class="form-control" ng-if="::wifi.ssidHidden" ng-model="wifi.ssid" type="text" id="customWifiWizardName" placeholder="{{\'NETWORK.NETWORK_NAME\' | translate}}"> <input class="form-control" ng-if="wifi.security !== \'open\' && wifi.security.label !== \'open\'" ng-model="wifi.password" type="{{wifi.showHidePassword || \'password\'}}" placeholder="password"><br><button class="btn btn-info pull-right" ng-click="wifiPlugin.connectToWifiWizard(wifi, $index)" type="button" name="btn btn-info"><i class="fa fa-level-down fa-rotate-90"></i> <span translate="NETWORK.CONNECT"></span></button> <button ng-if="wifi.security !== \'open\' && wifi.security.label !== \'open\' && wifi.password.length" ng-click="(wifi.showHidePassword === \'text\') ? wifi.showHidePassword = \'password\' : wifi.showHidePassword = \'text\'" type="button" class="btn btn-info showHidePassword pull-right"><i ng-if="!wifi.showHidePassword || wifi.showHidePassword === \'password\'" class="fa fa-eye"></i> <i ng-if="wifi.showHidePassword === \'text\'" class="fa fa-eye-slash"></i></button></td></tr></table></div></div>'),e.put("app/wizard/views/wizard-output.html",'<div class="wizard-panel col-sm-10 col-sm-offset-7"><div ng-if="wizard.wizardDetails.outputDevices.i2s"><h3 translate="WIZARD.I_HAVE_DAC" style="margin-top:40px;"></h3><input id="outpu-switch" bs-switch="" ng-model="wizard.wizardDetails.outputDevices.i2s.enabled" type="checkbox" switch-size="medium" switch-animate="false" switch-on-text="{{\'YES\' | translate}}" switch-off-text="{{\'NO\' | translate}}" ng-true-value="true" ng-false-value="false"></div><div ng-show="!wizard.wizardDetails.outputDevices.i2s.enabled"><h3 translate="WIZARD.SELECT_YOUR_AUDIO_OUTPUT"></h3><ui-select id="select-output" ng-model="wizard.wizardData.selectedDevice" search-enabled="false" ng-readonly="true" append-to-body="true" theme="bootstrap"><ui-select-match class="ui-select-match" placeholder="Select device">{{$select.selected.name}}</ui-select-match><ui-select-choices class="ui-select-choices" repeat="device in wizard.wizardDetails.outputDevices.devices.available track by $index"><div ng-bind-html="device.name"></div></ui-select-choices></ui-select></div><div ng-show="wizard.wizardDetails.outputDevices.i2s.enabled"><h3 translate="WIZARD.SELECT_YOUR_I2S_DAC"></h3><ui-select id="select-i2s" ng-model="wizard.wizardData.selectedI2s" search-enabled="false" ng-readonly="true" append-to-body="true" theme="bootstrap"><ui-select-match class="ui-select-match" placeholder="Select i2s">{{$select.selected.name}}</ui-select-match><ui-select-choices class="ui-select-choices" repeat="device in wizard.wizardDetails.outputDevices.i2s.available track by $index"><div ng-bind-html="device.name"></div></ui-select-choices></ui-select></div></div>'),e.put("app/wizard/views/wizard-plugin.html",'<plugin-component plugin-name="wizard.currentStep.pluginName" type="wizard.currentStep.type"></plugin-component>'),e.put("app/wizard/views/wizard-volumioapps.html",'<h5 class="h-wizard" translate="WIZARD.GET_APPS"></h5><div class="row"><div class="col-md-8 text-center"><a href="https://play.google.com/store/apps/details?id=volumio.browser.Volumio" target="_blank"><img alt="Get it on Google Play" ng-src="{{assetsUrl + \'/graphics/android-app-store-get.png\'}}" style="max-height:100px;padding:20px;"></a></div><div class="col-md-8 text-center"><a href="https://itunes.apple.com/app/volumio/id1268256519?mt=8" target="_blank"><img alt="Get it on App Store" ng-src="{{assetsUrl + \'/graphics/ios-app-store-get.png\'}}" style="max-height:100px;padding:20px;"></a></div><div class="col-md-8 text-center"><a href="https://www.amazon.com/INTUITU-di-Michelangelo-Guarise-Volumio/dp/B074CRD3LP/" target="_blank"><img alt="Get it on Amazon" ng-src="{{assetsUrl + \'/graphics/amazon-app-store-get.png\'}}" style="max-height:100px;padding:20px;"></a></div></div>'),e.put("app/browse/components/modal/modal-playlist.html",'<div id="modalPlaylist"><div class="modal-header"><h3 class="modal-title">{{::modal.dataObj.title}}</h3></div><div class="modal-body"><input type="text" class="form-control pull-left" ng-model="modal.customPlaylist"> <button type="button" ng-if="!modal.customPlaylist.length" ng-click="modal.addToCustomPlaylist()" class="btn btn-info pull-right disabled">{{\'COMMON.NEW\' | translate}}</button> <button type="button" ng-if="modal.customPlaylist.length" ng-click="modal.addToCustomPlaylist()" class="btn btn-info pull-right">{{\'COMMON.NEW\' | translate}}</button><div class="clearfix"></div><ul class="list-group"><li class="list-group-item" ng-click="modal.addToFavourite()">{{\'COMMON.FAVOURITES\' | translate}}</li><li ng-repeat="playlist in modal.playlistService.playlists track by $index" class="list-group-item" ng-click="modal.addToPlaylist(playlist)">{{::playlist}}</li></ul></div><div class="modal-footer"><button class="btn btn-warning" ng-click="modal.cancel()">{{\'COMMON.CANCEL\' | translate}}</button></div></div>'),e.put("app/browse/components/modal/modal-web-radio.html",'<div id="modalWebRadio"><div class="modal-header"><h3 class="modal-title" translate="BROWSER.ADD_WEBRADIO_TITLE"></h3></div><div class="modal-body"><form><div class="form-group"><label for="web-radio-name" class="control-label">{{\'COMMON.NAME\' | translate}}</label><div class="control-item"><input type="text" id="web-radio-name" class="form-control" ng-model="modal.dataObj.item.title" placeholder="{{\'COMMON.NAME\' | translate}}"></div></div><div class="form-group"><label for="web-radio-url" class="control-label">{{\'COMMON.URL\' | translate}}</label><div class="control-item"><input type="text" id="web-radio-url" class="form-control" ng-model="modal.dataObj.item.uri" placeholder="{{\'COMMON.URL\' | translate}}"><div translate="BROWSER.URL_DOC"></div></div></div></form></div><div class="modal-footer"><button class="btn btn-warning" ng-click="modal.cancel()">{{\'COMMON.CANCEL\' | translate}}</button> <button class="btn btn-info" ng-click="modal.addWebradio()"><span ng-if="modal.addOrEdit === \'edit\'" translate="COMMON.SAVE"></span> <span ng-if="modal.addOrEdit === \'add\'" translate="COMMON.ADD"></span></button></div></div>'),e.put("app/browse-music/components/modal/modal-credits-details.html",'<div id="modalPlaylist"><div class="modal-header"><h3 class="modal-title">{{::modal.dataObj.title}}</h3></div><div ng-bind-html="::modal.dataObj.story" class="modal-body darker-bg credits-story"></div><div ng-if="::modal.dataObj.credits" class="modal-body darker-bg"><table class="table"><tr ng-repeat="creditRow in modal.dataObj.credits track by $index" ng-init="listIndex = $index" class="album-credits-row"><td class="album-credits-title">{{creditRow.key}}</td><td class="album-credits-title"><p ng-if="modal.hasCreditLink(creditItem.uri)" ng-click="modal.showCreditLink(creditItem.uri, creditItem.name, listIndex)" ng-repeat="creditItem in creditRow.values track by $index" class="album-credits-row credit-clickable" ng-class="{ \'disabled\': modal.loadingCredit[creditItem.uri + listIndex] }"><span><i ng-class="{ \'hidden\': !modal.loadingCredit[creditItem.uri + listIndex] }" class="fa fa-refresh credit-item-loader"></i> {{creditItem.name}}</span> <span ng-class="{ \'hidden\': !modal.unavailableCredits[creditItem.uri + listIndex] }" class="credit-clickable__caption">{{ \'BROWSER.CREDITS_NOT_FOUND\' | translate }}</span></p><p ng-if="!modal.hasCreditLink(creditItem.uri)" ng-repeat="creditItem in creditRow.values track by $index" class="album-credits-row">{{creditItem.name}}</p></td></tr></table></div><div class="modal-footer"><button class="btn btn-warning" ng-click="modal.cancel()">{{\'COMMON.CLOSE\' | translate}}</button> <button ng-if="::modal.dataObj.upgradeCta" class="btn btn-primary" ng-click="modal.goToUpgrade()">{{\'MYVOLUMIO.UPGRADE_SUPERSTAR\' | translate}}</button></div></div>'),e.put("app/components/myvolumio/access/myvolumio-access.html",'<div class="box"><div class="boxHeader"><div class="title"><h2 translate="MYVOLUMIO.MY_VOLUMIO"></h2><a href="https://volumio.org/myvolumio" target="_blank" class="btn btn-outline pull-right" id="myvolumio-info"><i class="fa fa-question"></i> <span class="hidden-xs" translate="MYVOLUMIO.WHAT_IS_MYVOLUMIO"></span></a></div></div><div id="authLoginPlugin" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-user-circle-o"></i> <span translate="MYVOLUMIO.ACCESS"></span></h3></div><div class="panel-body"><div class="omb_login"><h3 class="omb_authTitle" translate="MYVOLUMIO.ACCESS"></h3><div ng-if="myVolumioAccessController.isSocialEnabled()"><div class="row omb_socialButtons"><div class="col-xs-8 col-sm-6 col-sm-offset-3"><a ng-click="myVolumioAccessController.loginWithFacebook()" class="btn btn-lg btn-block omb_btn-facebook"><i class="fa fa-facebook"></i> <span translate="MYVOLUMIO.LOGIN_WITH" class="hidden-xs hidden-sm hidden-md"></span> <span class="hidden-xs hidden-sm">Facebook</span></a></div><div class="col-xs-8 col-sm-6"><a ng-click="myVolumioAccessController.loginWithGoogle()" class="btn btn-lg btn-block omb_btn-google"><i class="fa fa-google"></i> <span translate="MYVOLUMIO.LOGIN_WITH" class="hidden-xs hidden-sm hidden-md"></span> <span class="hidden-xs hidden-sm">Google</span></a></div><div class="col-xs-8 col-sm-6"><a ng-click="myVolumioAccessController.loginWithGithub()" class="btn btn-lg btn-block omb_btn-github"><i class="fa fa-github"></i> <span translate="MYVOLUMIO.LOGIN_WITH" class="hidden-xs hidden-sm hidden-md"></span> <span class="hidden-xs hidden-sm">GitHub</span></a></div></div><div class="row omb_loginOr"><div class="col-xs-24 col-sm-12 col-sm-offset-6"><hr class="omb_hrOr"><span class="omb_spanOr" translate="MYVOLUMIO.OR"></span></div></div></div></div><div class="row"><div class="col-xs-12 col-sm-9 col-sm-offset-3" style="margin-bottom: 24px;"><div class="well"><p class="lead" translate="MYVOLUMIO.ALREADY_HAVE_ACCOUNT"></p><button ng-click="myVolumioAccessController.goToLogin()" class="btn btn-success btn-block"><i class="glyphicon glyphicon-log-in"></i> <span translate="MYVOLUMIO.LOGIN"></span></button></div></div><div class="col-xs-12 col-sm-9"><p class="lead"><span translate="MYVOLUMIO.REGISTER_NOW"></span></p><p><a ng-click="myVolumioAccessController.goToSignUp()" class="btn btn-success btn-block"><i class="glyphicon glyphicon-user"></i> <span translate="MYVOLUMIO.SIGNUP"></span></a></p></div></div></div></div></div>'),e.put("app/components/myvolumio/cancel-subscription/myvolumio-cancel-subscription.html",'<div class="box"><div class="boxHeader"><div class="title"><h2 translate="MYVOLUMIO.MY_VOLUMIO"></h2></div></div><div id="myvolumio-cancel-subscription" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-user-circle-o"></i> <span translate="MYVOLUMIO.CANCEL_SUBSCRIPTION"></span></h3></div><div class="panel-body"><div ng-if="myVolumioCancelSubscriptionController.user && myVolumioCancelSubscriptionController.plan"><my-volumio-back-button label="{{\'MYVOLUMIO.PLANS\' | translate}}" route-destination="myvolumio.plans"></my-volumio-back-button><h3 translate="MYVOLUMIO.CANCEL_SUBSCRIPTION_TITLE" style="margin-bottom: 16px"></h3><h4 class="badged-block"><span translate="MYVOLUMIO.CURRENT_PLAN"></span>: <span class="badge">{{myVolumioCancelSubscriptionController.getCurrentPlanName() | uppercase }}</span></h4><h4><span translate="MYVOLUMIO.YOUR_NEW_PLAN"></span>:</h4><my-volumio-plan-card product="myVolumioCancelSubscriptionController.product" cancellation="true" cancellation-callback="myVolumioCancelSubscriptionController.downgradeToFree()"></my-volumio-plan-card></div><div id="" ng-if="!myVolumioCancelSubscriptionController.user"><h4 translate="MYVOLUMIO.YOURE_NOT_LOGGED"></h4><a ng-click="myVolumioCancelSubscriptionController.logIn()" class="btn btn-lg btn-success">Log In</a></div><div id="" ng-if="!myVolumioCancelSubscriptionController.plan"><h4 translate="MYVOLUMIO.NOT_SUBSCRIBED"></h4><a ng-click="myVolumioCancelSubscriptionController.goToPlans()" class="btn btn-lg btn-success">Retry</a></div></div></div></div>'),e.put("app/components/myvolumio/change-subscription/myvolumio-change-subscription.html",'<div class="box" id="change-subscription"><div class="boxHeader"><div class="title"><h2 translate="MYVOLUMIO.MY_VOLUMIO"></h2></div></div><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-user-circle-o"></i> <span translate="MYVOLUMIO.UPDATE_SUBSCRIPTION"></span></h3></div><div class="panel-body"><div ng-if="myVolumioChangeSubscriptionController.user && myVolumioChangeSubscriptionController.product"><my-volumio-back-button label="{{\'MYVOLUMIO.BACK_TO_PLANS\' | translate}}" route-destination="myvolumio.plans"></my-volumio-back-button><h3 translate="MYVOLUMIO.UPDATE_SUBSCRIPTION_TITLE" style="margin-bottom: 16px;"></h3><h4 class="badged-block"><span translate="MYVOLUMIO.CURRENT_PLAN"></span>: <span class="badge">{{myVolumioChangeSubscriptionController.getCurrentPlanName() | uppercase }}</span></h4><h4><span translate="MYVOLUMIO.YOUR_NEW_PLAN"></span>:</h4><my-volumio-plan-card product="myVolumioChangeSubscriptionController.product" show-mode="myVolumioChangeSubscriptionController.showMode" change-subscription="true" change-subscription-callback="myVolumioChangeSubscriptionController.changePlan()"></my-volumio-plan-card></div><div id="" ng-if="!myVolumioChangeSubscriptionController.user"><h4 translate="MYVOLUMIO.YOURE_NOT_LOGGED"></h4><a ng-click="myVolumioChangeSubscriptionController.logIn()" class="btn btn-lg btn-success" translate="MYVOLUMIO.LOGIN"></a></div><div id="" ng-if="!myVolumioChangeSubscriptionController.product"><h4 translate="MYVOLUMIO.NO_PRODUCT_SELECTED"></h4><a ng-click="myVolumioChangeSubscriptionController.goToPlans()" class="btn btn-lg btn-success" translate="MYVOLUMIO.RETRY"></a></div></div></div></div>'),e.put("app/components/myvolumio/edit-profile/myvolumio-edit-profile.html",'<div class="box"><div class="boxHeader"><div class="title"><h2 translate="MYVOLUMIO.MY_VOLUMIO"></h2></div></div><div id="authLoginPlugin" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-user-circle-o"></i> <span translate="MYVOLUMIO.LOGIN"></span></h3></div><div class="panel-body edit-profile-box"><div id="" ng-if="myVolumioEditProfileController.user !== null"><div class="container"><my-volumio-back-button route-destination="myvolumio.profile" label="{{\'MYVOLUMIO.PROFILE\' | translate}}"></my-volumio-back-button><h1 translate="MYVOLUMIO.EDIT_PROFILE"></h1><hr><div class="row"><div class="col-md-6"><div class="text-center" style="margin-bottom: 16px;"><my-volumio-avatar-image image-override="myVolumioEditProfileController.form.photoUrl"></my-volumio-avatar-image><h6 translate="MYVOLUMIO.EDIT_AVATAR"></h6><div><input type="file" class="form-control" ng-model="myVolumioEditProfileController.userAvatar" my-volumio-file-on-change="" on-change-callback="myVolumioEditProfileController.avatarChange(file)"></div><div ng-if="myVolumioEditProfileController.isAvatarChanged === true"><a class="btn btn-success btn-block" style="margin-top: 16px;" ng-click="myVolumioEditProfileController.saveAvatar();"><span ng-if="myVolumioEditProfileController.uploadingAvatar === true" class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span> <span translate="MYVOLUMIO.SAVE_AVATAR"></span></a></div></div></div><div class="col-md-18 personal-info"><div class="alert alert-success alert-dismissable" ng-if="!myVolumioEditProfileController.isUserFilledWithMandatory()"><a class="panel-close close" data-dismiss="alert">×</a> <i class="glyphicon glyphicon-check"></i> <span translate="MYVOLUMIO.COMPLETE_YOUR_PROFILE"></span></div><h3 translate="MYVOLUMIO.PERSONAL_INFO"></h3><form class="form-horizontal" role="form" ng-submit="myVolumioEditProfileController.doEdit()"><div class="form-group"><label class="col-lg-6 control-label"><span translate="MYVOLUMIO.FIRST_NAME"></span>* :</label><div class="col-lg-16"><input class="form-control" type="text" ng-model="myVolumioEditProfileController.form.firstName" required="" pattern=".{2,}"></div></div><div class="form-group"><label class="col-lg-6 control-label"><span translate="MYVOLUMIO.LAST_NAME"></span>* :</label><div class="col-lg-16"><input class="form-control" type="text" ng-model="myVolumioEditProfileController.form.lastName" required="" pattern=".{2,}"></div></div><div ng-if="false"><div class="form-group"><label class="col-lg-6 control-label"><span translate="MYVOLUMIO.COUNTRY"></span> :</label><div class="col-lg-16 country-select"><input class="form-control" country-select="" data-ng-model="myVolumioEditProfileController.form.country" value="{{myVolumioEditProfileController.form.country}}"></div></div><div class="form-group"><label class="col-lg-6 control-label"><span translate="MYVOLUMIO.BIRTHDAY"></span> :</label><div class="col-lg-16 birthday-picker"><datepicker date-format="dd/MM/yyyy"><input ng-model="myVolumioEditProfileController.form.birthday" type="text" date-typer="true"></datepicker></div></div></div><div class="form-group"><label class="col-md-6 control-label"><span translate="MYVOLUMIO.EMAIL_ADDRESS"></span>* :</label><div class="col-md-16"><input class="form-control" type="email" required="" ng-model="myVolumioEditProfileController.form.email" ng-change="myVolumioEditProfileController.notifyEmailChanged()"></div></div><div class="form-group"><label class="col-md-6 control-label"><span translate="MYVOLUMIO.PASSWORD"></span>:</label><div class="col-md-16"><input class="form-control" type="password" ng-model="myVolumioEditProfileController.form.password" placeholder="Leave blank to keep current"></div></div><div class="form-group"><label class="col-md-6 control-label"><span translate="MYVOLUMIO.CONFIRM_PASSWORD"></span>:</label><div class="col-md-16"><input class="form-control" type="password" ng-model="myVolumioEditProfileController.passwordCheck"></div></div><div class="form-group"><div class="col-md-24"><button type="submit" class="btn btn-success"><span translate="COMMON.SAVE"></span></button></div></div></form></div></div><div class="row"><div class="col-xs-24"><hr><div class="pull-right"><a ng-if="myVolumioEditProfileController.isAccountCancellationAllowed()" ng-click="myVolumioEditProfileController.deleteUser()" style="cursor: pointer;"><i ng-if="myVolumioEditProfileController.deletingUser === false" class="glyphicon glyphicon-remove-sign"></i> <i ng-if="myVolumioEditProfileController.deletingUser === true" class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></i> <span translate="MYVOLUMIO.DELETE_ACCOUNT"></span></a></div></div></div></div></div><div id="" ng-if="myVolumioEditProfileController.user === null"><h4 translate="MYVOLUMIO.NOT_LOGGED_IN"></h4><a ng-click="myVolumioEditProfileController.logIn()" class="btn btn-lg btn-success" translate="MYVOLUMIO.LOGIN"></a></div></div></div><div id="user-info-container" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-info-circle"></i> <span translate="MYVOLUMIO.SUBSCRIPTION"></span></h3></div><div class="panel-body"><div class="container"><div class="row"><div class="col-md-24"><h2 translate="MYVOLUMIO.SUBSCRIPTION_SUMMARY"></h2><table class="table"><tbody><tr><td><span translate="MYVOLUMIO.SUBSCRIPTION_STATUS"></span>:</td><td ng-if="myVolumioEditProfileController.isUserSubscriptionActive()" style="text-transform: uppercase;">{{myVolumioEditProfileController.getUserSubscriptionStatus()}}</td><td ng-if="!myVolumioEditProfileController.isUserSubscriptionActive()" style="text-transform: uppercase;"><span translate="MYVOLUMIO.INACTIVE"></span></td></tr><tr ng-if="myVolumioEditProfileController.isUserSubscriptionActive()"><td><span translate="MYVOLUMIO.SUBSCRIPTION_PLAN"></span>:</td><td style="text-transform: uppercase;">{{myVolumioEditProfileController.user.plan}} {{\'MYVOLUMIO.\'+myVolumioEditProfileController.getPlanDuration() | uppercase | translate}}</td></tr><tr ng-if="myVolumioEditProfileController.isUserSubscriptionActive() && myVolumioEditProfileController.getSignupDate() != null"><td><span translate="MYVOLUMIO.SUBSCRIPTION_SIGNED_UP_ON"></span>:</td><td>{{myVolumioEditProfileController.getSignupDate() | date : \'longDate\'}}</td></tr><tr ng-if="myVolumioEditProfileController.isUserSubscriptionActive() && myVolumioEditProfileController.user.planData && myVolumioEditProfileController.user.planData.nextPayment && !myVolumioEditProfileController.isLifetimePlan()"><td><span translate="MYVOLUMIO.SUBSCRIPTION_NEXT_PAYMENT"></span>:</td><td>{{myVolumioEditProfileController.user.planData.nextPayment.amount}} {{myVolumioEditProfileController.user.planData.nextPayment.currency}} <span translate="MYVOLUMIO.SUBSCRIPTION_ON"></span> {{myVolumioEditProfileController.user.planData.nextPayment.date | date : \'longDate\'}}</td></tr></tbody></table><div class="text-left"><strong class="label label-primary" <a="" ng-click="myVolumioEditProfileController.clickShowTerms()">MyVolumio <span translate="MYVOLUMIO.TOS"></span></strong></div><div class="text-right"><a ng-if="myVolumioEditProfileController.user.planData && myVolumioEditProfileController.user.planData.updateUrl && !myVolumioEditProfileController.isLifetimePlan()" ng-click="myVolumioEditProfileController.updateSubscriptionMethod()" class="btn btn-success" style="margin-bottom: 8px;"><i class="fa fa-exchange"></i> <span translate="MYVOLUMIO.CHANGE_PAYMENT_METHOD"></span></a> <a ng-if="myVolumioEditProfileController.user.planData && myVolumioEditProfileController.user.planData.cancelUrl && !myVolumioEditProfileController.isLifetimePlan()" ng-click="myVolumioEditProfileController.cancelSubscription()" class="btn btn-danger" style="margin-bottom: 8px;"><i class="fa fa-times"></i> <span translate="MYVOLUMIO.CANCEL_SUBSCRIPTION"></span></a> <a ng-if="!myVolumioEditProfileController.isUserSubscriptionActive()" ng-click="myVolumioEditProfileController.subscribe()" class="btn btn-success" style="margin-bottom: 8px;"><i class="fa fa-play-circle"></i> <span translate="MYVOLUMIO.SUBSCRIBE"></span></a></div></div></div></div></div></div></div>'),e.put("app/components/myvolumio/login/myvolumio-login.html",'<div class="box"><div class="boxHeader"><div class="title"><h2 translate="MYVOLUMIO.MY_VOLUMIO"></h2><a href="https://volumio.org/myvolumio" target="_blank" class="btn btn-outline pull-right" id="myvolumio-info"><i class="fa fa-question"></i> <span class="hidden-xs" translate="MYVOLUMIO.WHAT_IS_MYVOLUMIO"></span></a></div></div><div id="authLoginPlugin" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-user-circle-o"></i> <span translate="MYVOLUMIO.LOGIN"></span></h3></div><div class="panel-body"><div id="" ng-if="myVolumioLoginController.user == null"><div class="omb_login"><a ng-click="myVolumioLoginController.goToSignUp()" class="btn btn-outline pull-right"><i class="fa fa-user"></i> <span translate="MYVOLUMIO.SIGNUP"></span></a><h3 class="omb_authTitle" translate="MYVOLUMIO.LOGIN"></h3><div style="clear: both"></div><div ng-if="myVolumioLoginController.isSocialEnabled()"><div class="row omb_row-sm-offset-3 omb_socialButtons"><div class="col-xs-8 col-sm-4"><a ng-click="myVolumioLoginController.loginWithFacebook()" class="btn btn-lg btn-block omb_btn-facebook"><i class="fa fa-facebook"></i> <span translate="MYVOLUMIO.LOGIN_WITH" class="hidden-xs hidden-sm hidden-md"></span> <span class="hidden-xs hidden-sm">Facebook</span></a></div><div class="col-xs-8 col-sm-4"><a ng-click="myVolumioLoginController.loginWithGoogle()" class="btn btn-lg btn-block omb_btn-google"><i class="fa fa-google"></i> <span translate="MYVOLUMIO.LOGIN_WITH" class="hidden-xs hidden-sm hidden-md"></span> <span class="hidden-xs hidden-sm">Google</span></a></div><div class="col-xs-8 col-sm-4"><a ng-click="myVolumioLoginController.loginWithGithub()" class="btn btn-lg btn-block omb_btn-github"><i class="fa fa-github"></i> <span translate="MYVOLUMIO.LOGIN_WITH" class="hidden-xs hidden-sm hidden-md"></span> <span class="hidden-xs hidden-sm">GitHub</span></a></div></div><div class="row omb_row-sm-offset-3 omb_loginOr"><div class="col-xs-24 col-sm-12"><hr class="omb_hrOr"><span class="omb_spanOr" translate="MYVOLUMIO.OR"></span></div></div></div><div class="row omb_row-sm-offset-3"><div class="col-xs-24 col-sm-12"><form ng-submit="myVolumioLoginController.login()"><div class="omb_loginForm"><div class="input-group"><span class="input-group-addon"><i class="fa fa-user"></i></span> <input type="email" class="form-control" required="" placeholder="{{\'MYVOLUMIO.EMAIL_ADDRESS\' | translate}}" ng-model="myVolumioLoginController.username"></div><span class="help-block"></span><div class="input-group"><span class="input-group-addon"><i class="fa fa-lock"></i></span> <input type="password" class="form-control" required="" placeholder="{{\'MYVOLUMIO.PASSWORD\' | translate}}" ng-model="myVolumioLoginController.pass" pattern=".{8,}"></div><span class="help-block">&nbsp;</span> <input type="submit" class="btn btn-lg btn-success btn-block" translate="MYVOLUMIO.LOGIN"></div></form></div></div><div class="row omb_row-sm-offset-3"><div class="col-xs-24 col-sm-6"><label class="checkbox hidden"><input type="checkbox" value="remember-me"> <span translate="MYVOLUMIO.REMEMBER_ME"></span></label></div><div class="col-xs-24 col-sm-6"><p class="omb_forgotPwd"><a ng-click="myVolumioLoginController.goToRecoverPassword()" style="cursor: pointer;" translate="MYVOLUMIO.FORGOT_PASSWORD">?</a></p></div></div></div></div><div ng-if="myVolumioLoginController.user != null"><my-volumio-already-logged></my-volumio-already-logged></div></div></div></div>'),
e.put("app/components/myvolumio/payment-fail/myvolumio-payment-fail.html",'<div class="box"><div class="boxHeader"><div class="title"><h2 translate="MYVOLUMIO.MY_VOLUMIO"></h2></div></div><div id="authLoginPlugin" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-user-circle-o"></i> <span translate="MYVOLUMIO.PAYMENT_FAIL"></span></h3></div><div class="panel-body"><h4 translate="MYVOLUMIO.PAYMENT_FAIL_DESC"></h4><br><br><a class="btn btn-success btn-lg" ng-click="myVolumioPaymentFailController.retryPayment()" translate="MYVOLUMIO.RETRY_PAYMENT"></a></div></div></div>'),e.put("app/components/myvolumio/payment-success/myvolumio-payment-success.html",'<div class="box"><div class="boxHeader"><div class="title"><h2 translate="MYVOLUMIO.MY_VOLUMIO"></h2></div></div><div id="authLoginPlugin" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-user-circle-o"></i> <span translate="MYVOLUMIO.PAYMENT_SUCCESS"></span></h3></div><div class="panel-body"><h3 translate="MYVOLUMIO.PAYMENT_SUCCESS_TITLE"></h3><my-volumio-current-plan-card action="profile"></my-volumio-current-plan-card></div></div></div>'),e.put("app/components/myvolumio/plans/myvolumio-plans.html",'<div class="box"><div id="authPlansPlugin" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-user-circle-o"></i> <span translate="MYVOLUMIO.PLANS"></span></h3></div><div class="panel-body"><my-volumio-back-button label="{{\'MYVOLUMIO.PROFILE\' | translate}}" route-destination="myvolumio.profile"></my-volumio-back-button><div class="container plans-table"><div class="row"><div class="col-xs-24 text-center"><input bs-switch="" ng-model="myVolumioPlansController.showYearly" type="checkbox" switch-animate="true" switch-on-text="{{\'MYVOLUMIO.YEARLY\' | translate}}" switch-off-text="{{\'MYVOLUMIO.MONTHLY\' | translate}}" switch-inverse="true"><br><span translate="MYVOLUMIO.SAVE_20" style="line-height: 32px; font-size: 12px;"></span></div></div><div class="row" style="margin-top:20px;"><div class="col-xs-24 col-md-8" ng-if="myVolumioPlansController.product0"><my-volumio-plan-card product="myVolumioPlansController.product0" show-mode="myVolumioPlansController.showMode"></my-volumio-plan-card></div><div class="col-xs-24 col-md-8" ng-if="myVolumioPlansController.product1"><my-volumio-plan-card product="myVolumioPlansController.product1" show-mode="myVolumioPlansController.showMode"></my-volumio-plan-card></div><div class="col-xs-24 col-md-8" ng-if="myVolumioPlansController.product2"><my-volumio-plan-card product="myVolumioPlansController.product2" show-mode="myVolumioPlansController.showMode"></my-volumio-plan-card></div></div></div></div></div></div>'),e.put("app/components/myvolumio/premium-streaming/myvolumio-premium-streaming.html",'<div class="box"><div class="boxHeader d-flex align-items-center justify-content-between"><div class="title"><h2>{{ MyVolumioPremiumStreamingController.$state.params.serviceName }}</h2></div><a ng-if="!MyVolumioPremiumStreamingController.authUser" ng-click="MyVolumioPremiumStreamingController.goToLogin()" class="my-volumio__sign-in-btn flex-shrink-0 mr-4"><i class="fa fa-user mr-2"></i> <span translate="MYVOLUMIO.LOGIN"></span></a></div><div class="panel panel-default my-volumio__panel"><div class="panel-body"><div class="spacer mb-4"></div><div class="row mb-10"><div class="col-xs-24 col-sm-16 col-md-12 col-sm-offset-4 col-md-offset-6 text-center"><h1 class="mb-6">{{ \'MYVOLUMIO.PREMIUM_STREAMING_TITLE\' | translate }}</h1><img ng-if="MyVolumioPremiumStreamingController.$state.params.serviceName === \'qobuz\'" src="{{ \'app/assets-common/myvolumio-qobuz-80.png\' }}" alt="{{ MyVolumioPremiumStreamingController.$state.params.serviceName }} app icon" class="my-volumio__premium-streaming-icon mb-6"> <img ng-if="MyVolumioPremiumStreamingController.$state.params.serviceName === \'tidal\'" src="{{ \'app/assets-common/myvolumio-tidal-80.png\' }}" alt="{{ MyVolumioPremiumStreamingController.$state.params.serviceName }} app icon" class="my-volumio__premium-streaming-icon mb-6"><p>{{ \'MYVOLUMIO.PREMIUM_STREAMING_FULLY_INTEGRATED_\' + MyVolumioPremiumStreamingController.$state.params.serviceName.toUpperCase() | translate }}</p></div></div><div ng-if="!MyVolumioPremiumStreamingController.authUser || !MyVolumioPremiumStreamingController.authUser.plan" class="row mb-6"><div class="col-xs-24 col-sm-16 col-md-12 col-sm-offset-4 col-md-offset-6"><div class="my-volumio__info-card my-volumio__info-card--with-cta my-volumio__border-round"><p class="my-volumio__info-card__description">{{ \'MYVOLUMIO.PREMIUM_STREAMING_AVAILABILITY_\' + MyVolumioPremiumStreamingController.$state.params.serviceName.toUpperCase() | translate }}</p><button ng-click="MyVolumioPremiumStreamingController.goToMyVolumio()" class="btn my-volumio__btn-primary my-volumio__border-round" tabindex="7">{{ \'MYVOLUMIO.UPGRADE_FROM\' | translate }} €{{ MyVolumioPremiumStreamingController.cheapestPrice }} / {{ \'MYVOLUMIO.MONTH\' | translate }}</button></div></div></div><div ng-if="MyVolumioPremiumStreamingController.authUser && MyVolumioPremiumStreamingController.authUser.plan" class="row mb-6"><div class="col-xs-24 col-sm-16 col-md-12 col-sm-offset-4 col-md-offset-6"><div class="my-volumio__info-card my-volumio__info-card--with-cta my-volumio__border-round"><p class="my-volumio__info-card__description">{{ \'MYVOLUMIO.CONNECT\' | translate }} <span class="capitalize">{{ MyVolumioPremiumStreamingController.$state.params.serviceName }}</span> {{ \'MYVOLUMIO.TO_VOLUMIO\' | translate }}.</p><button ng-click="MyVolumioPremiumStreamingController.goToSettings()" class="btn my-volumio__btn-primary my-volumio__border-round" tabindex="7">{{ \'MYVOLUMIO.LOGIN_WITH\' | translate }} <span class="capitalize">{{ MyVolumioPremiumStreamingController.$state.params.serviceName }}</span></button></div></div></div><div class="row mb-16"><div class="col-xs-24 col-sm-16 col-md-12 col-sm-offset-4 col-md-offset-6"><h2 class="mb-6"><span class="capitalize">{{ MyVolumioPremiumStreamingController.$state.params.serviceName }}</span> {{ \'MYVOLUMIO.PREMIUM_STREAMING_FEATURE_1\' | translate }}</h2><ul class="my-volumiio__premium-stream-feature-list"><li>✔ {{ \'MYVOLUMIO.PREMIUM_STREAMING_FEATURE_2\' | translate }}</li><li>✔ {{ \'MYVOLUMIO.ACCESS\' | translate }} <span class="capitalize">{{ MyVolumioPremiumStreamingController.$state.params.serviceName }}</span> {{ \'MYVOLUMIO.PREMIUM_STREAMING_FEATURE_3\' | translate }}</li><li>✔ {{ \'MYVOLUMIO.PREMIUM_STREAMING_FEATURE_4\' | translate }}</li></ul></div></div></div></div></div>'),e.put("app/components/myvolumio/profile/myvolumio-profile.html",'<div class="box"><div class="boxHeader"><div class="title"><h2 translate="MYVOLUMIO.MY_VOLUMIO"></h2></div></div><div ng-if="myVolumioProfileController.user !== null"><div id="authLoginPlugin" class="panel panel-default"><div class="panel-heading"><button type="button" class="btn pull-right btn-danger btn-sm" ng-click="myVolumioProfileController.logOut()"><span class="glyphicon glyphicon-log-out"></span> <span class="hidden-sm" translate="MYVOLUMIO.LOGOUT"></span></button><h3 class="panel-title"><i class="fa fa-user"></i> <span translate="MYVOLUMIO.PROFILE"></span></h3><div style="clear: both" ;=""></div></div><div class="panel-body"><div><div class="row my-profile"><div class="col-sm-6 col-md-4"><my-volumio-avatar-image></my-volumio-avatar-image></div><div class="col-sm-18 col-md-20"><div class="row"><div class="col-sm-24 col-md-12 user-data"><h3 class="user-title"><button ng-click="myVolumioProfileController.goToEdit()" class="btn btn-default pull-right"><i class="fa fa-cog"></i> <span class="hidden-sm" translate="COMMON.EDIT"></span></button> {{myVolumioProfileController.user.firstName}} {{myVolumioProfileController.user.lastName}}<div style="clear: both"></div></h3><h4 class="active user-username">{{myVolumioProfileController.user.username}}</h4><p class="user-details"><i class="glyphicon glyphicon-envelope"></i> {{myVolumioProfileController.user.email}}<br><div ng-if="false"><span ng-if="myVolumioProfileController.user.birthday"><i class="glyphicon glyphicon-gift"></i> {{myVolumioProfileController.user.birthday}}</span><br><span ng-if="myVolumioProfileController.user.country"><i class="glyphicon glyphicon-globe"></i> {{myVolumioProfileController.user.country}}</span></div></p><div ng-if="!myVolumioProfileController.isUserVerified"><my-volumio-verification-card></my-volumio-verification-card></div></div><div class="col-sm-24 col-md-12 plans-table"><my-volumio-current-plan-card action="upgrade"></my-volumio-current-plan-card></div></div></div></div></div></div></div><div id="device-selector-container" ng-if="myVolumioProfileController.growSurfService.campaignInfo.id" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-heart"></i> <span translate="MYVOLUMIO.MY_ACHIEVEMENTS"></span></h3></div><div class="panel-body text-center"><h2>{{ \'MYVOLUMIO.WIN_PRIZES_REFERRING_VOLUMIO\' | translate }}</h2><p class="mb-6">{{ \'MYVOLUMIO.REFERRING_EXPLANATION\' | translate }}</p><button ng-click="myVolumioProfileController.goToReferral()" class="btn btn-primary">{{ myVolumioProfileController.growSurfService.participant.totalReferrals > 0 ? \'MYVOLUMIO.SEE_YOUR_RESULTS\' : \'MYVOLUMIO.START_SHARING\' | translate }}</button><div class="mb-6">&nbsp;</div></div></div><div id="device-selector-container" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-check-circle-o"></i> <span translate="MYVOLUMIO.SELECT_DEVICE"></span></h3></div><div class="panel-body"><my-volumio-device-selector></my-volumio-device-selector></div></div></div><div ng-if="myVolumioProfileController.user === null" class="panel panel-default"><div class="panel-body"><h3>{{\'MYVOLUMIO.NOT_LOGGED\' | translate}}</h3><button class="btn btn-success" ng-click="myVolumioProfileController.logIn();">{{\'MYVOLUMIO.LOGIN\' | translate}}</button> <button class="btn btn-success" ng-click="myVolumioProfileController.signUp();">{{\'MYVOLUMIO.SIGNUP\' | translate}}</button></div></div></div>'),e.put("app/components/myvolumio/recover-password/myvolumio-recover-password.html",'<div class="box"><div class="boxHeader"><div class="title"><h2 translate="MYVOLUMIO.MY_VOLUMIO"></h2></div></div><div id="authLoginPlugin" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-user-circle-o"></i> <span translate="MYVOLUMIO.RECOVER_PASSWORD"></span></h3></div><div class="panel-body"><my-volumio-back-button route-destination="myvolumio.login" label="{{\'MYVOLUMIO.LOGIN\' | translate}}"></my-volumio-back-button><p translate="MYVOLUMIO.RECOVER_PASSWORD_TEXT"></p><div class="container"><div class="row"><div class="col-md-8 col-md-offset-8"><div class="panel panel-default"><div class="panel-body"><div class="text-center"><h3><i class="fa fa-lock fa-4x"></i></h3><h2 class="text-center">Forgot Password?</h2><p>You can reset your password here.</p><div ng-if="!myVolumioRecoverPasswordController.sent" class="panel-body"><form id="register-form" role="form" autocomplete="off" class="form" ng-submit="myVolumioRecoverPasswordController.doRecover()"><div class="form-group"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-envelope color-blue"></i></span> <input ng-model="myVolumioRecoverPasswordController.email" id="email" name="email" placeholder="email address" class="form-control" type="email"></div></div><div class="form-group"><input name="recover-submit" class="btn btn-lg btn-success btn-block" value="{{\'MYVOLUMIO.PASSWORD_RESET\' | translate}}" type="submit"></div><input type="hidden" class="hide" name="token" id="token" value=""></form></div><div ng-if="myVolumioRecoverPasswordController.sent"><h3 translate="MYVOLUMIO.RECOVER_PASSWORD_SENT_MESSAGE"></h3><a class="btn btn-success btn-block btn-lg" translate="MYVOLUMIO.GO_TO_LOGIN" ng-click="myVolumioRecoverPasswordController.goToLogin()"></a></div></div></div></div></div></div></div></div></div></div>'),e.put("app/components/myvolumio/referral/myvolumio-referral.html",'<div class="box"><div class="boxHeader d-flex align-items-center justify-content-between"><div class="title"><h2>{{ \'MYVOLUMIO.MY_ACHIEVEMENTS\' | translate }}</h2></div></div></div><div id="authSignupPlugin" class="panel panel-default my-volumio__panel"><div class="my-volumio__panel__header d-flex align-items-center justify-content-between"><button ng-click="myVolumioReferralController.backToProfile()" class="btn d-flex align-items-center my-volumio__btn-secondary" tabindex="7"><img class="mr-2" ng-src="{{\'app/assets-common/arrow-left.svg\'}}" alt="arrow left"> {{ "COMMON.BACK" | translate }}</button></div><div class="panel-body"><div class="row"><div class="col-xs-24 col-sm-16 col-md-12 col-sm-offset-4 col-md-offset-6"><h1 class="text-center">{{ \'MYVOLUMIO.REFERRAL_TITLE\' | translate }}</h1><p class="text-center">{{ \'MYVOLUMIO.REFERRAL_SUBTITLE\' | translate }}</p><div class="my-volumio__referral-link-container my-volumio__component position-relative"><input id="my-volumio-link-field" class="my-volumio__referral-link" type="text" value="{{ myVolumioReferralController.growSurfService.participant.shareURL }}"> <button ng-click="myVolumioReferralController.copyLink()" class="btn my-volumio__btn-primary my-volumio__border-round" tabindex="7">{{ myVolumioReferralController.copyDone ? \'MYVOLUMIO.COPIED\' : \'MYVOLUMIO.COPY\' | translate }}</button><div ng-if="!myVolumioReferralController.growSurfService.participant.rank || myVolumioReferralController.growSurfService.participant.rank === 0" class="preload"></div></div><button ng-click="myVolumioReferralController.shareClick(\'email\', myVolumioReferralController.growSurfService.participant.shareURL)" class="my-volumio__referral-btn my-volumio__component"><i class="fa fa-envelope"></i> Email</button> <button ng-click="myVolumioReferralController.shareClick(\'facebook\', myVolumioReferralController.growSurfService.participant.shareURL)" class="my-volumio__referral-btn my-volumio__component"><i class="fa fa-facebook"></i> Facebook</button> <button ng-click="myVolumioReferralController.shareClick(\'twitter\', myVolumioReferralController.growSurfService.participant.shareURL)" class="my-volumio__referral-btn my-volumio__component"><i class="fa fa-twitter"></i> Twitter</button> <button ng-click="myVolumioReferralController.shareClick(\'whatsapp\', myVolumioReferralController.growSurfService.participant.shareURL)" class="my-volumio__referral-btn my-volumio__component"><i class="fa fa-whatsapp"></i> WhatsApp</button></div></div><div class="row"><div class="col-xs-24 col-sm-16 col-md-12 col-sm-offset-4 col-md-offset-6"><h3 class="text-center">{{ \'MYVOLUMIO.MY_ACHIEVEMENTS\' | translate }}</h3><div class="my-volumio__component my-volumio__results"><div class="row"><div class="col-xs-24 col-sm-8 my-volumio__result-item"><h1 class="my-volumio__result-item-score">#{{ myVolumioReferralController.growSurfService.participant.rank }}</h1><p class="small my-volumio__result-item-caption">{{ \'MYVOLUMIO.YOUR_RANK\' | translate }}</p></div><div class="col-xs-24 col-sm-8 my-volumio__result-item"><h1 class="my-volumio__result-item-score">{{ myVolumioReferralController.growSurfService.participant.totalReferralsInMonth }}</h1><p class="small my-volumio__result-item-caption">{{ \'MYVOLUMIO.REFERRALS_THIS_MONTH\' | translate }}</p></div><div class="col-xs-24 col-sm-8 my-volumio__result-item"><h1 class="my-volumio__result-item-score">{{ myVolumioReferralController.growSurfService.participant.totalReferrals }}</h1><p class="small my-volumio__result-item-caption">{{ \'MYVOLUMIO.TOTAL_REFERRALS\' | translate }}</p></div></div><div ng-if="!myVolumioReferralController.growSurfService.participant.rank || myVolumioReferralController.growSurfService.participant.rank === 0" class="preload"></div></div></div></div><div ng-if="myVolumioReferralController.growSurfService.campaignInfo" class="row mb-10"><div class="col-xs-24 col-sm-24 col-md-20 col-md-offset-2 col-lg-16 col-lg-offset-4"><div class="row"><div class="col-xs-24 col-sm-12"><div class="plan__card my-volumio__leaderboard reset my-volumio__component"><div class="plan__title d-flex align-items-center"><span>{{ \'MYVOLUMIO.LEADERBOARD\' | translate }}<br><br></span></div><div class="participants"><div ng-repeat="participant in myVolumioReferralController.growSurfService.campaignInfo.leaderboard track by participant.id" class="participant" ng-class="{ active: myVolumioReferralController.user.$id === participant.myVolumioUid }"><div class="participant__rank">#{{ participant.rank }}</div><div class="participant__name">{{ myVolumioReferralController.user.$id === participant.myVolumioUid ? myVolumioReferralController.user.email : participant.name }}</div></div></div><div ng-if="!myVolumioReferralController.growSurfService.participant.rank || myVolumioReferralController.growSurfService.participant.rank === 0" class="preload"></div></div></div><div class="col-xs-24 col-sm-12"><div class="plan__card my-volumio__leaderboard reset my-volumio__component mb-4"><div class="plan__title d-flex align-items-center"><span>{{ \'MYVOLUMIO.REWARDS\' | translate }}<br><br></span></div><div class="participants"><div class="participant"><div class="participant__name">{{ \'MYVOLUMIO.NUMBER_OF_REFERRALS\' | translate }}</div></div><div ng-repeat="reward in myVolumioReferralController.orderRewards(myVolumioReferralController.growSurfService.campaignInfo.rewards) track by reward.id" ng-if="reward.type === \'MILESTONE\'" class="participant"><div class="participant__rank">{{ reward.totalReferralsRequired }}</div><div class="participant__name">{{ reward.description }}</div></div></div><div ng-if="!myVolumioReferralController.growSurfService.participant.rank || myVolumioReferralController.growSurfService.participant.rank === 0" class="preload"></div></div><div class="my-volumio__component"><div ng-repeat="reward in myVolumioReferralController.growSurfService.campaignInfo.rewards track by reward.id" ng-if="reward.type === \'LEADERBOARD\'" class="participant"><div class="participant__rank"><img ng-src="{{\'app/assets-common/referral-award.svg\'}}" alt="award"></div><div class="participant__name">{{ reward.description }}</div></div></div></div></div></div></div><div class="row"><div class="col-xs-24 col-sm-16 col-md-12 col-sm-offset-4 col-md-offset-6"><h3 class="text-center mb-6">{{ \'MYVOLUMIO.HOW_IT_WORKS\' | translate }}</h3><div class="row"><div class="col-xs-24 col-sm-8 text-center"><img class="mb-4" ng-src="{{\'app/assets-common/referral-badge-1.svg\'}}" alt="badge"><h4 class="bold">{{ \'MYVOLUMIO.REFERRAL_HOW_TITLE_1\' | translate }}</h4><p class="small">{{ \'MYVOLUMIO.REFERRAL_HOW_BODY_1\' | translate }}</p></div><div class="col-xs-24 col-sm-8 text-center"><img class="mb-4" ng-src="{{\'app/assets-common/referral-badge-2.svg\'}}" alt="badge"><h4 class="bold">{{ \'MYVOLUMIO.REFERRAL_HOW_TITLE_2\' | translate }}</h4><p class="small">{{ \'MYVOLUMIO.REFERRAL_HOW_BODY_2\' | translate }}</p></div><div class="col-xs-24 col-sm-8 text-center"><img class="mb-4" ng-src="{{\'app/assets-common/referral-badge-3.svg\'}}" alt="badge"><h4 class="bold">{{ \'MYVOLUMIO.REFERRAL_HOW_TITLE_3\' | translate }}</h4><p class="small">{{ \'MYVOLUMIO.REFERRAL_HOW_BODY_3\' | translate }}</p></div></div></div></div><div class="row"><div class="col-xs-24 col-sm-16 col-md-12 col-sm-offset-4 col-md-offset-6"><h3 class="text-center mb-4">{{ \'MYVOLUMIO.FAQ\' | translate }}</h3><div class="my-volumio__collapse my-volumio__component"><input class="my-volumio__collapse-toggle" id="how-do-i" type="checkbox" hidden=""> <label for="how-do-i" class="my-volumio__collapse-header"><div class="my-volumio__collapse-indicator"><img ng-src="{{\'app/assets-common/collapse-indicator.svg\'}}" alt="toggle"></div><span>{{ \'MYVOLUMIO.REFERRAL_FAQ_TITLE_1\' | translate }}</span></label><div class="my-volumio__collapse-body"><div class="my-volumio__collapse-body__inner"><p>{{ \'MYVOLUMIO.REFERRAL_FAQ_BODY_1\' | translate }}</p></div></div></div><div class="my-volumio__collapse my-volumio__component"><input class="my-volumio__collapse-toggle" id="whatisconsidered" type="checkbox" hidden=""> <label for="whatisconsidered" class="my-volumio__collapse-header"><div class="my-volumio__collapse-indicator"><img ng-src="{{\'app/assets-common/collapse-indicator.svg\'}}" alt="toggle"></div><span>{{ \'MYVOLUMIO.REFERRAL_FAQ_TITLE_2\' | translate }}</span></label><div class="my-volumio__collapse-body"><div class="my-volumio__collapse-body__inner"><p>{{ \'MYVOLUMIO.REFERRAL_FAQ_BODY_2\' | translate }}</p></div></div></div><div class="my-volumio__collapse my-volumio__component"><input class="my-volumio__collapse-toggle" id="howlongismy" type="checkbox" hidden=""> <label for="howlongismy" class="my-volumio__collapse-header"><div class="my-volumio__collapse-indicator"><img ng-src="{{\'app/assets-common/collapse-indicator.svg\'}}" alt="toggle"></div><span>{{ \'MYVOLUMIO.REFERRAL_FAQ_TITLE_3\' | translate }}</span></label><div class="my-volumio__collapse-body"><div class="my-volumio__collapse-body__inner"><p>{{ \'MYVOLUMIO.REFERRAL_FAQ_BODY_3\' | translate }}</p></div></div></div><div class="my-volumio__collapse my-volumio__component"><input class="my-volumio__collapse-toggle" id="howcanicheck" type="checkbox" hidden=""> <label for="howcanicheck" class="my-volumio__collapse-header"><div class="my-volumio__collapse-indicator"><img ng-src="{{\'app/assets-common/collapse-indicator.svg\'}}" alt="toggle"></div><span>{{ \'MYVOLUMIO.REFERRAL_FAQ_TITLE_4\' | translate }}</span></label><div class="my-volumio__collapse-body"><div class="my-volumio__collapse-body__inner"><p>{{ \'MYVOLUMIO.REFERRAL_FAQ_BODY_4\' | translate }}</p></div></div></div><div class="my-volumio__collapse my-volumio__component"><input class="my-volumio__collapse-toggle" id="whendoireceive" type="checkbox" hidden=""> <label for="whendoireceive" class="my-volumio__collapse-header"><div class="my-volumio__collapse-indicator"><img ng-src="{{\'app/assets-common/collapse-indicator.svg\'}}" alt="toggle"></div><span>{{ \'MYVOLUMIO.REFERRAL_FAQ_TITLE_5\' | translate }}</span></label><div class="my-volumio__collapse-body"><div class="my-volumio__collapse-body__inner"><p>{{ \'MYVOLUMIO.REFERRAL_FAQ_BODY_5\' | translate }}</p></div></div></div><div class="my-volumio__collapse my-volumio__component"><input class="my-volumio__collapse-toggle" id="doineedpayment" type="checkbox" hidden=""> <label for="doineedpayment" class="my-volumio__collapse-header"><div class="my-volumio__collapse-indicator"><img ng-src="{{\'app/assets-common/collapse-indicator.svg\'}}" alt="toggle"></div><span>{{ \'MYVOLUMIO.REFERRAL_FAQ_TITLE_6\' | translate }}</span></label><div class="my-volumio__collapse-body"><div class="my-volumio__collapse-body__inner"><p>{{ \'MYVOLUMIO.REFERRAL_FAQ_BODY_6\' | translate }}</p></div></div></div><div class="my-volumio__collapse my-volumio__component"><input class="my-volumio__collapse-toggle" id="whyarerewards" type="checkbox" hidden=""> <label for="whyarerewards" class="my-volumio__collapse-header"><div class="my-volumio__collapse-indicator"><img ng-src="{{\'app/assets-common/collapse-indicator.svg\'}}" alt="toggle"></div><span>{{ \'MYVOLUMIO.REFERRAL_FAQ_TITLE_7\' | translate }}</span></label><div class="my-volumio__collapse-body"><div class="my-volumio__collapse-body__inner"><p>{{ \'MYVOLUMIO.REFERRAL_FAQ_BODY_7\' | translate }}</p></div></div></div><div class="my-volumio__collapse my-volumio__component"><input class="my-volumio__collapse-toggle" id="howmanypeople" type="checkbox" hidden=""> <label for="howmanypeople" class="my-volumio__collapse-header"><div class="my-volumio__collapse-indicator"><img ng-src="{{\'app/assets-common/collapse-indicator.svg\'}}" alt="toggle"></div><span>{{ \'MYVOLUMIO.REFERRAL_FAQ_TITLE_8\' | translate }}</span></label><div class="my-volumio__collapse-body"><div class="my-volumio__collapse-body__inner"><p>{{ \'MYVOLUMIO.REFERRAL_FAQ_BODY_8\' | translate }}</p></div></div></div></div></div></div></div>'),e.put("app/components/myvolumio/select-device/myvolumio-cloud-select-device.html",'<div class="box"><div class="boxHeader"><div class="title"><h2 translate="MYVOLUMIO.MY_VOLUMIO"></h2></div></div><div id="authLoginPlugin" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-user-circle-o"></i> <span translate="MYVOLUMIO.SELECT_REMOTE_DEVICE"></span></h3></div><div class="panel-body">selezionalo</div></div></div>'),e.put("app/components/myvolumio/signup/myvolumio-signup.html",'<div class="box"><div class="boxHeader"><div class="title"><h2 translate="MYVOLUMIO.MY_VOLUMIO"></h2><a href="https://volumio.org/myvolumio" target="_blank" class="btn btn-outline pull-right" id="myvolumio-info"><i class="fa fa-question"></i> <span class="hidden-xs" translate="MYVOLUMIO.WHAT_IS_MYVOLUMIO"></span></a></div></div><div id="authSignupPlugin" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-user-circle-o"></i> <span translate="MYVOLUMIO.SIGNUP"></span></h3></div><div class="panel-body"><div ng-show="myVolumioSignupController.user == null"><h4 style="text-align: right; margin-right: 16px;"><a ng-click="myVolumioSignupController.goToLogin()" class="btn btn-outline pull-right"><i class="fa fa-user"></i> <span translate="MYVOLUMIO.LOGIN"></span></a></h4><div class="omb_login"><h3 class="omb_authTitle" translate="MYVOLUMIO.SIGNUP"></h3><div ng-if="myVolumioSignupController.isSocialEnabled()"><div class="row omb_row-sm-offset-3 omb_socialButtons"><div class="col-xs-8 col-sm-4"><a ng-click="myVolumioSignupController.loginWithFacebook()" class="btn btn-lg btn-block omb_btn-facebook"><i class="fa fa-facebook"></i> <span translate="MYVOLUMIO.SIGNUP_WITH" class="hidden-xs hidden-sm hidden-md"></span> <span class="hidden-xs hidden-sm">Facebook</span></a></div><div class="col-xs-8 col-sm-4"><a ng-click="myVolumioSignupController.loginWithGoogle()" class="btn btn-lg btn-block omb_btn-google"><i class="fa fa-google"></i> <span translate="MYVOLUMIO.SIGNUP_WITH" class="hidden-xs hidden-sm hidden-md"></span> <span class="hidden-xs hidden-sm">Google</span></a></div><div class="col-xs-8 col-sm-4"><a ng-click="myVolumioSignupController.loginWithGithub()" class="btn btn-lg btn-block omb_btn-github"><i class="fa fa-github"></i> <span translate="MYVOLUMIO.SIGNUP_WITH" class="hidden-xs hidden-sm hidden-md"></span> <span class="hidden-xs hidden-sm">GitHub</span></a></div></div><div class="row omb_row-sm-offset-3 omb_loginOr"><div class="col-xs-24 col-sm-12"><hr class="omb_hrOr"><span class="omb_spanOr" translate="MYVOLUMIO.OR"></span></div></div></div><div class="row"><div class="col-xs-24 col-sm-16 col-md-12 col-sm-offset-4 col-md-offset-6"><form role="form" ng-submit="myVolumioSignupController.submitForm()"><div class="row"><div class="col-xs-24 col-sm-12 col-md-12"><div class="form-group"><input type="text" ng-model="myVolumioSignupController.firstName" id="first_name" class="form-control input-lg" placeholder="{{\'MYVOLUMIO.FIRST_NAME\' | translate}}" tabindex="1" required="" pattern=".{2,}"></div></div><div class="col-xs-24 col-sm-12 col-md-12"><div class="form-group"><input type="text" ng-model="myVolumioSignupController.lastName" id="last_name" class="form-control input-lg" placeholder="{{\'MYVOLUMIO.LAST_NAME\' | translate}}" tabindex="2" required="" pattern=".{2,}"></div></div></div><div class="form-group"><input type="email" ng-model="myVolumioSignupController.email" id="email" class="form-control input-lg" placeholder="{{\'MYVOLUMIO.EMAIL_ADDRESS\' | translate}}" required="" tabindex="4"></div><div class="row"><div class="col-xs-24 col-sm-12 col-md-12"><div class="form-group"><input type="password" ng-model="myVolumioSignupController.password" id="password" class="form-control input-lg" placeholder="{{\'MYVOLUMIO.PASSWORD\' | translate}}" tabindex="5" required="" pattern=".{8,}"></div></div><div class="col-xs-24 col-sm-6 col-md-12"><div class="form-group"><input type="password" ng-model="myVolumioSignupController.passwordConfirm" id="password_confirmation" class="form-control input-lg" placeholder="{{\'MYVOLUMIO.CONFIRM_PASSWORD\' | translate}}" tabindex="6" required="" pattern=".{8,}"></div></div></div><div class="row"><div class="col-xs-22 col-sm-22 col-md-22"><span class="button-checkbox"><a tabindex="7" ng-click="myVolumioSignupController.clickAgreementButton()"><i class="state-icon {{myVolumioSignupController.termsButtonIcon}}"></i></a> <input type="checkbox" name="t_and_c" id="t_and_c" class="hidden" value="1" ng-model="myVolumioSignupController.form.termsCheckbox" ng-true-value="true" ng-false-value="false"></span> <span translate="MYVOLUMIO.TOS_AGREE"></span> <strong class="label label-primary" <a="" ng-click="myVolumioSignupController.clickShowTerms()">MyVolumio <span translate="MYVOLUMIO.TOS"></span></strong></div></div><div class="row"><div class="col-xs-22 col-sm-22 col-md-22"><span class="button-checkbox"><a tabindex="7" ng-click="myVolumioSignupController.clickMarketingConsentButton()"><i class="state-icon {{myVolumioSignupController.marketingConsentButtonIcon}}"></i></a> <input type="checkbox" name="marketingConsent" id="marketingConsent" class="hidden" value="1" ng-model="myVolumioSignupController.form.marketingConsent" ng-true-value="true" ng-false-value="false"></span> <span translate="MYVOLUMIO.KEEP_ME_UPDATED_VIA_MAIL"></span></div></div><hr class="colorgraph"><div class="row"><div class="col-xs-24 col-md-24"><input type="submit" value="{{\'MYVOLUMIO.SIGNUP\' | translate}}" class="btn btn-success btn-block btn-lg" tabindex="7"></div></div></form></div></div></div><div id="" ng-if="myVolumioSignupController.user != null"><my-volumio-already-logged></my-volumio-already-logged></div></div></div></div></div>'),e.put("app/components/myvolumio/signup-new/myvolumio-signup-new.html",'<div class="box"><div class="boxHeader d-flex align-items-center justify-content-between"><div class="title"><h2>{{ \'MYVOLUMIO.SIGNUP_TO\' | translate }}</h2></div></div><div id="authSignupPlugin" class="panel panel-default my-volumio__panel"><div ng-class="MyVolumioSignupNewController.$scope.step === 1 ? \'show\' : \'hide\'" class="panel-body"><div ng-show="MyVolumioSignupNewController.user == null"><div class="omb_login"><div class="d-flex justify-content-end"><a ng-if="step === 1" ng-click="MyVolumioSignupNewController.goToLogin()" class="btn btn-outline pull-right"><i class="fa fa-user mr-2"></i> <span translate="MYVOLUMIO.LOGIN"></span></a></div><div class="row"><div class="col-xs-24 col-sm-16 col-md-12 col-sm-offset-4 col-md-offset-6"><div class="my-volumio__info-card my-volumio__border-round"><span class="my-volumio__info-card__description">{{ \'MYVOLUMIO.MY_VOLUMIO_SHORTDESC\' | translate }}. <a href="https://volumio.org/myvolumio" target="_blank">{{ \'MYVOLUMIO.MY_VOLUMIO_MORE_INFO\' | translate }}</a></span> <img alt="MyVolumio Premium Icon" ng-src="{{\'app/assets-common/myvolumio-premium-icon.svg\'}}"></div></div></div><div ng-if="MyVolumioSignupNewController.isSocialEnabled()"><div class="row omb_row-sm-offset-3 omb_socialButtons"><div class="col-xs-8 col-sm-4"><a ng-click="MyVolumioSignupNewController.loginWithFacebook()" class="btn btn-lg btn-block omb_btn-facebook"><i class="fa fa-facebook"></i> <span translate="MYVOLUMIO.SIGNUP_WITH" class="hidden-xs hidden-sm hidden-md hidden-lg"></span> <span class="hidden-xs hidden-sm">Facebook</span></a></div><div class="col-xs-8 col-sm-4"><a ng-click="MyVolumioSignupNewController.loginWithGoogle()" class="btn btn-lg btn-block omb_btn-google"><i class="fa fa-google"></i> <span translate="MYVOLUMIO.SIGNUP_WITH" class="hidden-xs hidden-sm hidden-md hidden-lg"></span> <span class="hidden-xs hidden-sm">Google</span></a></div><div class="col-xs-8 col-sm-4"><a ng-click="MyVolumioSignupNewController.loginWithGithub()" class="btn btn-lg btn-block omb_btn-github"><i class="fa fa-github"></i> <span translate="MYVOLUMIO.SIGNUP_WITH" class="hidden-xs hidden-sm hidden-md hidden-lg"></span> <span class="hidden-xs hidden-sm">Github</span></a></div></div><div class="row omb_row-sm-offset-3 omb_loginOr"><div class="col-xs-24 col-sm-12"><hr class="omb_hrOr"><span class="omb_spanOr" translate="MYVOLUMIO.OR"></span></div></div></div><div class="row"><div class="col-xs-24 col-sm-16 col-md-12 col-sm-offset-4 col-md-offset-6"><form role="form" ng-submit="MyVolumioSignupNewController.submitForm()"><div class="row my-volumio__row-gutter"><div class="col-xs-24 col-sm-12 col-md-12"><div class="form-group my-volumio__form-group"><input type="text" ng-model="MyVolumioSignupNewController.firstName" id="first_name" class="form-control input-lg my-volumio__border-round my-volumio__text-input" placeholder="{{\'MYVOLUMIO.FIRST_NAME\' | translate}}" tabindex="1" required="" pattern=".{2,}"></div></div><div class="col-xs-24 col-sm-12 col-md-12"><div class="form-group my-volumio__form-group"><input type="text" ng-model="MyVolumioSignupNewController.lastName" id="last_name" class="form-control input-lg my-volumio__border-round my-volumio__text-input" placeholder="{{\'MYVOLUMIO.LAST_NAME\' | translate}}" tabindex="2" required="" pattern=".{2,}"></div></div></div><div class="form-group my-volumio__form-group"><input type="email" ng-model="MyVolumioSignupNewController.email" id="email" class="form-control input-lg my-volumio__border-round my-volumio__text-input" placeholder="{{\'MYVOLUMIO.EMAIL_ADDRESS\' | translate}}" required="" tabindex="4"></div><div class="row my-volumio__row-gutter"><div class="col-xs-24 col-sm-12 col-md-12"><div class="form-group my-volumio__form-group"><input type="password" ng-model="MyVolumioSignupNewController.password" id="password" class="form-control input-lg my-volumio__border-round my-volumio__text-input" placeholder="{{\'MYVOLUMIO.PASSWORD\' | translate}}" tabindex="5" required="" pattern=".{8,}"></div></div><div class="col-xs-24 col-sm-12 col-md-12"><div class="form-group my-volumio__form-group"><input type="password" ng-model="MyVolumioSignupNewController.passwordConfirm" id="password_confirmation" class="form-control input-lg my-volumio__border-round my-volumio__text-input" placeholder="{{\'MYVOLUMIO.CONFIRM_PASSWORD\' | translate}}" tabindex="6" required="" pattern=".{8,}"></div></div></div><div class="row mb-2"><div class="col-xs-22 col-sm-22 col-md-22 d-flex align-items-start"><div class="button-checkbox" ng-click="MyVolumioSignupNewController.clickAgreementButton()"><input type="checkbox" name="t_and_c" id="t_and_c" class="hidden my-volumio__checkbox" value="1" ng-model="MyVolumioSignupNewController.form.termsCheckbox" ng-true-value="true" ng-false-value="false"> <label class="my-volumio__fake-checkbox" tabindex="7" for="t_and_c"><div class="my-volumio__fake-checkbox__tick"><img src="app/assets-common/fake-checkbox-tick--small.svg" alt="Tick"></div></label></div><div><span translate="MYVOLUMIO.TOS_AGREE"></span><strong class="label label-primary"><a href="#" ng-click="MyVolumioSignupNewController.clickShowTerms()">MyVolumio <span translate="MYVOLUMIO.TOS"></span></a></strong></div></div></div><div class="row mb-10"><div class="col-xs-22 col-sm-22 col-md-22 d-flex align-items-start"><div class="button-checkbox" ng-click="MyVolumioSignupNewController.clickMarketingConsentButton()"><input type="checkbox" name="marketingConsent" id="marketingConsent" class="hidden my-volumio__checkbox" value="1" ng-model="MyVolumioSignupNewController.form.marketingConsent" ng-true-value="true" ng-false-value="false"> <label class="my-volumio__fake-checkbox" tabindex="7" for="marketingConsent"><div class="my-volumio__fake-checkbox__tick"><img src="app/assets-common/fake-checkbox-tick--small.svg" alt="Tick"></div></label></div><div><span translate="MYVOLUMIO.KEEP_ME_UPDATED_VIA_MAIL"></span></div></div></div><div class="row mb-10"><div class="col-xs-24 col-md-24"><button ng-click="MyVolumioSignupNewController.validate()" class="btn my-volumio__btn-primary my-volumio__border-round btn-block btn-lg" ng-class="{ disabled: MyVolumioSignupNewController.signUpInitiated }" tabindex="7">{{ MyVolumioSignupNewController.signUpInitiated ? \'MYVOLUMIO.CREATING_ACCOUNT\' : \'MYVOLUMIO.SIGNUP\' | translate }}</button></div></div></form></div></div></div><div id="" ng-if="MyVolumioSignupNewController.user != null"><my-volumio-already-logged></my-volumio-already-logged></div></div></div></div><div ng-class="MyVolumioSignupNewController.$scope.step === 2 ? \'show\' : \'hide\'" id="authSignupPlugin" class="panel panel-default my-volumio__panel"><div class="my-volumio__panel__header d-flex align-items-center justify-content-between"><span>&nbsp;</span> <button ng-click="MyVolumioSignupNewController.handlePayment()" class="btn my-volumio__btn-primary my-volumio__border-round" tabindex="7">{{ \'MYVOLUMIO.FINISH_SIGNUP\' | translate }}</button></div><div class="panel-body"><div ng-show="MyVolumioSignupNewController.user == null"><div class="row"><div class="col-xs-24 col-sm-16 col-md-12 col-sm-offset-4 col-md-offset-6"><div class="my-volumio__toggle-header"><div class="toggle-header__space"><h3>{{ \'MYVOLUMIO.CHOOSE_PLAN\' | translate }}</h3><p>{{ \'MYVOLUMIO.SAVE_20\' | translate }}</p></div><div class="my-volumio__toggle"><input ng-model="MyVolumioSignupNewController.selectedPlanDuration" class="toggle__label-radio" checked="" hidden="" type="radio" name="planPeriod" id="yearly" value="yearly"> <input ng-model="MyVolumioSignupNewController.selectedPlanDuration" class="toggle__label-radio" hidden="" type="radio" name="planPeriod" id="monthly" value="monthly"><div class="toggle__labels"><label for="yearly" class="toggle__label-text">{{ \'MYVOLUMIO.YEARLY\' | translate }}</label> <label for="monthly" class="toggle__label-text">{{ \'MYVOLUMIO.MONTHLY\' | translate }}</label></div></div></div></div></div><div class="row"><div class="col-xs-24 col-sm-16 col-md-12 col-sm-offset-4 col-md-offset-6"><div class="my-volumio__info-card my-volumio__border-round"><p class="my-volumio__info-card__description">{{ \'MYVOLUMIO.SUPPORT_MYVOLUMIO\' | translate }}</p><img alt="MyVolumio Premium Icon" ng-src="{{\'app/assets-common/myvolumio-support.svg\'}}"></div></div></div><div class="my-volumio__plan-grid"><label ng-repeat="product in MyVolumioSignupNewController.products" for="{{ product.plan }}" class="plan__item focus__helper round" tabindex="7"><input hidden="" class="plan__checkbox" type="radio" name="selectedPlan" value="{{ product.plan }}" ng-model="model.selectedProduct" ng-change="MyVolumioSignupNewController.selectProduct(product.plan)" id="{{ product.plan }}" ng-checked="{{ product.plan === \'virtuoso\' }}"><div class="plan__card"><div class="plan__title d-flex align-items-center"><div class="d-flex align-items-center"><div class="plan__fake-radio mr-4"><img class="plan__fake-radio__tick" src="app/assets-common/fake-checkbox-tick--big.svg" alt="Tick"></div><span>{{ product.name }}</span></div><div class="flex-spacer mr-2"></div><img ng-if="product.plan !== \'free\'" alt="MyVolumio Premium Icon" ng-src="{{\'app/assets-common/myvolumio-\' + product.plan + \'-white-32.svg\'}}"></div><div class="plan__pricing"><div class="plan__trial"><span ng-if="product.prices[MyVolumioSignupNewController.selectedPlanDuration].trial && !MyVolumioSignupNewController.getTrialOverride()">{{ product.prices[MyVolumioSignupNewController.selectedPlanDuration].trial.trialDays }} {{\'MYVOLUMIO.FREE_DAYS_TRIAL\' | translate}}</span>&nbsp;</div><div class="plan__price">{{ product.prices[MyVolumioSignupNewController.selectedPlanDuration].amount }} €</div><div class="plan__period" ng-if="product.plan !== \'free\'">{{ \'MYVOLUMIO.\'+MyVolumioSignupNewController.selectedPlanDuration + \'_PER\' | uppercase | translate | lowercase }}</div><div class="plan__period" ng-if="product.plan === \'free\'">forever</div></div><div class="plan__features"><div ng-repeat="feature in product.features track by $index" ng-if="feature !== \'EMPTY\'" class="plan__feature">{{ feature | translate }}</div></div></div></label></div><div class="row mb-10"><div class="col-xs-24 col-sm-16 col-md-12 col-sm-offset-4 col-md-offset-6"><div class="collapse__panel mb-4"><input class="collapse__checkbox" hidden="" type="checkbox" id="collapsePanel"> <label for="collapsePanel" class="collapse__panel__header d-flex align-items-center focus__helper" tabindex="7"><img class="collapse__indicator d-block mr-2" src="app/assets-common/collapse-indicator.svg" alt="Collapse"> {{ \'MYVOLUMIO.HAVE_COUPON_CODE\' | translate }}</label><div class="collapse__panel__content"><div class="form-group my-volumio__form-group"><input ng-model="MyVolumioSignupNewController.couponCode" ng-change="MyVolumioSignupNewController.onCouponCodeChange(MyVolumioSignupNewController.couponCode)" type="text" id="coupon" class="form-control input-lg my-volumio__border-round my-volumio__text-input" placeholder="{{ \'MYVOLUMIO.COUPON_CODE\' | translate }}" tabindex="4"></div></div></div><button ng-click="MyVolumioSignupNewController.handlePayment()" class="btn my-volumio__btn-primary my-volumio__border-round btn-block btn-lg" tabindex="7">{{ \'MYVOLUMIO.FINISH_SIGNUP\' | translate }}</button></div></div></div></div></div></div>'),
e.put("app/components/myvolumio/subscribe/myvolumio-subscribe.html",'<div class="box"><div class="boxHeader"><div class="title"><h2 translate="MYVOLUMIO.MY_VOLUMIO"></h2></div></div><div id="authLoginPlugin" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-user-circle-o"></i> <span translate="MYVOLUMIO.SUBSCRIBE"></span></h3></div><div class="panel-body"><div ng-if="myVolumioSubscribeController.user && myVolumioSubscribeController.product"><my-volumio-back-button label="{{\'MYVOLUMIO.PLANS\' | translate}}" route-destination="myvolumio.plans"></my-volumio-back-button><h3 translate="MYVOLUMIO.COMPLETE_UPGRADE"></h3><h4 translate="MYVOLUMIO.PAY"></h4><p translate="MYVOLUMIO.PAY_DESC"></p><my-volumio-plan-card subscribe="true" subscribe-callback="myVolumioSubscribeController.subscriptionCallback(subscribing)" product="myVolumioSubscribeController.product" show-mode="myVolumioSubscribeController.showMode"></my-volumio-plan-card></div><div id="" ng-if="!myVolumioSubscribeController.user"><h4 translate="MYVOLUMIO.YOURENT_LOGGED_DESC"></h4><a ng-click="myVolumioSubscribeController.logIn()" class="btn btn-lg btn-success" translate="MYVOLUMIO.LOGIN"></a></div><div id="" ng-if="!myVolumioSubscribeController.product"><h4 translate="MYVOLUMIO.NO_SUBSCRIPTION_SELECTED_DESC"></h4><a ng-click="myVolumioSubscribeController.goToPlans()" class="btn btn-lg btn-success" translate="MYVOLUMIO.RETRY"></a></div></div></div></div>'),e.put("app/components/myvolumio/templates/terms-and-conditions.html",'<h1>MyVolumio Terms and Conditions</h1><p>Last updated: December 26, 2018</p><h2>MyVolumio Terms in a nutshell</h2><p>MyVolumio is a service operated by INTUITU di Michelangelo Guarise, the company behind Volumio. Here\'s a quick 101 on how we operate this service and under which principles</p><p>Our order process is conducted by our online reseller Paddle.com. Paddle.com is the Merchant of Record for all our orders. Paddle provides all customer service inquiries and handles returns.</p><h3>Goal of MyVolumio</h3><ul><li>Provide an enhanced experience with Volumio, by allowing control of several Volumio devices from a single dashboard</li><li>Provide an infrastructure to easily expand compatibility with third party music services</li><li>Adding over time several new capabilities, thanks to the extra funding received</li></ul><h3>Data Collection and usage</h3><p>Due to the nature of the services and the features that we offer, we store (in a very secure manner) some of your data, specifically:</p><ul><li>Name, surname, email and geographical location</li><li>Favourites, Playlists, Radio Favourites, Personal Radios and the last played song on each device</li><li>Date and time of your first subscription</li><li>Data pertaining to your devices: anonimized Unique Identifier, Hardware type, Friendly name, System version and date of first addition</li></ul><p>What is your data used for:</p><ul><li>Matching the nearest server to your location to enhance your experience with the lowest possible latency</li><li>Synchronize in real time Favourites, Playlists, Radio Favourites, Personal Radios</li><li>Verify that you have an active subscription</li><li>Offering a clear overview of how many devices are linked to your account and if they are currently available and what they are currently playing</li></ul><p>General Policy of User Data</p><ul><li>By cancelling your account, your data will be permanently deleted instantly</li><li>We will not sell, share or grant access to your data to anyone.</li><li>You can request your aforementioned data (except those that might result in a security issue) by sending an email to support@volumio.org</li></ul><h3>Refund Policy</h3><p>No refunds will be executed</p><h2>Complete MyVolumio Terms and Conditions</h2><p>These Terms and Conditions ("Terms", "Terms and Conditions") govern your relationship with MyVolumio mobile application (the "Service") operated by INTUITU di Michelangelo Guarise ("us", "we", or "our").</p><p>Please read these Terms and Conditions carefully before using our MyVolumio mobile application (the "Service").</p><p>Your access to and use of the Service is conditioned on your acceptance of and compliance with these Terms. These Terms apply to all visitors, users and others who access or use the Service.</p><p>By accessing or using the Service you agree to be bound by these Terms. If you disagree with any part of the terms then you may not access the Service.</p><h2>Subscriptions</h2><p>Some parts of the Service are billed on a subscription basis ("Subscription(s)"). You will be billed in advance on a recurring and periodic basis ("Billing Cycle"). Billing cycles are set either on a monthly or annual basis, depending on the type of subscription plan you select when purchasing a Subscription.</p><p>At the end of each Billing Cycle, your Subscription will automatically renew under the exact same conditions unless you cancel it or INTUITU di Michelangelo Guarise cancels it. You may cancel your Subscription renewal either through your online account management page or by contacting INTUITU di Michelangelo Guarise customer support team.</p><p>A valid payment method, including credit card or PayPal, is required to process the payment for your Subscription. You shall provide INTUITU di Michelangelo Guarise with accurate and complete billing information including full name, address, state, zip code, telephone number, and a valid payment method information. By submitting such payment information, you automatically authorize INTUITU di Michelangelo Guarise to charge all Subscription fees incurred through your account to any such payment instruments.</p><p>Should automatic billing fail to occur for any reason, INTUITU di Michelangelo Guarise will issue an electronic invoice indicating that you must proceed manually, within a certain deadline date, with the full payment corresponding to the billing period as indicated on the invoice.</p><h2>Free Trial</h2><p>INTUITU di Michelangelo Guarise may, at its sole discretion, offer a Subscription with a free trial for a limited period of time ("Free Trial").</p><p>You may be required to enter your billing information in order to sign up for the Free Trial.</p><p>If you do enter your billing information when signing up for the Free Trial, you will not be charged by INTUITU di Michelangelo Guarise until the Free Trial has expired. On the last day of the Free Trial period, unless you cancelled your Subscription, you will be automatically charged the applicable Subscription fees for the type of Subscription you have selected.</p><p>At any time and without notice, INTUITU di Michelangelo Guarise reserves the right to (i) modify the terms and conditions of the Free Trial offer, or (ii) cancel such Free Trial offer.</p><h2>Order Processing</h2><p>Our order process is conducted by our online reseller Paddle.com. Paddle.com is the Merchant of Record for all our orders. Paddle provides all customer service inquiries and handles returns.</p><h2>Fee Changes</h2><p>INTUITU di Michelangelo Guarise, in its sole discretion and at any time, may modify the Subscription fees for the Subscriptions. Any Subscription fee change will become effective at the end of the then-current Billing Cycle.</p><p>INTUITU di Michelangelo Guarise will provide you with a reasonable prior notice of any change in Subscription fees to give you an opportunity to terminate your Subscription before such change becomes effective.</p><p>Your continued use of the Service after the Subscription fee change comes into effect constitutes your agreement to pay the modified Subscription fee amount.</p><h2>Refunds</h2><p>Certain refund requests for Subscriptions may be considered by INTUITU di Michelangelo Guarise on a case-by-case basis and granted in sole discretion of INTUITU di Michelangelo Guarise.</p><h2>Content</h2><p>Our Service allows you to post, link, store, share and otherwise make available certain information, text, graphics, videos, or other material ("Content"). You are responsible for the Content that you post to the Service, including its legality, reliability, and appropriateness.</p><p>By posting Content to the Service, you grant us the right and license to use, modify, perform, display, reproduce, and distribute such Content on and through the Service. You retain any and all of your rights to any Content you submit, post or display on or through the Service and you are responsible for protecting those rights.</p><p>You represent and warrant that: (i) the Content is yours (you own it) or you have the right to use it and grant us the rights and license as provided in these Terms, and (ii) the posting of your Content on or through the Service does not violate the privacy rights, publicity rights, copyrights, contract rights or any other rights of any person.</p><h2>Accounts</h2><p>When you create an account with us, you must provide us information that is accurate, complete, and current at all times. Failure to do so constitutes a breach of the Terms, which may result in immediate termination of your account on our Service.</p><p>You are responsible for safeguarding the password that you use to access the Service and for any activities or actions under your password, whether your password is with our Service or a third-party service.</p><p>You agree not to disclose your password to any third party. You must notify us immediately upon becoming aware of any breach of security or unauthorized use of your account.</p><p>You may not use as a username the name of another person or entity or that is not lawfully available for use, a name or trade mark that is subject to any rights of another person or entity other than you without appropriate authorization, or a name that is otherwise offensive, vulgar or obscene.</p><h2>Intellectual Property</h2><p>The Service and its original content (excluding Content provided by users), features and functionality are and will remain the exclusive property of INTUITU di Michelangelo Guarise and its licensors. The Service is protected by copyright, trademark, and other laws of both the Italy and foreign countries. Our trademarks and trade dress may not be used in connection with any product or service without the prior written consent of INTUITU di Michelangelo Guarise.</p><h2>Links To Other Web Sites</h2><p>Our Service may contain links to third-party web sites or services that are not owned or controlled by INTUITU di Michelangelo Guarise.</p><p>INTUITU di Michelangelo Guarise has no control over, and assumes no responsibility for, the content, privacy policies, or practices of any third party web sites or services. You further acknowledge and agree that INTUITU di Michelangelo Guarise shall not be responsible or liable, directly or indirectly, for any damage or loss caused or alleged to be caused by or in connection with use of or reliance on any such content, goods or services available on or through any such web sites or services.</p><p>We strongly advise you to read the terms and conditions and privacy policies of any third-party web sites or services that you visit.</p><h2>Termination</h2><p>We may terminate or suspend your account immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms.</p><p>Upon termination, your right to use the Service will immediately cease. If you wish to terminate your account, you may simply discontinue using the Service.</p><h2>Limitation Of Liability</h2><p>In no event shall INTUITU di Michelangelo Guarise, nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from (i) your access to or use of or inability to access or use the Service; (ii) any conduct or content of any third party on the Service; (iii) any content obtained from the Service; and (iv) unauthorized access, use or alteration of your transmissions or content, whether based on warranty, contract, tort (including negligence) or any other legal theory, whether or not we have been informed of the possibility of such damage, and even if a remedy set forth herein is found to have failed of its essential purpose.</p><h2>Disclaimer</h2><p>Your use of the Service is at your sole risk. The Service is provided on an "AS IS" and "AS AVAILABLE" basis. The Service is provided without warranties of any kind, whether express or implied, including, but not limited to, implied warranties of merchantability, fitness for a particular purpose, non-infringement or course of performance.</p><p>INTUITU di Michelangelo Guarise its subsidiaries, affiliates, and its licensors do not warrant that a) the Service will function uninterrupted, secure or available at any particular time or location; b) any errors or defects will be corrected; c) the Service is free of viruses or other harmful components; or d) the results of using the Service will meet your requirements.</p><h2>Governing Law</h2><p>These Terms shall be governed and construed in accordance with the laws of Italy, without regard to its conflict of law provisions.</p><p>Our failure to enforce any right or provision of these Terms will not be considered a waiver of those rights. If any provision of these Terms is held to be invalid or unenforceable by a court, the remaining provisions of these Terms will remain in effect. These Terms constitute the entire agreement between us regarding our Service, and supersede and replace any prior agreements we might have between us regarding the Service.</p><h2>Changes</h2><p>We reserve the right, at our sole discretion, to modify or replace these Terms at any time. If a revision is material we will try to provide at least 30 days notice prior to any new terms taking effect. What constitutes a material change will be determined at our sole discretion.</p><p>By continuing to access or use our Service after those revisions become effective, you agree to be bound by the revised terms. If you do not agree to the new terms, please stop using the Service.</p><h2>Contact Us</h2><p>If you have any questions about these Terms, please contact us at support@volumio.org</p>'),e.put("app/components/myvolumio/verify-user/myvolumio-verify-user.html",'<div class="box"><div class="boxHeader"><div class="title"><h2 translate="MYVOLUMIO.MY_VOLUMIO"></h2></div></div><div id="authLoginPlugin" class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-user-circle-o"></i> <span translate="MYVOLUMIO.LOGIN"></span></h3></div><div class="panel-body"><div id="" ng-if="myVolumioVerifyUserController.user.verified !== true"><p translate="MYVOLUMIO.USER_EMAIL_NOT_VERIFIED"></p><my-volumio-verification-card></my-volumio-verification-card><a ng-click="myVolumioVerifyUserController.goToProfile()" class="btn btn-lg btn-default" translate="MYVOLUMIO.PROFILE"></a></div><div id="" ng-if="myVolumioVerifyUserController.user.verified === true"><h4 translate="MYVOLUMIO.YOURE_VERIFIED_DESC"></h4><a ng-click="myVolumioVerifyUserController.goToProfile()" class="btn btn-lg btn-success" translate="MYVOLUMIO.PROFILE"></a></div></div></div></div>'),e.put("app/components/myvolumio/welcome/myvolumio-welcome.html",'<div class="box"><div class="boxHeader d-flex align-items-center justify-content-between"><div class="title"><h2>{{ \'MYVOLUMIO.MY_VOLUMIO\' | translate }}</h2></div></div></div><div id="authSignupPlugin" class="panel panel-default my-volumio__panel"><div class="panel-body body-landing welcome__panel"><div class="row landing__welcome-section"><div class="col-xs-24 col-sm-16 col-md-12 col-sm-offset-4 col-md-offset-6"><h1 class="text-center mb-6">{{ \'MYVOLUMIO.WELCOME\' | translate }}!</h1><p class="text-center mb-10">{{ \'MYVOLUMIO.LANDING_REFERRAL_WELCOME_TEXT1\' | translate }}</p><p class="text-center mb-10">{{ \'MYVOLUMIO.LANDING_REFERRAL_WELCOME_TEXT2\' | translate }}</p><div class="d-flex justify-content-center"><div class="text-center"><button ng-click="myVolumioWelcomeController.goToAuthPage()" class="btn my-volumio__btn-primary my-volumio__border-round">{{ \'MYVOLUMIO.CREATE_YOUR_ACCOUNT\' | translate }}</button><p class="small caption">{{ \'MYVOLUMIO.ITS_FREE\' | translate }}</p></div></div></div></div><div class="row mb-10"><div class="col-xs-24 col-sm-16 col-md-12 col-sm-offset-4 col-md-offset-6"><h3 class="text-center mb-6">{{ \'MYVOLUMIO.LANDING_WHAT_IS_MYVOLUMIO\' | translate }}</h3><p class="text-center mb-10">{{ \'MYVOLUMIO.LANDING_SHORT_INTRO\' | translate }}</p><div class="row"><div class="col-xs-24 col-sm-8 text-center mb-line--small"><img class="mb-4" ng-src="{{\'app/assets-common/landing-badge-1.svg\'}}" alt="badge"><h4 class="bold">{{ \'PLUGINS.INSTALL\' | translate }}</h4><p class="small caption">{{ \'MYVOLUMIO.LANDING_INSTALL_TEXT\' | translate }}</p><a class="small" href="https://volumio.org/get-started/" target="_blank" rel="noopener">{{ \'MYVOLUMIO.MORE_INFO\' | translate }}</a></div><div class="col-xs-24 col-sm-8 text-center mb-line--small"><img class="mb-4" ng-src="{{\'app/assets-common/landing-badge-2.svg\'}}" alt="badge"><h4 class="bold">{{ \'NETWORK.CONNECT\' | translate }}</h4><p class="small caption">{{ \'MYVOLUMIO.LANDING_CONNECT_TEXT\' | translate }}</p></div><div class="col-xs-24 col-sm-8 text-center"><img class="mb-4" ng-src="{{\'app/assets-common/landing-badge-3.svg\'}}" alt="badge"><h4 class="bold">{{ \'MYVOLUMIO.CONTROL\' | translate }}</h4><p class="small caption">{{ \'MYVOLUMIO.LANDING_CONTROL_TEXT\' | translate }}</p></div></div></div></div><div class="row mb-10"><div class="col-xs-24 col-sm-16 col-md-12 col-sm-offset-4 col-md-offset-6"><h3 class="text-center mb-6">{{ \'MYVOLUMIO.LANDING_FEATURES_TITLE\' | translate }}</h3><p class="text-center mb-10">{{ \'MYVOLUMIO.LANDING_FEATURES_TEXT\' | translate }}</p></div></div><div class="row"><div class="col-xs-24 col-sm-22 col-md-20 col-sm-offset-1 col-md-offset-2"><div class="myvolumio__feature-block"><div class="feature__content"><p class="bold">{{ \'MYVOLUMIO.LANDING_FEATURE_INTEGRATIONS_TITLE\' | translate }}</p><p class="small">{{ \'MYVOLUMIO.LANDING_FEATURE_INTEGRATIONS_TEXT\' | translate }}</p></div><div class="feature__image"><img ng-src="{{\'app/assets-common/myvolumio-landing-feature-integrations.jpg\'}}" alt="integrations icons"></div></div></div></div><div class="row"><div class="col-xs-24 col-sm-22 col-md-20 col-sm-offset-1 col-md-offset-2"><div class="myvolumio__feature-block"><div class="feature__content"><p class="bold">{{ \'MYVOLUMIO.LANDING_FEATURE_DISCOVERY_TITLE\' | translate }}</p><p class="small">{{ \'MYVOLUMIO.LANDING_FEATURE_DISCOVERY_TEXT\' | translate }}</p></div><div class="feature__image"><img ng-src="{{\'app/assets-common/myvolumio-landing-feature-discovery.jpg\'}}" alt="Volumio music player user interface"></div></div></div></div><div class="row"><div class="col-xs-24 col-sm-22 col-md-20 col-sm-offset-1 col-md-offset-2"><div class="myvolumio__feature-block"><div class="feature__content"><p class="bold">{{ \'MYVOLUMIO.LANDING_FEATURE_BACKUP_TITLE\' | translate }}</p><p class="small">{{ \'MYVOLUMIO.LANDING_FEATURE_BACKUP_TEXT\' | translate }}</p></div><div class="feature__image"><img ng-src="{{\'app/assets-common/myvolumio-landing-feature-backup.jpg\'}}" alt="devices: a smartphone, laptop and a tablet with the volumios user interface"></div></div></div></div><div class="row"><div class="col-xs-24 col-sm-22 col-md-20 col-sm-offset-1 col-md-offset-2"><div class="myvolumio__feature-block"><div class="feature__content"><p class="bold">{{ \'MYVOLUMIO.LANDING_FEATURE_CD_TITLE\' | translate }}</p><p class="small">{{ \'MYVOLUMIO.LANDING_FEATURE_CD_TEXT\' | translate }}</p></div><div class="feature__image"><img ng-src="{{\'app/assets-common/myvolumio-landing-feature-cd.jpg\'}}" alt="stack of CDs"></div></div></div></div></div></div>'),e.put("app/components/side-menu/elements/modal-alarm-clock.html",'<div class="modal-header"><h3 class="modal-title"><i class="fa fa-clock-o"></i> {{::modal.dataObj.name}}</h3></div><div class="modal-body"><div ng-if="!modal.playlistService.playlists || modal.playlistService.playlists.length === 0" translate="ALARM.CRATE_PLAYLIST_FIRST"></div><div ng-if="modal.playlistService.playlists && modal.playlistService.playlists.length" ng-repeat="alarm in modal.alarms track by $index" class="row alarm"><div class="col-xs-12 col-sm-6"><uib-timepicker ng-model="alarm.time" hour-step="1" minute-step="1" show-meridian="modal.showMeridian"></uib-timepicker></div><div class="col-xs-12 col-sm-6 pull-down"><input bs-switch="" ng-model="alarm.enabled" type="checkbox" switch-size="medium" switch-animate="false" switch-on-text="On" switch-off-text="Off" ng-true-value="true" ng-false-value="false"></div><div class="clearfix visible-xs-block"></div><div class="col-xs-12 col-sm-6 pull-down"><ui-select id="{{alarm.id}}" ng-model="alarm.playlist" search-enabled="false" append-to-body="false" theme="bootstrap"><ui-select-match class="ui-select-match" placeholder="{{\'COMMON.CHOOSE_PLAYLIST\' | translate}}">{{$select.selected}}</ui-select-match><ui-select-choices class="ui-select-choices" repeat="playlist in modal.playlistService.playlists track by $index"><div ng-bind-html="playlist"></div></ui-select-choices></ui-select></div><div class="col-xs-12 col-sm-6 pull-down"><button class="btn btn-danger" ng-click="modal.deleteAlarm(alarm)"><span translate="COMMON.DELETE"></span></button></div></div></div><div class="modal-footer"><button ng-if="!modal.playlistService.playlists || modal.playlistService.playlists.length === 0" class="btn btn-info" ng-click="modal.cancel()"><span translate="COMMON.OK"></span></button><div ng-if="modal.playlistService.playlists && modal.playlistService.playlists.length"><button class="btn btn-warning" ng-click="modal.cancel()"><span translate="COMMON.CANCEL"></span></button> <button class="btn btn-info" ng-click="modal.add()"><span translate="COMMON.ADD"></span></button> <button class="btn btn-info" ng-click="modal.save()"><span translate="COMMON.SAVE"></span></button></div></div>'),e.put("app/components/side-menu/elements/modal-karaoke.html",'<div class="modal-header"><h3 class="modal-title"><i class="fa fa-microphone"></i> Karaoke</h3></div><div class="modal-body"><h4>Karaoke function will work only with Karaoke Hardware.</h4><div class="row karaoke"><div class="col-sm-8"><h4>KARAOKE MODE</h4><input bs-switch="" ng-model="modal.karaokeEnabled" ng-change="modal.karaokeSwitch()" type="checkbox" switch-size="medium" switch-animate="false" switch-on-text="On" switch-off-text="Off" ng-true-value="true" ng-false-value="false"></div><div class="col-sm-8"><h4>MUSIC VOLUME</h4><button class="btn btn-info" ng-click="modal.musicVolumeMinus()">-</button> <button class="btn btn-info" ng-click="modal.musicVolumePlus()">+</button></div><div class="col-sm-8"><h4>MIC VOLUME</h4><button class="btn btn-info" ng-click="modal.micVolumeMinus()">-</button> <button class="btn btn-info" ng-click="modal.micVolumePlus()">+</button></div></div></div><div class="modal-footer"><button class="btn btn-info" ng-click="modal.exit()">Exit</button></div>'),e.put("app/components/side-menu/elements/modal-power-off.html",'<div class="modal-header"><h3 class="modal-title"><i class="fa fa-power-off"></i> {{modal.dataObj.name}}</h3></div><div class="modal-footer"><button class="btn btn-warning" ng-click="modal.cancel()"><span translate="COMMON.CANCEL"></span></button> <button class="btn btn-info" id="powerOffBtn" ng-click="modal.powerOff()"><span translate="COMMON.POWER_OFF"></span></button> <button ng-if="modal.themeManager.theme !== \'opera\'" class="btn btn-info" id="rebootBtn" ng-click="modal.reboot()"><span translate="COMMON.REBOOT_SYSTEM"></span></button></div>'),e.put("app/components/side-menu/elements/modal-sleep.html",'<div class="modal-header"><h3 class="modal-title"><i class="fa fa-bed"></i> {{modal.dataObj.name}}</h3></div><div class="modal-body sleep"><div class="row"><div class="col-sm-8"><h4 translate="COMMON.ACTION"></h4><ui-select id="whenSleep" ng-model="modal.action" search-enabled="false" append-to-body="false" theme="bootstrap"><ui-select-match class="ui-select-match" placeholder="">{{$select.selected.text}}</ui-select-match><ui-select-choices class="ui-select-choices" repeat="item in modal.whenSleepSelect track by $index"><div id="sleepOption-{{item.val}}" ng-bind-html="item.text"></div></ui-select-choices></ui-select></div><div class="col-sm-8"><uib-timepicker ng-model="modal.sleepTime" ng-change="modal.timeChanged()" hour-step="1" minute-step="1" show-meridian="modal.showMeridian"></uib-timepicker></div><div class="col-sm-6"><h4 translate="SLEEP.PRESET_TIMES"></h4><ui-select id="presetTime" ng-model="modal.sleepPreset" search-enabled="false" append-to-body="false" theme="bootstrap" on-select="modal.whenSleepPresetSelect()"><ui-select-match class="ui-select-match" placeholder="{{modal.preset_placeholder}}">{{$select.selected.text}}</ui-select-match><ui-select-choices class="ui-select-choices" repeat="preset in modal.sleepPresets track by $index"><div id="sleepPreset-{{preset.val}}" ng-bind-html="preset.text"></div></ui-select-choices></ui-select></div></div><div class="col-sm-8"><h4 translate="COMMON.ACTIVE"></h4><input bs-switch="" ng-model="modal.enabled" type="checkbox" switch-size="medium" switch-animate="false" switch-on-text="On" switch-off-text="Off" ng-true-value="true" ng-false-value="false"></div></div><div class="modal-footer"><button class="btn btn-warning" ng-click="modal.cancel()"><span translate="COMMON.CANCEL"></span></button> <button class="btn btn-info" ng-click="modal.setSleep()"><span translate="COMMON.SAVE"></span></button></div>'),e.put("app/components/track-manager/elements/track-manager-button-bar.html",'<favourite-track-btn></favourite-track-btn><button ng-class="{\'active\': trackManager.playerService.state.random}" ng-click="trackManager.playerService.shuffle()" class="btn btn-link" title="{{\'BROWSER.RANDOM\' | translate}}" ng-disabled="trackManager.playerService.state.disableUi"><i class="fa fa-random"></i></button> <button ng-class="{\'active\': trackManager.playerService.state.repeat}" ng-click="trackManager.playerService.repeatAlbum()" class="btn btn-link" title="{{\'BROWSER.REPEAT\' | translate}}" ng-disabled="trackManager.playerService.state.disableUi"><i class="fa fa-repeat"></i></button><add-track-to-playlist-btn></add-track-to-playlist-btn>'),e.put("app/plugin/core-plugin/elements/network-drives-add-edit-drive.html",'<div ng-if="networkDrives.inAddDrive"><div ng-if="!networkDrives.networkShares" class="text-center col-sm-12 col-sm-offset-6"><div class="alert alert-info" role="alert"><i class="fa fa-refresh fa-spin"></i> <span translate="NETWORKFS.SCANNING_FOR_NETWORK_DRIVES"></span></div></div><div ng-if="networkDrives.networkShares.nas.length === 0" class="text-center col-sm-12 col-sm-offset-6"><div class="alert alert-info" role="alert"><i class="fa fa-exclamation-circle"></i> <span translate="NETWORKFS.NO_DRIVES_FOUND"></span></div></div><div class="clearfix"></div><div ng-if="networkDrives.networkShares && networkDrives.networkShares.nas.length" class="row"><div class="col-sm-12 col-sm-offset-6"><uib-accordion close-others="true"><uib-accordion-group ng-repeat="share in networkDrives.networkShares.nas track by $index" is-open="networkDrives.accordionIsOpen[$index]" template-url="app/plugin/core-plugin/elements/network-drives-plugin-accordion.html"><uib-accordion-heading><i class="fa fa-plus" ng-if="!networkDrives.accordionIsOpen[$index]"></i> <i class="fa fa-minus" ng-if="networkDrives.accordionIsOpen[$index]"></i> {{share.name}} <i class="fa fa-hdd-o pull-right"></i></uib-accordion-heading><div class="radio" ng-repeat="disk in share.shares track by $index"><label><input type="radio" name="share-{{share.name}}" ng-checked="false" ng-value="disk" ng-model="networkDrives.selectedShare[$parent.$index]" ng-change="networkDrives.selectShare(share, disk)"> {{disk.sharename}}</label></div></uib-accordion-group></uib-accordion></div></div></div><form class="form-horizontal"><div class="form-group"><label for="{{networkDrives.drive.name}}" class="control-label"><span translate="NETWORKFS.ALIAS"></span></label><div class="control-item"><input id="{{networkDrives.drive.name}}" type="text" ng-model="networkDrives.drive.name" placeholder="{{\'NETWORKFS.PLACEHOLDER_NAME\' | translate}}" class="form-control"></div><div class="control-description"><span translate="NETWORKFS.ALIAS_DOC"></span></div></div><div class="form-group"><label for="{{networkDrives.drive.ip}}" class="control-label"><span translate="NETWORKFS.NAS_IP_ADDRESS"></span></label><div class="control-item"><input id="{{networkDrives.drive.ip}}" type="text" ng-model="networkDrives.drive.ip" placeholder="{{\'NETWORKFS.PLACEHOLDER_IP_ADDRESS\' | translate}}" class="form-control"></div><div class="control-description"><span translate="NETWORKFS.NAS_IP_ADDRESS_DOC"></span></div></div><div class="form-group"><label for="{{networkDrives.drive.path}}" class="control-label"><span translate="NETWORKFS.PATH"></span></label><div class="control-item"><input id="{{networkDrives.drive.path}}" type="text" ng-model="networkDrives.drive.path" placeholder="{{\'NETWORKFS.PLACEHOLDER_PATH_TO_SHARE\' | translate}}" class="form-control"></div><div class="control-description"><span translate="NETWORKFS.NAS_PATH_DOC"></span></div></div><div ng-show="networkDrives.advancedVisible"><div class="form-group"><label for="{{networkDrives.drive.fstype}}" class="control-label"><span translate="NETWORKFS.SHARE_TYPE"></span></label><div class="control-item"><ui-select id="{{item.id}}" ng-model="networkDrives.drive.fstype" search-enabled="false" append-to-body="true" theme="bootstrap"><ui-select-match class="ui-select-match" placeholder="Fs type">{{$select.selected}}</ui-select-match><ui-select-choices class="ui-select-choices" repeat="option in networkDrives.driveTypes track by $index"><div ng-bind-html="option"></div></ui-select-choices></ui-select></div></div><div class="form-group"><label for="{{networkDrives.drive.username}}" class="control-label"><span translate="NETWORKFS.USERNAME"></span></label><div class="control-item"><input id="{{networkDrives.drive.username}}" type="text" ng-model="networkDrives.drive.username" placeholder="{{\'NETWORKFS.USERNAME\' | translate}}" class="form-control"></div></div><div class="form-group"><label for="{{networkDrives.drive.password}}" class="control-label"><span translate="NETWORKFS.PASSWORD"></span></label><div class="control-item"><div class="input-group"><input id="{{networkDrives.drive.password}}" type="{{networkDrives.passwordInputType}}" ng-model="networkDrives.drive.password" placeholder="{{\'NETWORKFS.PASSWORD\' | translate}}" class="form-control"></div></div></div><div class="form-group"><label for="{{networkDrives.drive.options}}" class="control-label"><span translate="NETWORKFS.OPTIONS"></span></label><div class="control-item"><input id="{{networkDrives.drive.options}}" type="text" ng-model="networkDrives.drive.options" placeholder="{{\'NETWORKFS.OPTIONS\' | translate}}" class="form-control"></div></div></div><div class="form-group"><label class="control-label"></label><div class="control-item"><button ng-if="!networkDrives.advancedVisible" ng-click="networkDrives.advancedVisible = true" type="button" class="btn btn-info" title="{{\'NETWORKFS.SHOW_OPTIONS\' | translate}}"><span translate="NETWORKFS.SHOW_OPTIONS"></span></button> <button ng-if="networkDrives.advancedVisible" ng-click="networkDrives.advancedVisible = false" type="button" class="btn btn-warning" title="{{\'NETWORKFS.HIDE_OPTIONS\' | translate}}"><span translate="NETWORKFS.HIDE_OPTIONS"></span></button></div></div><div class="form-group"><label class="control-label"></label><div class="control-item"><button ng-click="networkDrives.cancelAddEditDrive()" type="button" class="btn btn-warning" title="{{\'COMMON.CANCEL\' | translate}}"><span translate="COMMON.CANCEL"></span></button> <button ng-click="networkDrives.saveAddEditDrive()" type="button" class="btn btn-info saveAddEditDrive" title="{{\'COMMON.SAVE\' | translate}}"><span translate="COMMON.SAVE"></span></button></div></div></form>'),
e.put("app/plugin/core-plugin/elements/network-drives-plugin-accordion.html",'<div class="panel {{panelClass || \'panel-default\'}}"><div class="panel-heading"><h4 class="panel-title"><div class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span uib-accordion-header="">{{heading}}</span></div></h4></div><div class="panel-collapse collapse" uib-collapse="!isOpen"><div class="panel-body" ng-transclude=""></div></div></div>'),e.put("app/plugin/core-plugin/modals/modal-network-drive-password.html",'<div class="modal-header"><h3 class="modal-title"><i class="fa fa-info-circle"></i> {{modal.dataObj.title}}</h3></div><div class="modal-body">{{modal.dataObj.message}}<br><form class="form" name="modal.drivePasswordForm" novalidate=""><div class="form-group"><label for="username" class="control-label"><span>Username</span></label> <input type="text" name="username" ng-model="modal.dataObj.username" class="form-control" required=""></div><div class="form-group"><label for="username" class="control-label"><span>Password</span></label><div class="input-group"><span class="input-group-addon clickable" ng-click="modal.togglePasswordVisibility()"><i ng-if="modal.passwordInputType === \'password\'" class="fa fa-eye" aria-hidden="true"></i> <i ng-if="modal.passwordInputType === \'input\'" class="fa fa-eye-slash" aria-hidden="true"></i></span> <input type="{{modal.passwordInputType}}" name="password" ng-model="modal.dataObj.password" class="form-control" required=""></div></div></form></div><div class="modal-footer"><button class="btn btn-warning" ng-click="modal.cancel()"><span translate="COMMON.CANCEL"></span></button> <button class="btn btn-info" ng-click="modal.save()"><span translate="COMMON.SAVE"></span></button></div>'),e.put("app/plugin-manager/components/modals/modal-plugin-installer.html",'<div class="modal-header"><h3 class="modal-title">{{::modal.dataObj.title}}</h3></div><div class="modal-body" ng-if="modal.dataObj"><p ng-bind-html="modal.dataObj.message"></p><div><uib-progressbar class="progress-striped active" value="modal.dataObj.progress" ng-if="modal.dataObj.progress !== 100" type="default">{{modal.dataObj.progress}}%</uib-progressbar></div><div ng-if="modal.dataObj.advancedLog"><a href="" ng-click="modal.toggleAdvancedLog()" ng-if="modal.dataObj.progress !== 100"><span ng-if="!modal.showAdvancedLog" translate="PLUGINS.SHOW_DETAILS"></span> <span ng-if="modal.showAdvancedLog" translate="PLUGINS.HIDE_DETAILS"></span></a><div ng-show="modal.showAdvancedLog" id="advancedLogWrapper"><p ng-bind-html="modal.dataObj.advancedLog"></p></div></div></div><div class="modal-footer"><button ng-class="button.class" ng-repeat="button in modal.dataObj.buttons track by $index" ng-click="modal.btnClick(button)">{{::button.name}}</button></div>'),e.put("app/themes/volumio/browse/volumio-browse.html",'<div id="browse" class="boxTable" browse-scroll-manager=""><track-info-bar ng-if="!browse.matchmediaService.isPhone"></track-info-bar><div class="panel panel-default"><div id="browsePanelHeading" class="panel-heading"><div class="navButtons pull-left" ng-include="" src="\'app/browse/components/browse-nav-buttons.html\'"></div><div class="searchBox" ng-include="" src="\'app/browse/components/browse-search-box.html\'"></div><div class="clearfix"></div></div><div id="browseTablesWrapper"><div ng-if="!browse.browseService.isBrowsing && !browse.browseService.isSearching" ng-include="" src="\'app/browse/components/browse-table-sources.html\'"></div><div ng-if="browse.browseService.isBrowsing || browse.browseService.isSearching" ng-include="" src="\'app/browse/components/browse-table-items.html\'"></div></div></div></div>'),e.put("app/themes/volumio/browse-music/volumio-browse-music.html",'<div id="browse" class="boxTable" browse-scroll-manager=""><div class="panel panel-default"><div class="browse-header-container browse-music__browse-header-container"><div ng-if="!browse.isDedicatedSearchView" id="browsePanelHeading" class="panel-heading browse-header"><div class="navButtons pull-left" ng-include="" src="\'app/browse/components/browse-nav-buttons.html\'"></div><div class="searchBox" ng-include="" src="\'app/browse/components/browse-search-box.html\'"></div><div class="clearfix"></div></div></div><div class="dedicated-search-container" ng-if="browse.isDedicatedSearchView"><div class="dedicated-search" ng-include="" src="\'app/browse/components/browse-search-box.html\'"></div></div><div class="dedicated-search-container-flow-space" ng-if="browse.isDedicatedSearchView"></div><div class="body-content new-browse" ng-class="{ \'with-search-header\': browse.isDedicatedSearchView }"><div id="browseTablesWrapper"><div ng-if="!browse.browseService.isBrowsing && !browse.browseService.isSearching" ng-include="" src="\'app/browse-music/components/browse-sources.html\'"></div><div ng-if="browse.browseService.info"><div ng-if="browse.browseService.info.type === \'artist\'" ng-include="" src="\'app/browse-music/components/browse-artist.html\'"></div><div ng-if="browse.browseService.info.type === \'album\' || browse.browseService.info.type === \'song\' || browse.browseService.info.type === \'playlist\' || browse.browseService.info.type === \'cd\'" ng-include="" src="\'app/browse-music/components/browse-album.html\'"></div></div><div id="browse-page"></div></div></div></div></div>'),e.put("app/themes/volumio/footer/volumio-footer.html",'<div ng-if="footer.isSocketReady" class="footerContent"><ng-include src="\'app/themes/volumio/partials/volumio-tab-bar.html\'" ng-if="!footer.matchmediaService.isPhone"></ng-include><div ng-if="footer.matchmediaService.isPhone" id="phoneFooter"><div><volume-manager type="slider"></volume-manager><player-buttons></player-buttons></div><side-menu></side-menu></div></div>'),e.put("app/themes/volumio/header/volumio-header.html",'<div ng-if="header.isSocketReady" class="headerContent"><div ng-if="!header.matchmediaService.isPhone"><div id="logo"><img ng-src="{{variantAssetsUrl}}/graphics/{{variant}}-logo.png" alt="{{header.themeManager.theme}}" ui-sref="redirect"></div><div><player-buttons></player-buttons><side-menu></side-menu></div></div><ng-include src="\'app/themes/volumio/partials/volumio-tab-bar.html\'" ng-if="header.matchmediaService.isPhone"></ng-include></div><div ng-if="!header.isSocketReady"><div class="logout-container" ng-if="header.authService.user !== null"><button class="btn btn-danger btn-small btn-labeled" ng-click="header.logout()"><span class="glyphicon glyphicon-log-out"></span> {{\'MYVOLUMIO.LOGOUT\' | translate}}</button></div><div class="languageContainer"><ui-select ng-model="header.language" ng-change="header.changeLanguage()" search-enabled="false" ng-readonly="true" append-to-body="false" theme="bootstrap"><ui-select-match class="ui-select-match" placeholder="">{{$select.selected.label}}</ui-select-match><ui-select-choices class="ui-select-choices" repeat="language in header.languages track by $index"><div ng-bind-html="language.label"></div></ui-select-choices></ui-select></div></div>'),e.put("app/themes/volumio/layout/volumio-layout.html",'<wait-backend-scrim></wait-backend-scrim><div id="wizardScrim"></div><div class="container-fluid"><header id="header" ui-view="header"></header><div id="contentWrapper" ng-class="state.current.url" hm-swipeleft="layout.swipeLeft()" hm-swiperight="layout.swipeRight()" hm-recognizer-options=\'[{"directions":"DIRECTION_LEFT|DIRECTION_RIGHT", "threshold": 50}]\'><div id="content" ng-class="state.current.url" ui-view="content"></div></div><footer id="footer" ui-view="footer"></footer></div>'),e.put("app/themes/volumio/partials/volumio-tab-bar.html",'<div class="tabBar"><button ui-sref="volumio.browse" ng-mouseenter="hover = \'browse\'" ng-mouseleave="hover = \'\'" class="btn btn-default browseBtn" ng-class="{selected: state.current.name === \'volumio.browse\'}" title="{{\'COMMON.TAB_BROWSE\' | translate}}"><img ng-if="!footer.playerService.state.updatedb" ng-src="{{variantAssetsUrl}}/icons/browse{{(hover === \'browse\' || state.current.name === \'volumio.browse\')?\'-selected\':\'\'}}.svg" alt="{{\'COMMON.TAB_BROWSE\' | translate}}"> <i ng-if="footer.playerService.state.updatedb" class="fa fa-refresh fa-spin"></i> <span translate="COMMON.TAB_BROWSE"></span></button> <button ui-sref="volumio.playback" class="btn btn-default playbackBtn" ng-mouseenter="hover = \'playback\'" ng-mouseleave="hover = \'\'" ng-class="{selected: state.current.name === \'volumio.playback\'}" title="{{\'COMMON.TAB_PLAYBACK\' | translate}}"><img ng-src="{{variantAssetsUrl}}/icons/playback{{(hover === \'playback\' || state.current.name === \'volumio.playback\')?\'-selected\':\'\'}}.svg" alt="{{\'COMMON.TAB_PLAYBACK\' | translate}}"> <span translate="COMMON.TAB_PLAYBACK"></span></button> <button ui-sref="volumio.play-queue" class="btn btn-default queueBtn" ng-mouseenter="hover = \'queue\'" ng-mouseleave="hover = \'\'" ng-class="{selected: state.current.name === \'volumio.play-queue\'}" title="{{\'COMMON.TAB_QUEUE\' | translate}}"><img ng-src="{{variantAssetsUrl}}/icons/queue{{(hover === \'queue\' || state.current.name === \'volumio.play-queue\')?\'-selected\':\'\'}}.svg" alt="{{\'COMMON.TAB_QUEUE\' | translate}}"> <span translate="COMMON.TAB_QUEUE"></span></button></div>'),e.put("app/themes/volumio/play-queue/volumio-play-queue.html",'<div id="playQueue"><track-info-bar ng-if="!playQueue.matchmediaService.isPhone"></track-info-bar><track-info-bar-buttons ng-if="playQueue.matchmediaService.isPhone"></track-info-bar-buttons><div id="playQueueList"><ul></ul></div></div>'),e.put("app/themes/volumio/playback/volumio-playback.html",'<div id="playbackPanelWrapper"><div id="leftPanel"><track-manager type="knob"></track-manager></div><div ng-if="!playback.matchmediaService.isPhone" id="centerPanel"><track-info></track-info></div><div ng-if="!playback.matchmediaService.isPhone" id="rightPanel"><volume-manager type="knob"></volume-manager></div></div><multi-room-dock></multi-room-dock>'),e.put("app/themes/volumio3/browse/volumio3-browse.html",'<div id="browse" class="boxTable" browse-scroll-manager=""><div class="panel panel-default"><div class="browse-header-container"><div ng-if="!browse.isDedicatedSearchView" id="browsePanelHeading" class="panel-heading browse-header"><div class="navButtons pull-left" ng-include="" src="\'app/browse/components/browse-nav-buttons.html\'"></div><div class="searchBox" ng-include="" src="\'app/browse/components/browse-search-box.html\'"></div><div class="clearfix"></div></div></div><div class="dedicated-search-container" ng-if="browse.isDedicatedSearchView"><div class="dedicated-search" ng-include="" src="\'app/browse/components/browse-search-box.html\'"></div></div><div class="dedicated-search-container-flow-space" ng-if="browse.isDedicatedSearchView"></div><div class="body-content" ng-class="{ \'with-search-header\': browse.isDedicatedSearchView }"><div id="browseTablesWrapper"><div ng-if="!browse.browseService.isBrowsing && !browse.browseService.isSearching" ng-include="" src="\'app/browse/components/browse-table-sources.html\'"></div><div ng-if="browse.browseService.isBrowsing || browse.browseService.isSearching" ng-include="" src="\'app/browse/components/browse-table-items.html\'"></div></div></div></div></div>'),e.put("app/themes/volumio3/browse-music/volumio3-browse-music.html",'<div id="browse" class="boxTable" browse-scroll-manager=""><div class="panel panel-default"><div class="browse-header-container browse-music__browse-header-container"><div ng-if="!browse.isDedicatedSearchView" id="browsePanelHeading" class="panel-heading browse-header"><div class="navButtons pull-left" ng-include="" src="\'app/browse/components/browse-nav-buttons.html\'"></div><div class="searchBox" ng-include="" src="\'app/browse/components/browse-search-box.html\'"></div><div class="clearfix"></div></div></div><div class="dedicated-search-container" ng-if="browse.isDedicatedSearchView"><div class="dedicated-search" ng-include="" src="\'app/browse/components/browse-search-box.html\'"></div></div><div class="dedicated-search-container-flow-space" ng-if="browse.isDedicatedSearchView"></div><div class="body-content new-browse" ng-class="{ \'with-search-header\': browse.isDedicatedSearchView }"><div id="browseTablesWrapper"><div ng-if="!browse.browseService.isBrowsing && !browse.browseService.isSearching" ng-include="" src="\'app/browse-music/components/browse-sources.html\'"></div><div ng-if="browse.browseService.info && !browse.hideInfoHeader"><div ng-if="browse.browseService.info.type === \'artist\'" ng-include="" src="\'app/browse-music/components/browse-artist.html\'"></div><div ng-if="browse.browseService.info.type === \'album\' || browse.browseService.info.type === \'song\' || browse.browseService.info.type === \'playlist\' || browse.browseService.info.type === \'cd\'" ng-include="" src="\'app/browse-music/components/browse-album.html\'"></div></div><div id="browse-page"></div></div></div></div></div>'),e.put("app/themes/volumio3/footer/volumio3-footer.html",'<div ng-if="footer.isSocketReady" id="footer-content"><div id="player-bar" ng-class="{\'playback-bar\': footer.showPlayerFooter}"><div ng-class="{\'row\': true, \'hidden-xs hidden-sm\': footer.showPlayerFooter}"><div class="lined-seekbar col-xs-24 hidden-md hidden-lg hidden-xl"><player-seekbar></player-seekbar></div><div class="track-info-container col-xs-16 col-md-8 col-xs-push-4 col-md-push-0"><track-info is-in-footer="true"></track-info></div><div class="controls-container col-xs-4 col-md-8 col-xs-pull-16 col-md-pull-0 padding-0"><player-buttons is-in-footer="true"></player-buttons><player-seekbar class="hidden-xs hidden-sm"></player-seekbar></div><div class="volume-container col-xs-4 col-md-6 row"><volume-manager is-on-footer="true"></volume-manager></div><div class="play-mode-container col-md-2 hidden-xs hidden-sm"><div id="queueOutputButtonsContainer"><button ui-sref="volumio.play-queue" class="btn btn-link play-queue-button" ng-mouseenter="hover = \'queue\'" ng-mouseleave="hover = \'\'" ng-class="{selected: this.$state.current.name === \'volumio.play-queue\'}" title="{{\'COMMON.TAB_QUEUE\' | translate}}"><i class="material-icons">playlist_play</i></button> <button id="openMenuBtn" ng-click="audioOutputs.toggleMenu()" ng-disabled="!audioOutputs.isMultiOutputsAvailable()" class="btn btn-link audio-outputs-button" title="{{\'MULTIDEVICE.AUDIO_OUTPUTS_AND_ZONES\' | translate}}"><i class="material-icons">speaker_group</i></button><div></div></div></div></div><ng-include ng-class="{\'hidden-xs hidden-sm\': footer.showPlayerFooter}" id="tab-bar" class="col-xs-24 hidden-md hidden-lg hidden-xl" src="\'app/themes/volumio3/partials/volumio3-tab-bar.html\'"></ng-include><ng-include ng-class="{\'hidden-md hidden-lg hidden-xl\': footer.showPlayerFooter}" id="playback-tab-bar" class="col-xs-24 hidden-md hidden-lg hidden-xl" src="\'app/themes/volumio3/partials/volumio3-playback-tab-bar.html\'"></ng-include></div></div><audio-outputs class="zoneBtn"></audio-outputs>'),e.put("app/themes/volumio3/header/volumio3-header.html",""),e.put("app/themes/volumio3/home/volumio3-home.html",'<div class="box"><div class="boxHeader"><div class="title"><h2 translate="HOME"></h2><a href="https://volumio.org/" target="_blank" class="btn btn-outline pull-right" id="myvolumio-info"><i class="fa fa-question"></i> <span class="hidden-xs" translate="VOLUMIO"></span></a></div></div><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-home"></i> <span translate="HOME"></span></h3></div><div class="panel-body"><h4>Discover all your best music and streams</h4></div></div></div>'),e.put("app/themes/volumio3/layout/volumio3-layout.html",'<wait-backend-scrim></wait-backend-scrim><div id="wizardScrim"></div><div id="layout-container" class="container-fluid"><div class="row main-container" ng-class="[ state.current.url, layout.isWithPlaybackBar ? \'with-playback-bar\' : \'\' ]"><main-menu id="main-menu-container" class="hidden-sm col-md-4" ng-if="!layout.matchmediaService.isPhone"></main-menu><div id="contentWrapper" class="col-xs-24 col-md-20" ng-class="[ layout.wrapperColumnClass, state.current.url ]" hm-swipeleft="layout.swipeLeft()" hm-swiperight="layout.swipeRight()" hm-recognizer-options=\'[{"directions":"DIRECTION_LEFT|DIRECTION_RIGHT", "threshold": 50}]\'><div id="content" ng-class="state.current.url" ui-view="content"></div></div></div><footer id="footer-container" ui-view="footer"></footer></div>'),e.put("app/themes/volumio3/partials/volumio3-playback-tab-bar.html",'<div class="tabBar"><button ui-sref="volumio.play-queue" ng-mouseenter="hover = \'queue\'" ng-mouseleave="hover = \'\'" class="btn btn-default tab-bar-btn queueBtn" ng-class="{selected: state.current.name === \'volumio.queue\'}" title="{{\'COMMON.TAB_QUEUE\' | translate}}"><i class="material-icons md-24">playlist_play</i> <span class="label" translate="COMMON.TAB_QUEUE"></span></button> <button ng-click="audioOutputs.toggleMenu()" class="btn btn-default tab-bar-btn searchBtn" ng-mouseenter="hover = \'search\'" ng-mouseleave="hover = \'\'" ng-class="{selected: state.current.name === \'volumio.outputs\'}" ng-disabled="!audioOutputs.isMultiOutputsAvailable()" title="{{\'COMMON.TAB_OUTPUTS\' | translate}}"><i class="material-icons md-24">speaker</i> <span class="label" translate="COMMON.TAB_OUTPUTS"></span></button> <button class="btn btn-default tab-bar-btn"><volume-manager is-on-footer="true"></volume-manager></button></div>'),e.put("app/themes/volumio3/partials/volumio3-tab-bar.html",'<div class="tabBar"><button ui-sref="volumio.browse" ng-mouseenter="hover = \'browse\'" ng-mouseleave="hover = \'\'" class="btn btn-default tab-bar-btn browseBtn" ng-class="{selected: state.current.name === \'volumio.browse\'}" title="{{\'COMMON.TAB_BROWSE\' | translate}}"><i ng-if="!footer.playerService.state.updatedb" class="material-icons md-24">music_note</i> <i ng-if="footer.playerService.state.updatedb" class="fa fa-refresh fa-spin"></i> <span class="label" translate="COMMON.TAB_BROWSE"></span></button> <button ui-sref="volumio.search" class="btn btn-default tab-bar-btn searchBtn" ng-mouseenter="hover = \'search\'" ng-mouseleave="hover = \'\'" ng-class="{selected: state.current.name === \'volumio.search\'}" title="{{\'COMMON.TAB_SEARCH\' | translate}}"><i class="material-icons md-24">search</i> <span class="label" translate="COMMON.TAB_SEARCH"></span></button> <button ui-sref="volumio.settings" class="btn btn-default tab-bar-btn" ng-mouseenter="hover = \'settings\'" ng-mouseleave="hover = \'\'" ng-class="{selected: state.current.name === \'volumio.settings\'}" title="{{\'COMMON.SETTINGS\' | translate}}"><i class="material-icons md-24">settings</i> <span class="label" translate="COMMON.SETTINGS"></span></button></div>'),e.put("app/themes/volumio3/play-queue/volumio3-play-queue.html",'<div id="playQueue"><track-info-bar-buttons></track-info-bar-buttons><div id="playQueueList"><ul></ul></div></div>'),e.put("app/themes/volumio3/playback/volumio3-playback.html",'<div id="playbackPanelWrapper" class="row hidden-xs hidden-sm"><div id="leftPanel"><track-manager type="knob"></track-manager></div><div ng-if="!playback.matchmediaService.isPhone" id="centerPanel"><track-info></track-info></div><div ng-if="!playback.matchmediaService.isPhone" id="rightPanel"><volume-manager type="knob"></volume-manager></div></div><div id="playbackPanelWrapper" class="row mobile hidden-md hidden-lg hidden-xl" style="display: flex; flex-direction: column;"><div id="goBackPanelWrapper" class="col-xs-24 text-center" style="flex-shrink: 0;"><a ng-click="playback.goBack()"><i id="closePlaybackPanelWrapper" class="material-icons">arrow_drop_down</i></a></div><div id="albumartContainer" class="col-sm-24 col-sm-offset-0" style="flex-grow: 1;"><div ng-if="playback.playerService.state.albumart" class="cover-art-container"><img ng-if="playback.playerService.state.albumart" ng-src="{{playback.playerService.albumart}}" alt="{{playback.playerService.state.album}}"> <i ng-if="playback.playerService.state.icon" ng-class="playback.playerService.state.icon"></i></div></div><div class="col-xs-24" style="flex-shrink: 0;"><div class="row"><div class="col-xs-24 text-center track-info-container"><track-info is-in-footer="true"></track-info></div><div class="col-xs-24 track-info-rates text-center"><span class="track-info-type" ng-if="playback.playerService.state.trackType !== \'webradio\'"><img ng-if="playback.playerService.state.fileFormat" ng-src="{{\'/app/themes/volumio3/assets/format-icons/\' + playback.playerService.state.fileFormat.url + \'.svg\'}}" alt="{{playback.playerService.state.fileFormat.name}}"> <span ng-if="!playback.playerService.state.fileFormat">{{playback.playerService.state.playback}}</span></span> <span>{{playback.playerService.state.samplerate}}</span> <span ng-if="playback.playerService.state.bitdepth">{{playback.playerService.state.bitdepth}}</span> <span ng-if="!playback.playerService.state.bitdepth && !playback.playerService.state.samplerate && playback.playerService.state.bitrate">{{playback.playerService.state.bitrate}}</span></div><div class="col-xs-24 track-button-container"><div id="trackButtonBar" class="btn-group" ng-include="" src="\'app/themes/volumio3/components/track-manager/elements/volumio3-track-manager-button-bar.html\'"></div></div><div class="col-xs-22 col-xs-offset-1 col-sm-16 col-sm-offset-4 player-seekbar-container"><player-seekbar></player-seekbar></div><div class="col-xs-24 player-buttons-container"><player-buttons></player-buttons></div></div></div></div><multi-room-dock></multi-room-dock>'),e.put("app/themes/volumio3/settings/volumio3-settings.html",'<div class="panel panel-default myvolumio-card-container visible-xs visible-sm" ng-if="settings.isAuthActive() && settings.isMyVolumioVisible()"><div class="panel-body"><my-volumio-user-card></my-volumio-user-card></div></div><div class="setting-container panel panel-default"><div class="panel-heading"><h2 class="panel-title"><i class="fa fa-cog"></i> <span translate="COMMON.SETTINGS"></span></h2></div><div class="panel-body"><div class="row"><div class="col-xs-24"><ul class="nav nav-pills nav-stacked settings-nav"><li><a ng-repeat="item in settings.menuItems track by $index" ng-click="settings.itemClick(item)" ng-if="item.id !== \'my-volumio\'">{{item.name}}</a></li></ul><div class="hardwareToggleCheckbox" ng-if="::settings.uiSettingsService.uiSettings.settings.checkboxes.analogInput"><input type="checkbox" ng-model="settings.analogIn" ng-click="settings.toggleAnalogInput()"> <span translate="settings.ANALOG_INPUT"></span></div><div class="hardwareToggleCheckbox" ng-if="::settings.uiSettingsService.uiSettings.settings.checkboxes.bluetooth"><input type="checkbox" ng-model="settings.bluetooth" ng-click="settings.toggleBluetooth()"> <span translate="settings.BLUETOOTH"></span></div><div class="side-logo img-responsive" ng-if="::settings.uiSettingsService.uiSettings.settings.showLogo"><img ng-src="{{variantAssetsUrl}}/graphics/{{variant}}-logo-sidebar.png" alt="{{header.themeManager.theme}}"></div></div></div></div></div>'),e.put("app/components/myvolumio/components/card/myvolumio-card.html",'<div class="my-volumio__user-card"><div class="my-volumio__user-card__user" ng-if="myVolumioUserCardController.user != null" ng-click="myVolumioUserCardController.goToProfile()"><my-volumio-avatar-image class="my-volumio__user-card__user-avatar"></my-volumio-avatar-image><div class="mr-2 flex-grow-1 min-width-trick"><div ng-if="myVolumioUserCardController.isUserFilledWithMandatory()" class="my-volumio__user-card__user-name">{{ myVolumioUserCardController.user.firstName }}</div><div class="my-volumio__user-card__user-name" ng-if="!myVolumioUserCardController.isUserFilledWithMandatory()" translate="MYVOLUMIO.LOGGED_BY_SOCIAL"></div><div class="my-volumio__user-card__user-plan capitalize">{{ myVolumioUserCardController.user.plan || \'MyVolumio Free\' }}</div></div><div class="my-volumio__user-card__action-icon"><img src="app/assets-common/user-car-arrow-right.svg" alt="Arrow right"></div></div><div ng-if="myVolumioUserCardController.user && !myVolumioUserCardController.user.plan" class="my-volumio__user-card__promo"><button ng-click="myVolumioUserCardController.upgradePlan()" class="my-volumio__btn btn__ghost btn__dark mb-2">{{ \'MYVOLUMIO.UPGRADE_MYVOLUMIO\' | translate }}</button><div class="d-flex align-items-center small"><span class="mr-2">♡</span> <span>{{ \'MYVOLUMIO.SUPPORT_MYVOLUMIO_SHORT\' | translate }}</span></div></div><div class="my-volumio__user-card__user" ng-if="myVolumioUserCardController.user == null" ng-click="myVolumioUserCardController.signUp()"><div class="my-volumio__user-card__user-avatar"><img src="app/assets-common/myvolumio-avatar.svg" alt="MyVolumio avatar image"></div><div class="mr-2 flex-grow-1 min-width-trick"><div class="my-volumio__user-card__user-name">{{ \'MYVOLUMIO.MY_VOLUMIO\' | translate }}</div><div class="my-volumio__user-card__user-plan capitalize">{{ \'MYVOLUMIO.NOT_CONNECTED\' | translate }}</div></div><div class="my-volumio__user-card__action-icon"><img src="app/assets-common/user-car-arrow-right.svg" alt="Arrow right"></div></div><div ng-if="myVolumioUserCardController.user == null" href="#" ng-click="myVolumioUserCardController.clickTooltip($event)" ng-mouseleave="myVolumioUserCardController.closeTooltip()" class="my-volumio__user-card__promo my-volumio__tooltip"><div class="mr-2">{{ \'MYVOLUMIO.MORE_INFO\' | translate }}</div><span class="my-volumio__info-tooltip__icon"><img src="app/assets-common/myvolumio-more-info.svg" alt="Info"> <span ng-if="myVolumioUserCardController.tooltipShowing" class="my-volumio__info-tooltip__tip"></span></span><div ng-if="myVolumioUserCardController.tooltipShowing" class="my-volumio__tooltip-content left">{{ \'MYVOLUMIO.MORE_INFO_DESCRIPTION\' | translate }}</div></div></div>'),e.put("app/components/myvolumio/components/device-selector/device-selector.html",'<div id="device-selector"><table class="table tableSmall"><tr><th><span translate="MYVOLUMIO.DEVICE_NAME"></span></th><th ng-if="!myVolumioDeviceSelectorController.isPhone"><span ng-if="!myVolumioDeviceSelectorController.isPhone" translate="MYVOLUMIO.DEVICE_TYPE"></span></th><th><span translate="MYVOLUMIO.DEVICE_ENABLED"></span></th><th></th></tr><tr ng-if="device.name" ng-repeat="device in myVolumioDeviceSelectorController.devices"><td>{{device.name}}</td><td ng-if="!myVolumioDeviceSelectorController.isPhone">{{device.device}}</td><td><input bs-switch="" ng-model="device.enabled" type="checkbox" switch-animate="true" ng-change="myVolumioDeviceSelectorController.toggleAbilitationAfterChange(device)"></td><td class="commandCol"><button ng-click="myVolumioDeviceSelectorController.gotoDevice(device)" ng-class="{invisible: !device.enabled || !device.online}" type="button" class="btn btn-info" title="{{ \'MYVOLUMIO.OPEN_DEVICE\' | translate}}"><i class="fa fa-play"></i></button> <button ng-if="!myVolumioDeviceSelectorController.isPhone" ng-click="myVolumioDeviceSelectorController.deleteDevice(device)" type="button" class="btn btn-danger" title="{{ \'MYVOLUMIO.DELETE_DEVICE\' | translate}}"><i class="fa fa-trash"></i></button></td></tr></table></div>'),e.put("app/components/myvolumio/components/paddle-pay-button/paddle-pay-button.html",'<div class="collapse__panel mb-4"><input class="collapse__checkbox" hidden="" type="checkbox" id="collapsePanel"> <label for="collapsePanel" class="collapse__panel__header d-flex align-items-center focus__helper" tabindex="7"><img class="collapse__indicator d-block mr-2" src="app/assets-common/collapse-indicator.svg" alt="Collapse"> {{ \'MYVOLUMIO.HAVE_COUPON_CODE\' | translate }}</label><div class="collapse__panel__content"><div class="form-group my-volumio__form-group"><input ng-model="paddlePayButtonController.couponCode" ng-change="paddlePayButtonController.onCouponCodeChange(paddlePayButtonController.couponCode)" type="text" id="coupon" class="form-control input-lg my-volumio__border-round my-volumio__text-input" placeholder="{{ \'MYVOLUMIO.COUPON_CODE\' | translate }}" tabindex="4"></div></div></div><button ng-click="paddlePayButtonController.handlePayment()" class="btn btn-lg btn-success" ng-class="paddlePayButtonController.buttonClass"><i ng-class="[paddlePayButtonController.btnIconClass]"></i> <span ng-if="paddlePayButtonController.isTrial && !paddlePayButtonController.couponCode" translate="MYVOLUMIO.TRY_FOR_FREE"></span> <span ng-if="!paddlePayButtonController.isTrial || paddlePayButtonController.couponCode">{{paddlePayButtonController.buttonLabel}}</span></button>'),e.put("app/components/myvolumio/components/stripe-pay-button/stripe-pay-button.html",'<button ng-click="stripePayButtonController.handlePayment()" class="btn btn-lg btn-success" ng-class="stripePayButtonController.buttonClass"><i ng-class="[stripePayButtonController.btnIconClass]"></i> {{stripePayButtonController.buttonLabel}}</button>'),e.put("app/components/myvolumio/modals/auth-paying-modal/auth-paying-modal.html",'<div id="myvolumio-paying-modal"><div class="modal-header"><h3 class="modal-title">{{::modal.dataObj.title}}</h3></div><div class="modal-body"><h4 translate="MYVOLUMIO.PAYING"></h4><p translate="MYVOLUMIO.PAYING_DESC"></p></div><div class="modal-footer"></div></div>'),e.put("app/components/myvolumio/modals/myvolumio-paying-modal/myvolumio-paying-modal.html",'<div id="myvolumio-paying-modal"><div class="modal-header"><h3 class="modal-title">{{::modal.dataObj.title}}</h3></div><div class="modal-body"><h4 translate="MYVOLUMIO.PAYING"></h4><p translate="MYVOLUMIO.PAYING_DESC"></p></div><div class="modal-footer"></div></div>'),e.put("app/components/myvolumio/modals/myvolumio-terms-modal/myvolumio-terms-modal.html",'<div id="myvolumio-terms-modal"><div class="modal-header"><h3 class="modal-title">{{::modal.dataObj.title}}</h3></div><div class="modal-body"><div ng-include="\'app/components/myvolumio/templates/terms-and-conditions.html\'"></div></div><div class="modal-footer"><button class="btn btn-warning" ng-click="modal.cancel()">{{\'COMMON.CLOSE\' | translate}}</button></div></div>'),e.put("app/components/track-manager/components/modals/modal-track-manager-actions.html",'<div class="modal-body trackManagerActionSheet text-center"><button class="btn btn-link playerControls" ng-class="{\'active\': modal.playerService.state.random}" ng-click="modal.playerService.shuffle()" title="{{\'TRACK_INFO_BAR.RANDOM\' | translate}}"><i class="fa fa-random"></i></button> <button ng-if="!modal.playerService.state.repeat" class="btn btn-link playerControls" ng-class="{\'active\': modal.playerService.state.repeat}" ng-click="modal.playerService.repeatAlbum(true, false)" title="{{\'TRACK_INFO_BAR.REPEAT_ALL\' | translate}}"><i class="fa fa-repeat"></i></button> <button ng-if="modal.playerService.state.repeat && !modal.playerService.state.repeatSingle" class="btn btn-link playerControls" ng-class="{\'active\': modal.playerService.state.repeat}" ng-click="modal.playerService.repeatAlbum(true, true)" title="{{\'TRACK_INFO_BAR.REPEAT_SINGLE\' | translate}}"><i class="fa fa-repeat"></i></button> <button ng-if="modal.playerService.state.repeat && modal.playerService.state.repeatSingle" class="btn btn-link playerControls" ng-class="{\'active\': modal.playerService.state.repeat}" ng-click="modal.playerService.repeatAlbum(false, false)" title="{{\'TRACK_INFO_BAR.REPEAT_OFF\' | translate}}"><i class="fa fa-repeat">1</i></button><favourite-track-btn></favourite-track-btn><add-track-to-playlist-btn></add-track-to-playlist-btn><button class="btn btn-info btn-block" ng-class="{ \'disabled\': modal.creditsLoading || modal.creditsError }" ng-click="modal.getAlbumCredits()"><span ng-if="!modal.creditsLoading && !modal.creditsError"><i class="fa fa-info mr-2"></i> {{ \'BROWSER.ALBUM_CREDITS\' | translate }}</span> <span ng-if="!modal.creditsLoading && modal.creditsError"><i class="fa fa-info"></i> {{ \'BROWSER.NOT_FOUND\' | translate }}</span><div ng-if="modal.creditsLoading" class="lds-ellipsis"><div></div><div></div><div></div><div></div></div></button> <button class="btn btn-info btn-block" ng-class="{ \'disabled\': modal.albumStoryLoading || modal.albumStoryError }" ng-click="modal.getAlbumStory()"><span ng-if="!modal.albumStoryLoading && !modal.albumStoryError"><i class="fa fa-bullseye mr-2"></i> {{ \'BROWSER.ALBUM_STORY\' | translate }}</span> <span ng-if="!modal.albumStoryLoading && modal.albumStoryError"><i class="fa fa-info"></i> {{ \'BROWSER.NOT_FOUND\' | translate }}</span><div ng-if="modal.albumStoryLoading" class="lds-ellipsis"><div></div><div></div><div></div><div></div></div></button> <button class="btn btn-info btn-block" ng-class="{ \'disabled\': modal.artistStoryLoading || modal.artistError }" ng-click="modal.getArtistStory()"><span ng-if="!modal.artistStoryLoading && !modal.artistError"><i class="fa fa-users mr-2"></i> {{ \'BROWSER.ARTIST_STORY\' | translate }}</span> <span ng-if="!modal.artistStoryLoading && modal.artistError"><i class="fa fa-users"></i> {{ \'BROWSER.NOT_FOUND\' | translate }}</span><div ng-if="modal.artistStoryLoading" class="lds-ellipsis"><div></div><div></div><div></div><div></div></div></button><div class="d-flex spacer mb-4"></div><button class="btn btn-info btn-block" ng-if="modal.playerService.state.artist" ng-click="modal.goTo(\'artist\')"><i class="fa fa-user mr-2"></i> <span translate="TRACK_MANAGER.GO_TO_ARTIST"></span></button> <button class="btn btn-info btn-block" ng-if="modal.playerService.state.album" ng-click="modal.goTo(\'album\')"><i class="fa fa-bullseye mr-2"></i> <span translate="TRACK_MANAGER.GO_TO_ALBUM"></span></button><div class="d-flex spacer mb-4"></div><button class="btn btn-twitter btn-block" ng-if="modal.playerService.state.album && modal.uiSettingsService.uiSettings.trackManagerButtonBar.actions.twitter !== false" ng-click="modal.tweetTrack(modal.uiSettingsService.uiSettings.trackManagerButtonBar.actions.twitterData)"><i class="fa fa-twitter mr-2"></i> <span translate="TRACK_MANAGER.TWEET_TRACK"></span></button> <button class="btn btn-warning btn-block" ng-click="modal.cancel()"><span translate="COMMON.CLOSE"></span></button></div>'),
e.put("app/themes/volumio/components/add-track-to-playlist-btn/volumio-add-track-to-playlist-btn.html",'<button ng-click="addTrackToPlaylistBtn.addToPlaylist()" class="btn btn-link" title="{{\'BROWSER.ADD_TO_PLAYLIST\' | translate}}" ng-disabled="addTrackToPlaylistBtn.playerService.state.disableUi"><i class="fa fa-plus"></i></button>'),e.put("app/themes/volumio/components/favourite-track-btn/volumio-favourite-track-btn.html",'<button ng-class="{\'active\': favouriteTrackBtn.playerService.favourite.favourite}" ng-click="favouriteTrackBtn.toggleFavouriteTrack()" ng-mouseover="favouriteTrackBtn.hoverHeart = true" ng-mouseleave="favouriteTrackBtn.hoverHeart = false" class="btn btn-link" title="{{\'BROWSER.ADD_TO_FAVOURITES\' | translate}}" ng-disabled="favouriteTrackBtn.playerService.state.disableUi"><i ng-hide="favouriteTrackBtn.playerService.favourite.favourite || favouriteTrackBtn.hoverHeart" class="fa fa-heart-o"></i> <i ng-show="favouriteTrackBtn.playerService.favourite.favourite || favouriteTrackBtn.hoverHeart" class="fa fa-heart"></i></button>'),e.put("app/themes/volumio/components/modals/modal-ripper.html",'<div class="modal-header"><h3 class="modal-title">{{::modal.dataObj.title}}</h3></div><div class="modal-body"><div ng-if="::modal.dataObj.content"><span ng-bind-html="modal.dataObj.content"></span></div><div ng-if="::modal.dataObj.artist || modal.dataObj.album"><h4>CD Informations</h4><form novalidate="" name="modal.form" class="form-horizontal"><div class="row ripper-row"><div class="col-xs-24 col-sm-18"><div class="row ripper-row"><div class="form-group" ng-if="::modal.dataObj.artist"><label for="artist" class="col-xs-3 col-sm-3 control-label">{{\'COMMON.ARTIST\' | translate}}</label><div class="col-xs-24 col-sm-21"><input ng-model="modal.dataObj.artist" type="text" class="form-control col-xs-18" id="artist" placeholder="Artist"></div></div></div><div class="row ripper-row"><div class="form-group" ng-if="::modal.dataObj.album"><label for="album" class="col-xs-3 col-sm-3 control-label">{{\'COMMON.ALBUM\' | translate}}</label><div class="col-xs-24 col-sm-21"><input ng-model="modal.dataObj.album" type="text" class="form-control" id="album" placeholder="Album"></div></div></div><div class="row ripper-row"><div class="form-group" ng-if="::modal.dataObj.genre"><label for="album" class="col-xs-3 col-sm-3 control-label">{{\'COMMON.GENRE\' | translate}}</label><div class="col-xs-24 col-sm-21"><input ng-model="modal.dataObj.genre" type="text" class="form-control" id="genre" placeholder="Genre"></div></div></div><div class="row ripper-row"><div class="form-group" ng-if="::modal.dataObj.year"><label for="album" class="col-xs-3 col-sm-3 control-label">{{\'COMMON.YEAR\' | translate}}</label><div class="col-xs-24 col-sm-21"><input ng-model="modal.dataObj.year" type="text" class="form-control" id="year" placeholder="Year"></div></div></div></div><div class="col-xs-24 col-sm-6"><img ng-src="{{modal.playerService.getAlbumart(modal.dataObj.albumart)}}" id="ripper-album" alt=""> <button class="btn btn-default" id="ripper-uploadAlbum" ngf-select="modal.uploadCDAlbumart()" ng-model="modal.albumart">{{\'COMMON.UPDATE_ALBUMART\' | translate}}</button></div></div><div class="row ripper-row"><div ng-if="::modal.dataObj.tracks"><h4>{{\'COMMON.SONGS\' | translate}}</h4><div ng-repeat="track in modal.dataObj.tracks track by track.number" class="form-group"><label class="col-xs-2 control-label">{{$index+1}}</label><div class="col-xs-22"><input ng-model="modal.dataObj.tracks[$index].title" type="text" class="form-control" placeholder="track"></div></div></div></div></form><div ng-if="modal.dataObj.availableDrives && modal.dataObj.availableDrives.length"><div class="row"><div class="col-md-12 col-xs-22"><h4>{{::modal.dataObj.ripLocationMessage}}</h4></div><div class="col-md-12 col-xs-22"><ui-select id="drive" ng-model="modal.availableDrives" search-enabled="false" append-to-body="false" theme="bootstrap" on-select="modal.dataObj.destinationDrive=$select.selected"><ui-select-match class="ui-select-match" placeholder="{{modal.dataObj.availableDrives[0].name}}">{{$select.selected.name}}</ui-select-match><ui-select-choices class="ui-select-choices" repeat="item in modal.dataObj.availableDrives track by $index"><div id="{{item.name}}" ng-bind-html="item.name"></div></ui-select-choices></ui-select></div></div></div><div ng-if="modal.dataObj.availableDrives && !modal.dataObj.availableDrives.length"><div class="row"><div class="col-md-22 col-xs-22"><h4>{{::modal.dataObj.ripLocationMessage}}</h4></div></div></div></div></div><div class="modal-footer"><button class="btn btn-warning" ng-click="modal.cancel()">{{\'COMMON.CANCEL\' | translate}}</button> <button class="btn btn-default" ng-if="modal.dataObj.rippingAvailable" ng-click="modal.startToRipCd()">{{\'COMMON.RIP\' | translate}}</button></div>'),e.put("app/themes/volumio/components/multi-room-dock/volumio-multi-room-dock.html",'<div class="row" ng-if="multiRoomDock.multiRoomService.devices.length > 1"><div id="multiRoomDockWrapper"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-sitemap"></i> Multiroom devices</h3></div><div class="panel-body"><div ng-repeat="device in multiRoomDock.multiRoomService.devices track by $index" class="device" ng-click="multiRoomDock.changeDevice(device)" ng-if="multiRoomDock.showDevice(device)"><div ng-class="{\'child\': device.isChild, \'isSelf\': device.isSelf}"><div class="deviceIcon"><img ng-src="{{device.state.albumart}}"></div><div class="deviceDetails"><div class="deviceName">{{device.name}}</div><div class="artist">{{device.state.artist}}</div><div class="track">{{device.state.track}}</div></div></div></div></div></div></div></div>'),e.put("app/themes/volumio/components/player-buttons/volumio-player-buttons.html",'<div id="playerButtons"><button ng-if="!playerButtons.playerService.state.enableSkip" ng-click="playerButtons.playerService.prev()" class="btn btn-link" title="{{\'BROWSER.PREVIOUS_TRACK\' | translate}}" ng-disabled="playerButtons.playerService.state.disableUi"><i class="fa fa-step-backward"></i></button> <button ng-if="playerButtons.playerService.state.enableSkip" ng-click="playerButtons.playerService.skipBackwards()" class="btn btn-link" title="{{\'BROWSER.SKIP_BACKWARDS\' | translate}}" ng-disabled="playerButtons.playerService.state.disableUi"><i class="fa fa-backward">15</i></button><div class="playPauseBtnWrapper"><div class="playPauseBtnGreyWrapper"><button ng-if="playerButtons.playerService.state.status !== \'play\' && !playerButtons.playerService.state.volatile" ng-click="playerButtons.playerService.play()" class="btn btn-link playPause play" title="{{\'BROWSER.PLAY\' | translate}}" ng-disabled="playerButtons.playerService.state.disableUi"><i class="fa fa-play"></i></button> <button ng-if="playerButtons.playerService.state.status !== \'play\' && playerButtons.playerService.state.volatile" ng-click="playerButtons.playerService.volatilePlay()" class="btn btn-link playPause play" title="{{\'BROWSER.PLAY\' | translate}}" ng-disabled="playerButtons.playerService.state.disableUi"><i class="fa fa-play"></i></button> <button ng-if="playerButtons.playerService.state.status === \'play\' && playerButtons.playerService.state.trackType !== \'webradio\'" ng-click="playerButtons.playerService.pause()" class="btn btn-link playPause" ng-class="{active: playerButtons.playerService.state.status === \'play\'}" title="{{\'BROWSER.PAUSE\' | translate}}" ng-disabled="playerButtons.playerService.state.disableUi"><i class="fa fa-pause"></i></button> <button ng-if="playerButtons.playerService.state.status === \'play\' && playerButtons.playerService.state.trackType === \'webradio\'" ng-click="playerButtons.playerService.stop()" class="btn btn-link playPause" ng-class="{active: playerButtons.playerService.state.status === \'stop\'}" ng-disabled="playerButtons.playerService.state.disableUi"><i class="fa fa-stop"></i></button></div></div><button ng-if="!playerButtons.playerService.state.enableSkip" ng-click="playerButtons.playerService.next()" class="btn btn-link" title="{{\'BROWSER.NEXT_TRACK\' | translate}}" ng-disabled="playerButtons.playerService.state.disableUi"><i class="fa fa-step-forward"></i></button> <button ng-if="playerButtons.playerService.state.enableSkip" ng-click="playerButtons.playerService.skipForward()" class="btn btn-link" title="{{\'BROWSER.SKIP_FORWARD\' | translate}}" ng-disabled="playerButtons.playerService.state.disableUi">15 <i class="fa fa-forward"></i></button></div>'),e.put("app/themes/volumio/components/track-actions-btn/volumio-track-actions-btn.html",'<button ng-click="trackActionsBtn.trackActions()" class="btn btn-link" title="{{\'BROWSER.GO_TO_SHARE\' | translate}}" ng-disabled="trackActionsBtn.playerService.state.disableUi"><i class="fa fa-ellipsis-h"></i></button>'),e.put("app/themes/volumio/components/track-info/volumio-track-info.html",'<div id="trackInfo"><div id="trackDetails"><div id="trackInfo-album" ng-if="trackInfo.playerService.state.album" title="{{\'COMMON.ALBUM\' | translate}}">{{trackInfo.playerService.state.album}}</div><br><div id="trackInfo-title" ng-if="trackInfo.playerService.state.title" title="{{\'COMMON.SONG\' | translate}}">{{trackInfo.playerService.state.title}}</div><br><div id="trackInfo-artist" ng-if="trackInfo.playerService.state.artist" title="{{\'COMMON.ARTIST\' | translate}}">{{trackInfo.playerService.state.artist}}</div></div><div ng-if="trackInfo.playerService.state.albumart"><img ng-if="trackInfo.playerService.state.albumart" ng-src="{{trackInfo.playerService.albumart}}" alt="{{trackInfo.playerService.state.album}}"> <i ng-if="trackInfo.playerService.state.icon" ng-class="trackInfo.playerService.state.icon"></i></div></div><div class="clearfix"></div>'),e.put("app/themes/volumio/components/track-manager/volumio-track-manager.html",'<div id="trackManagerWrapper" ng-style="trackManager.backgroundAlbumArtStyle"><div id="trackManager"><div ng-if="trackManager.matchmediaService.isPhone" id="trackDetails"><div id="trackInfo-album" ng-if="trackManager.playerService.state.album">{{trackManager.playerService.state.album}}</div><br><div id="trackInfo-title" ng-if="trackManager.playerService.state.title">{{trackManager.playerService.state.title}}</div><br><div id="trackInfo-artist" ng-if="trackManager.playerService.state.artist">{{trackManager.playerService.state.artist}}</div></div><div class="knobWrapper"><div class="knobInfosWrapper"><div class="headerText"><div><span>{{trackManager.playerService.state.samplerate}}</span> <span ng-if="trackManager.playerService.state.bitdepth">| {{trackManager.playerService.state.bitdepth}}</span> <span ng-if="!trackManager.playerService.state.bitdepth && !trackManager.playerService.state.samplerate && trackManager.playerService.state.bitrate">{{trackManager.playerService.state.bitrate}}</span></div></div><div class="bigText"><span ng-if="trackManager.playerService.state.trackType !== \'webradio\' && trackManager.playerService.state.service !== \'analogin\' && trackManager.playerService.state.trackType !== \'inputs\'">{{trackManager.playerService.elapsedTimeString}}</span><div ng-if="trackManager.playerService.state.trackType === \'webradio\'" class="webRadioLabel">{{trackManager.playerService.state.trackType}}</div></div><div class="smallText">{{trackManager.playerService.songLength}}</div><div class="footerText"><span ng-if="trackManager.playerService.state.trackType !== \'webradio\' && trackManager.playerService.state.trackType !== \'inputs\'"><img ng-if="trackManager.playerService.state.fileFormat" ng-src="{{\'/app/themes/volumio/assets/format-icons/\' + trackManager.playerService.state.fileFormat.url + \'.svg\'}}" alt="{{trackManager.playerService.state.fileFormat.name}}"> <span ng-if="!trackManager.playerService.state.fileFormat">{{trackManager.playerService.state.trackType}}</span></span></div></div><div ng-if="trackManager.playerService.state.trackType === \'webradio\' || trackManager.playerService.state.disableUi" class="fakePulsingKnob"></div><knob ng-show="trackManager.playerService.state.trackType !== \'webradio\' && trackManager.playerService.state.disableUi === false" value="trackManager.playerService.seekPercent" on-change="trackManager.onChange(value)" options="trackManager.knobOptions" type="track"></knob></div><div id="trackButtonBar" class="btn-group" ng-include="" src="\'app/themes/volumio/components/track-manager/elements/volumio-track-manager-button-bar.html\'"></div></div></div>'),e.put("app/themes/volumio/components/volume-manager/volumio-volume-manager.html",'<div class="volumeSliderScrim" ng-if="volumeManager.showVerticalSlider" ng-click="volumeManager.toggleVolumeSlider()"></div><div ng-if="!volumeManager.matchmediaService.isPhone" class="volumeManager"><div class="knobWrapper"><div class="knobInfosWrapper"><div class="headerText green"><span ng-if="volumeManager.playerService.state.mute" translate="COMMON.VOLUME_MUTED"></span></div><div class="bigText">{{volumeManager.playerService.volume}}</div><div class="smallText">/100</div></div><knob value="volumeManager.playerService.volume" options="volumeManager.knobOptions" type="volume"></knob></div><div id="volumeButtonBar" class="btn-group"><button ng-click="volumeManager.playerService.volumeDown()" class="btn btn-link" title="{{\'COMMON.VOLUME_DOWN\' | translate}}" ng-disabled="volumeManager.playerService.state.disableVolumeControl"><i class="fa fa-volume-down"></i></button> <button ng-click="volumeManager.toggleMute()" class="btn btn-link" ng-class="{selected: volumeManager.playerService.state.mute}" ng-disabled="volumeManager.playerService.state.disableVolumeControl" title="{{\'COMMON.VOLUME_MUTE\' | translate}}"><i class="fa fa-volume-off"></i></button> <button ng-click="volumeManager.playerService.volumeUp()" class="btn btn-link" title="{{\'COMMON.VOLUME_UP\' | translate}}" ng-disabled="volumeManager.playerService.state.disableVolumeControl"><i class="fa fa-volume-up"></i></button></div></div><div ng-if="volumeManager.matchmediaService.isPhone" class="volumeManager"><div class="volumeSliderWrapper" ng-show="volumeManager.showVerticalSlider"><div class="bigText">{{volumeManager.playerService.volume}}</div><div class="smallText">/100</div><button ng-click="volumeManager.playerService.volumeUp()" class="btn btn-link" title="{{\'COMMON.VOLUME_UP\' | translate}}" ng-disabled="volumeManager.playerService.state.disableVolumeControl"><i class="fa fa-volume-up"></i></button><slider class="volumeSlider" id="volumeVerticalSlider" ng-class="{disabled: volumeManager.playerService.state.mute}" ng-model="volumeManager.playerService.volume" min="0" step="5" max="100" slider-tooltip="hide" reversed="true" ng-disabled="volumeManager.playerService.state.disableVolumeControl" orientation="vertical"></slider><button ng-click="volumeManager.playerService.volumeDown()" class="btn btn-link" title="{{\'COMMON.VOLUME_DOWN\' | translate}}" ng-disabled="volumeManager.playerService.state.disableVolumeControl"><i class="fa fa-volume-down"></i></button></div><button id="openVolumeVerticalSlider" ng-click="volumeManager.toggleVolumeSlider()" ng-disabled="volumeManager.playerService.state.disableVolumeControl" class="btn btn-link"><i class="fa fa-volume-up"></i></button></div>'),e.put("app/themes/volumio3/components/add-track-to-playlist-btn/volumio3-add-track-to-playlist-btn.html",'<button ng-click="addTrackToPlaylistBtn.addToPlaylist()" class="btn btn-link" title="{{\'BROWSER.ADD_TO_PLAYLIST\' | translate}}" ng-disabled="addTrackToPlaylistBtn.playerService.state.disableUi"><i class="fa fa-plus"></i></button>'),e.put("app/themes/volumio3/components/favourite-track-btn/volumio3-favourite-track-btn.html",'<button ng-class="{\'active\': favouriteTrackBtn.playerService.favourite.favourite}" ng-click="favouriteTrackBtn.toggleFavouriteTrack()" ng-mouseover="favouriteTrackBtn.hoverHeart = true" ng-mouseleave="favouriteTrackBtn.hoverHeart = false" class="btn btn-link" title="{{\'BROWSER.ADD_TO_FAVOURITES\' | translate}}" ng-disabled="favouriteTrackBtn.playerService.state.disableUi"><i ng-hide="favouriteTrackBtn.playerService.favourite.favourite || favouriteTrackBtn.hoverHeart" class="fa fa-heart-o"></i> <i ng-show="favouriteTrackBtn.playerService.favourite.favourite || favouriteTrackBtn.hoverHeart" class="fa fa-heart"></i></button>'),e.put("app/themes/volumio3/components/logo/volumio3-logo.html",'<div ng-if="!header.isSocketReady"><div class="logout-container" ng-if="header.authService.user !== null"><button class="btn btn-danger btn-small btn-labeled" ng-click="header.logout()"><span class="glyphicon glyphicon-log-out"></span> {{\'MYVOLUMIO.LOGOUT\' | translate}}</button></div><div class="languageContainer"><ui-select ng-model="header.language" ng-change="header.changeLanguage()" search-enabled="false" ng-readonly="true" append-to-body="false" theme="bootstrap"><ui-select-match class="ui-select-match" placeholder="">{{$select.selected.label}}</ui-select-match><ui-select-choices class="ui-select-choices" repeat="language in header.languages track by $index"><div ng-bind-html="language.label"></div></ui-select-choices></ui-select></div></div>'),e.put("app/themes/volumio3/components/main-menu/volumio3-main-menu.html",'<div id="main-menu"><div class="logo"><img ng-src="{{mainMenu.variantAssetsUrl}}/graphics/{{mainMenu.variant}}-logo.png" alt="{{mainMenu.themeManager.variant}}-logo" ui-sref="redirect"></div><div ng-if="mainMenu.isAuthActive()" class="myvolumio-card-container"><my-volumio-user-card></my-volumio-user-card></div><div class="main-menu-list-container"><ul class="main-menu-list"><li ng-class="{active: source.active}" ng-repeat="source in mainMenu.sources track by source.uri"><a href="" ng-click="mainMenu.goTo(source)">{{source.name}} <span ng-if="source.uri === \'music-library\' && mainMenu.playerService.state.updatedb"><i class="fa fa-refresh fa-spin"></i></span> <span class="static-source-icon" ng-if="source.static && source.active"><i class="material-icons">radio_button_checked</i></span> <span class="static-source-icon" ng-if="source.static && !source.active"><i class="material-icons">radio_button_unchecked</i></span></a></li><div class="spacer"></div><li><a ui-sref="volumio.settings"><span translate="COMMON.SETTINGS"></span></a></li><li ng-repeat="item in mainMenu.menuItemsMainMenuLinks track by item.name"><a href="" ng-click="mainMenu.menuItemsMainMenuLinksClick(item)">{{item.name}}</a></li></ul></div></div>'),e.put("app/themes/volumio3/components/modals/modal-ripper.html",'<div class="modal-header"><h3 class="modal-title">{{::modal.dataObj.title}}</h3></div><div class="modal-body"><div ng-if="::modal.dataObj.content"><span ng-bind-html="modal.dataObj.content"></span></div><div ng-if="::modal.dataObj.artist || modal.dataObj.album"><h4>CD Informations</h4><form novalidate="" name="modal.form" class="form-horizontal"><div class="row ripper-row"><div class="col-xs-24 col-sm-18"><div class="row ripper-row"><div class="form-group" ng-if="::modal.dataObj.artist"><label for="artist" class="col-xs-3 col-sm-3 control-label">{{\'COMMON.ARTIST\' | translate}}</label><div class="col-xs-24 col-sm-21"><input ng-model="modal.dataObj.artist" type="text" class="form-control col-xs-18" id="artist" placeholder="Artist"></div></div></div><div class="row ripper-row"><div class="form-group" ng-if="::modal.dataObj.album"><label for="album" class="col-xs-3 col-sm-3 control-label">{{\'COMMON.ALBUM\' | translate}}</label><div class="col-xs-24 col-sm-21"><input ng-model="modal.dataObj.album" type="text" class="form-control" id="album" placeholder="Album"></div></div></div><div class="row ripper-row"><div class="form-group" ng-if="::modal.dataObj.genre"><label for="album" class="col-xs-3 col-sm-3 control-label">{{\'COMMON.GENRE\' | translate}}</label><div class="col-xs-24 col-sm-21"><input ng-model="modal.dataObj.genre" type="text" class="form-control" id="genre" placeholder="Genre"></div></div></div><div class="row ripper-row"><div class="form-group" ng-if="::modal.dataObj.year"><label for="album" class="col-xs-3 col-sm-3 control-label">{{\'COMMON.YEAR\' | translate}}</label><div class="col-xs-24 col-sm-21"><input ng-model="modal.dataObj.year" type="text" class="form-control" id="year" placeholder="Year"></div></div></div></div><div class="col-xs-24 col-sm-6"><img ng-src="{{modal.playerService.getAlbumart(modal.dataObj.albumart)}}" id="ripper-album" alt=""> <button class="btn btn-default" id="ripper-uploadAlbum" ngf-select="modal.uploadCDAlbumart()" ng-model="modal.albumart">{{\'COMMON.UPDATE_ALBUMART\' | translate}}</button></div></div><div class="row ripper-row"><div ng-if="::modal.dataObj.tracks"><h4>{{\'COMMON.SONGS\' | translate}}</h4><div ng-repeat="track in modal.dataObj.tracks track by track.number" class="form-group"><label class="col-xs-2 control-label">{{$index+1}}</label><div class="col-xs-22"><input ng-model="modal.dataObj.tracks[$index].title" type="text" class="form-control" placeholder="track"></div></div></div></div></form><div ng-if="modal.dataObj.availableDrives && modal.dataObj.availableDrives.length"><div class="row"><div class="col-md-12 col-xs-22"><h4>{{::modal.dataObj.ripLocationMessage}}</h4></div><div class="col-md-12 col-xs-22"><ui-select id="drive" ng-model="modal.availableDrives" search-enabled="false" append-to-body="false" theme="bootstrap" on-select="modal.dataObj.destinationDrive=$select.selected"><ui-select-match class="ui-select-match" placeholder="{{modal.dataObj.availableDrives[0].name}}">{{$select.selected.name}}</ui-select-match><ui-select-choices class="ui-select-choices" repeat="item in modal.dataObj.availableDrives track by $index"><div id="{{item.name}}" ng-bind-html="item.name"></div></ui-select-choices></ui-select></div></div></div><div ng-if="modal.dataObj.availableDrives && !modal.dataObj.availableDrives.length"><div class="row"><div class="col-md-22 col-xs-22"><h4>{{::modal.dataObj.ripLocationMessage}}</h4></div></div></div></div></div><div class="modal-footer"><button class="btn btn-warning" ng-click="modal.cancel()">{{\'COMMON.CANCEL\' | translate}}</button> <button class="btn btn-default" ng-if="modal.dataObj.rippingAvailable" ng-click="modal.startToRipCd()">{{\'COMMON.RIP\' | translate}}</button></div>'),e.put("app/themes/volumio3/components/multi-room-dock/volumio3-multi-room-dock.html",'<div class="row" ng-if="multiRoomDock.multiRoomService.devices.length > 1 && !multiRoomDock.multiRoomService.isVolumio3Theme()"><div id="multiRoomDockWrapper"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-sitemap"></i> Multiroom devices</h3></div><div class="panel-body"><div ng-repeat="device in multiRoomDock.multiRoomService.devices track by $index" class="device" ng-click="multiRoomDock.changeDevice(device)" ng-if="multiRoomDock.showDevice(device)"><div ng-class="{\'child\': device.isChild, \'isSelf\': device.isSelf}"><div class="deviceIcon"><img ng-src="{{device.state.albumart}}"></div><div class="deviceDetails"><div class="deviceName">{{device.name}}</div><div class="artist">{{device.state.artist}}</div><div class="track">{{device.state.track}}</div></div></div></div></div></div></div></div>'),e.put("app/themes/volumio3/components/on-cloud-actions/volumio3-on-cloud-actions.html",""),e.put("app/themes/volumio3/components/player-buttons/volumio3-player-buttons.html",'<div id="playerButtons" ng-class="!playerButtons.isInFooter ? \'mobile-playback\' : \'footer-control\'"><button ng-if="!playerButtons.playerService.state.repeat" class="btn btn-link playerControls repeat-button" ng-class="{\'active\': playerButtons.playerService.state.repeat, \'hidden-xs hidden-sm\': playerButtons.isInFooter}" ng-click="playerButtons.playerService.repeatAlbum(true, false)" title="{{\'TRACK_INFO_BAR.REPEAT_ALL\' | translate}}" ng-disabled="trackManager.playerService.state.disableUi"><i class="fa fa-repeat"></i></button> <button ng-if="playerButtons.playerService.state.repeat && !playerButtons.playerService.state.repeatSingle" class="btn btn-link playerControls repeat-button" ng-class="{\'active\': playerButtons.playerService.state.repeat, \'hidden-xs hidden-sm\': playerButtons.isInFooter}" ng-click="playerButtons.playerService.repeatAlbum(true, true)" title="{{\'TRACK_INFO_BAR.REPEAT_SINGLE\' | translate}}" ng-disabled="trackManager.playerService.state.disableUi"><i class="fa fa-repeat"></i></button> <button ng-if="playerButtons.playerService.state.repeat && playerButtons.playerService.state.repeatSingle" class="btn btn-link playerControls repeat-button" ng-class="{\'active\': playerButtons.playerService.state.repeat, \'hidden-xs hidden-sm\': playerButtons.isInFooter}" ng-click="playerButtons.playerService.repeatAlbum(false, false)" title="{{\'TRACK_INFO_BAR.REPEAT_OFF\' | translate}}" ng-disabled="trackManager.playerService.state.disableUi"><i class="fa fa-repeat">1</i></button> <button id="prev-button" ng-click="playerButtons.playerService.prev()" class="btn btn-link" ng-class="{\'hidden-xs hidden-sm\': playerButtons.isInFooter}" title="{{\'BROWSER.PREVIOUS_TRACK\' | translate}}" ng-disabled="playerButtons.playerService.state.disableUi"><i class="fa fa-step-backward"></i></button><div class="playPauseBtnWrapper"><div class="playPauseBtnGreyWrapper"><button ng-if="playerButtons.playerService.state.status !== \'play\' && !playerButtons.playerService.state.volatile" ng-click="playerButtons.playerService.play()" class="btn btn-link playPause play" title="{{\'BROWSER.PLAY\' | translate}}" ng-disabled="playerButtons.playerService.state.disableUi"><i class="fa fa-play"></i></button> <button ng-if="playerButtons.playerService.state.status !== \'play\' && playerButtons.playerService.state.volatile" ng-click="playerButtons.playerService.volatilePlay()" class="btn btn-link playPause play" title="{{\'BROWSER.PLAY\' | translate}}" ng-disabled="playerButtons.playerService.state.disableUi"><i class="fa fa-play"></i></button> <button ng-if="playerButtons.playerService.state.status === \'play\' && playerButtons.playerService.state.trackType !== \'webradio\'" ng-click="playerButtons.playerService.pause()" class="btn btn-link playPause" ng-class="{active: playerButtons.playerService.state.status === \'play\'}" title="{{\'BROWSER.PAUSE\' | translate}}" ng-disabled="playerButtons.playerService.state.disableUi"><i class="fa fa-pause"></i></button> <button ng-if="playerButtons.playerService.state.status === \'play\' && playerButtons.playerService.state.trackType === \'webradio\'" ng-click="playerButtons.playerService.stop()" class="btn btn-link playPause" ng-class="{active: playerButtons.playerService.state.status === \'stop\'}" ng-disabled="playerButtons.playerService.state.disableUi"><i class="fa fa-stop"></i></button></div></div><button id="next-button" ng-click="playerButtons.playerService.next()" class="btn btn-link" ng-class="{\'hidden-xs hidden-sm\': playerButtons.isInFooter}" title="{{\'BROWSER.NEXT_TRACK\' | translate}}" ng-disabled="playerButtons.playerService.state.disableUi"><i class="fa fa-step-forward"></i></button> <button class="btn btn-link" id="shuffle-button" ng-click="playerButtons.playerService.shuffle()" ng-class="{\'active\': playerButtons.playerService.state.random, \'player-action-shuffle\': true, \'hidden-xs hidden-sm\': playerButtons.isInFooter}" title="{{\'TRACK_INFO_BAR.RANDOM\' | translate}}" ng-disabled="trackManager.playerService.state.disableUi"><i class="fa fa-random"></i></button></div>'),e.put("app/themes/volumio3/components/player-seekbar/volumio3-player-seekbar.html",'<div class="row player-seekbar" ng-if="playerSeekBar.getDuration() != null"><div class="col-md-24" ng-if="!playerSeekBar.matchmedia.isPhone"><div class="time-label pull-left">{{playerSeekBar.getElapsed()}}</div><div class="time-label pull-right">{{playerSeekBar.getDuration()}}</div><div class="clear: both"></div></div><div class="col-md-24 seekbar-container" style="display: flex; flex-direction: row;"><div ng-if="playerSeekBar.matchmedia.isPhone" class="time-left">{{playerSeekBar.getElapsed()}}</div><div style="flex-grow: 1;"><slider ng-model="playerSeekBar.seekPercent" min="0" step="1" max="1001" reversed="" formatter="playerSeekBar.getElapsed()"></slider></div><div ng-if="playerSeekBar.matchmedia.isPhone" class="time-right">{{playerSeekBar.getDuration()}}</div></div></div>'),e.put("app/themes/volumio3/components/track-actions-btn/volumio3-track-actions-btn.html",'<button ng-click="trackActionsBtn.trackActions()" class="btn btn-link" title="{{\'BROWSER.GO_TO_SHARE\' | translate}}" ng-disabled="trackActionsBtn.playerService.state.disableUi"><i class="fa fa-ellipsis-h"></i></button>'),e.put("app/themes/volumio3/components/track-info/volumio3-track-info.html",'<div id="trackInfo-compact" ng-if="trackInfo.isInFooter"><div ng-if="trackInfo.playerService.state.albumart" class="trackInfo-album-art-wrapper hidden-xs hidden-sm"><img class="album-art" ng-if="trackInfo.playerService.state.albumart" ng-src="{{trackInfo.playerService.albumart}}" alt="{{trackInfo.playerService.state.album}}" ui-sref="volumio.playback"> <i ng-if="trackInfo.playerService.state.icon" ng-class="trackInfo.playerService.state.icon"></i></div><div id="trackInfo-title" class="text-with-dots" ng-if="trackInfo.playerService.state.title" title="{{\'COMMON.SONG\' | translate}}" ui-sref="volumio.playback">{{trackInfo.playerService.state.title}}</div><div id="trackInfo-artist-album" ui-sref="volumio.playback" class="text-with-dots"><span id="trackInfo-artist" ng-if="trackInfo.playerService.state.artist" title="{{\'COMMON.ARTIST\' | translate}}">{{trackInfo.playerService.state.artist}}</span><span id="trackInfo-album" ng-if="trackInfo.playerService.state.album" title="{{\'COMMON.ALBUM\' | translate}}">- {{trackInfo.playerService.state.album}}</span></div><div class="track-info-actions-n-rates hidden-xs hidden-sm"><div class="track-user-actions pull-right"><track-actions-btn style="float: none !important; display: inline;"></track-actions-btn></div><div class="track-info-rates"><span class="track-info-type" ng-if="trackInfo.playerService.state.trackType !== \'webradio\'"><img ng-if="trackInfo.playerService.state.fileFormat" ng-src="{{\'/app/themes/volumio3/assets/format-icons/\' + trackInfo.playerService.state.fileFormat.url + \'.svg\'}}" alt="{{trackInfo.playerService.state.fileFormat.name}}"> <span ng-if="!trackInfo.playerService.state.fileFormat">{{trackInfo.playerService.state.trackType}}</span></span> <span>{{trackInfo.playerService.state.samplerate}}</span> <span ng-if="trackInfo.playerService.state.bitdepth">{{trackInfo.playerService.state.bitdepth}}</span> <span ng-if="!trackInfo.playerService.state.bitdepth && !trackInfo.playerService.state.samplerate && trackInfo.playerService.state.bitrate">{{trackInfo.playerService.state.bitrate}}</span></div></div><div class="clear"></div></div><div id="trackInfo" ng-if="!trackInfo.isInFooter"><div id="trackDetails"><div id="trackInfo-album" ng-if="trackInfo.playerService.state.album" title="{{\'COMMON.ALBUM\' | translate}}">{{trackInfo.playerService.state.album}}</div><br><div id="trackInfo-title" ng-if="trackInfo.playerService.state.title" title="{{\'COMMON.SONG\' | translate}}">{{trackInfo.playerService.state.title}}</div><br><div id="trackInfo-artist" ng-if="trackInfo.playerService.state.artist" title="{{\'COMMON.ARTIST\' | translate}}">{{trackInfo.playerService.state.artist}}</div></div><div ng-if="trackInfo.playerService.state.albumart"><img ng-if="trackInfo.playerService.state.albumart" ng-src="{{trackInfo.playerService.albumart}}" alt="{{trackInfo.playerService.state.album}}"> <i ng-if="trackInfo.playerService.state.icon" ng-class="trackInfo.playerService.state.icon"></i></div></div><div class="clearfix"></div>'),e.put("app/themes/volumio3/components/track-manager/volumio3-track-manager.html",'<div id="trackManagerWrapper" ng-style="trackManager.backgroundAlbumArtStyle"><div id="trackManager"><div ng-if="trackManager.matchmediaService.isPhone" id="trackDetails"><div id="trackInfo-album" ng-if="trackManager.playerService.state.album">{{trackManager.playerService.state.album}}</div><br><div id="trackInfo-title" ng-if="trackManager.playerService.state.title">{{trackManager.playerService.state.title}}</div><br><div id="trackInfo-artist" ng-if="trackManager.playerService.state.artist">{{trackManager.playerService.state.artist}}</div></div><div class="knobWrapper"><div class="knobInfosWrapper"><div class="headerText"><div><span>{{trackManager.playerService.state.samplerate}}</span> <span ng-if="trackManager.playerService.state.bitdepth">| {{trackManager.playerService.state.bitdepth}}</span></div></div><div class="bigText"><span ng-if="trackManager.playerService.state.trackType !== \'webradio\' && trackManager.playerService.state.service !== \'analogin\'">{{trackManager.playerService.elapsedTimeString}}</span><div ng-if="trackManager.playerService.state.trackType === \'webradio\'" class="webRadioLabel">{{trackManager.playerService.state.trackType}}</div></div><div class="smallText">{{trackManager.playerService.songLength}}</div><div class="footerText"><span ng-if="trackManager.playerService.state.trackType !== \'webradio\'"><img ng-if="trackManager.playerService.state.fileFormat" ng-src="{{\'/app/themes/volumio3/assets/format-icons/\' + trackManager.playerService.state.fileFormat.url + \'.svg\'}}" alt="{{trackManager.playerService.state.fileFormat.name}}"> <span ng-if="!trackManager.playerService.state.fileFormat">{{trackManager.playerService.state.trackType}}</span></span></div></div><div ng-if="trackManager.playerService.state.trackType === \'webradio\' || trackManager.playerService.state.disableUi" class="fakePulsingKnob"></div><knob ng-show="trackManager.playerService.state.trackType !== \'webradio\' && trackManager.playerService.state.disableUi === false" value="trackManager.playerService.seekPercent" on-change="trackManager.onChange(value)" options="trackManager.knobOptions" type="track"></knob></div><div id="trackButtonBar" class="btn-group" ng-include="" src="\'app/themes/volumio3/components/track-manager/elements/volumio3-track-manager-button-bar.html\'"></div></div></div>'),
e.put("app/themes/volumio3/components/volume-manager/volumio3-volume-manager.html",'<div class="volumeSliderScrim" ng-if="volumeManager.showVerticalSlider" ng-click="volumeManager.toggleVolumeSlider()"></div><div ng-if="!volumeManager.matchmediaService.isPhone && !volumeManager.isOnFooter" class="volumeManager"><div class="knobWrapper"><div class="knobInfosWrapper"><div class="headerText green"><span ng-if="volumeManager.playerService.state.mute" translate="COMMON.VOLUME_MUTED"></span></div><div class="bigText">{{volumeManager.playerService.volume}}</div><div class="smallText">/100</div></div><knob value="volumeManager.playerService.volume" options="volumeManager.knobOptions" type="volume"></knob></div><div id="volumeButtonBar" class="btn-group"><button ng-click="volumeManager.playerService.volumeDown()" class="btn btn-link" title="{{\'COMMON.VOLUME_DOWN\' | translate}}" ng-disabled="volumeManager.playerService.state.disableVolumeControl"><i class="fa fa-volume-down"></i></button> <button ng-click="volumeManager.toggleMute()" class="btn btn-link" ng-class="{selected: volumeManager.playerService.state.mute}" ng-disabled="volumeManager.playerService.state.disableVolumeControl" title="{{\'COMMON.VOLUME_MUTE\' | translate}}"><i class="fa fa-volume-off"></i></button> <button ng-click="volumeManager.playerService.volumeUp()" class="btn btn-link" title="{{\'COMMON.VOLUME_UP\' | translate}}" ng-disabled="volumeManager.playerService.state.disableVolumeControl"><i class="fa fa-volume-up"></i></button></div></div><div ng-if="volumeManager.matchmediaService.isPhone || volumeManager.isOnFooter" ng-class="{\'volumeManager pull-right\': true, \'on-footer hidden-md hidden-lg hidden-xl\': volumeManager.isOnFooter}"><div class="volumeSliderWrapper" ng-show="volumeManager.showVerticalSlider"><div class="bigText">{{volumeManager.playerService.volume}}</div><div class="smallText">/100</div><button ng-click="volumeManager.playerService.volumeUp()" class="btn btn-link" title="{{\'COMMON.VOLUME_UP\' | translate}}" ng-disabled="volumeManager.playerService.state.disableVolumeControl"><i class="fa fa-volume-up"></i></button><slider class="volumeSlider" id="volumeVerticalSlider" ng-class="{disabled: volumeManager.playerService.state.mute}" ng-model="volumeManager.playerService.volume" min="0" step="5" max="100" slider-tooltip="hide" reversed="true" ng-disabled="volumeManager.playerService.state.disableVolumeControl" orientation="vertical"></slider><button ng-click="volumeManager.playerService.volumeDown()" class="btn btn-link" title="{{\'COMMON.VOLUME_DOWN\' | translate}}" ng-disabled="volumeManager.playerService.state.disableVolumeControl"><i class="fa fa-volume-down"></i></button></div><button id="openVolumeVerticalSlider" ng-click="volumeManager.toggleVolumeSlider()" ng-disabled="volumeManager.playerService.state.disableVolumeControl" class="btn btn-link"><i class="material-icons">volume_down</i></button></div><div ng-if="volumeManager.isOnFooter" class="volume-slider hidden-xs hidden-sm"><button ng-click="volumeManager.toggleMute()" class="btn btn-link button-mute pull-left" ng-class="{selected: volumeManager.playerService.state.mute}" ng-disabled="volumeManager.playerService.state.disableVolumeControl"><i class="fa fa-volume-off"></i></button><slider class="volumeSlider" ng-class="{disabled: volumeManager.playerService.state.mute}" ng-model="volumeManager.playerService.volume" min="0" step="5" max="100" slider-tooltip="hide" ng-disabled="volumeManager.playerService.state.disableVolumeControl"></slider><div class="volume-text">{{volumeManager.playerService.volume}}/100</div></div>'),e.put("app/components/myvolumio/components/shareds/already-logged/auth-already-logged.html",'<div><h4 translate="MYVOLUMIO.ALREADY_LOGGED_IN" style="margin-bottom: 16px;"></h4><a ng-click="myVolumioAlreadyLoggedController.goToProfile()" class="btn btn-lg btn-success"><span class="glyphicon glyphicon-user"></span> <span translate="MYVOLUMIO.PROFILE"></span></a> <a ng-click="myVolumioAlreadyLoggedController.logOut()" class="btn btn-lg btn-default pull-right"><span class="glyphicon glyphicon-log-out"></span> <span translate="MYVOLUMIO.LOGOUT"></span></a></div>'),e.put("app/components/myvolumio/components/shareds/already-logged/myvolumio-already-logged.html",'<div><h4 translate="MYVOLUMIO.ALREADY_LOGGED_IN" style="margin-bottom: 16px;"></h4><a ng-click="myVolumioAlreadyLoggedController.goToProfile()" class="btn btn-lg btn-success"><span class="glyphicon glyphicon-user"></span> <span translate="MYVOLUMIO.PROFILE"></span></a> <a ng-click="myVolumioAlreadyLoggedController.logOut()" class="btn btn-lg btn-default pull-right"><span class="glyphicon glyphicon-log-out"></span> <span translate="MYVOLUMIO.LOGOUT"></span></a></div>'),e.put("app/components/myvolumio/components/shareds/avatar-image/myvolumio-avatar-image.html",'<div class="avatar-image-box"><div ng-if="myVolumioAvatarImageController.imageUrl" class="avatar-image img-circle img-responsive" style="background-image: url(\'{{myVolumioAvatarImageController.imageUrl}}\');"></div><div ng-if="!myVolumioAvatarImageController.imageUrl" class="avatar-letter"><ng-letter-avatar dynamic="true" shape="round" data="{{myVolumioAvatarImageController.user.firstName || myVolumioAvatarImageController.user.email || \'?\'}}"></ng-letter-avatar></div></div>'),e.put("app/components/myvolumio/components/shareds/back-button/myvolumio-back-button.html",'<a ng-click="myVolumioBackButtonController.goBack()" style="cursor: pointer; font-size: large;"><span class="glyphicon glyphicon-arrow-left"></span> <span ng-if="myVolumioBackButtonController.label.indexOf(\'MYVOLUMIO.\') === -1">{{myVolumioBackButtonController.label}}</span></a>'),e.put("app/components/myvolumio/components/shareds/current-plan-card/auth-current-plan-card.html",'<div class="myvolumio-current-plan-card"><div class="plans-table"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" translate="MYVOLUMIO.CURRENT_PLAN"></h3></div><div class="panel-body"><div class="the-price"><h1>{{myVolumioCurrentPlanCardController.user.plan || \'FREE\' | uppercase}}</h1><small ng-if="myVolumioCurrentPlanCardController.user.expire_at"><span translate="MYVOLUMIO.EXPIRING"></span>: {{myVolumioCurrentPlanCardController.getDate(myVolumioCurrentPlanCardController.user.expire_at) | date}}</small></div></div><div class="panel-footer"><a ng-if="myVolumioCurrentPlanCardController.isTargetingProfile()" ng-click="myVolumioCurrentPlanCardController.goToProfile()" class="btn btn-success btn-labeled"><span class="btn-label"><i class="glyphicon glyphicon-user"></i></span> <span translate="MYVOLUMIO.GO_TO_PROFILE"></span></a> <button ng-if="!myVolumioCurrentPlanCardController.isLifeTimePlan() && myVolumioCurrentPlanCardController.isTargetingUpgrade()" type="button" class="btn btn-labeled btn-success" ng-click="myVolumioCurrentPlanCardController.goToPlans();"><span class="btn-label"><i class="glyphicon glyphicon-triangle-top"></i></span> <span translate="MYVOLUMIO.CHANGE_PLAN"></span></button></div></div></div></div>'),e.put("app/components/myvolumio/components/shareds/current-plan-card/myvolumio-current-plan-card.html",'<div class="myvolumio-current-plan-card"><div class="plans-table"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title" translate="MYVOLUMIO.CURRENT_PLAN"></h3></div><div class="panel-body"><div class="the-price"><h1>{{myVolumioCurrentPlanCardController.user.plan || \'FREE\' | uppercase}}</h1><small ng-if="myVolumioCurrentPlanCardController.user.expire_at"><span translate="MYVOLUMIO.EXPIRING"></span>: {{myVolumioCurrentPlanCardController.getDate(myVolumioCurrentPlanCardController.user.expire_at) | date}}</small> <small style="text-transform: capitalize;" ng-if="!myVolumioCurrentPlanCardController.isFreePlan()">{{\'MYVOLUMIO.\'+myVolumioCurrentPlanCardController.getPlanDuration() | uppercase | translate}}</small></div></div><div class="panel-footer"><a ng-if="myVolumioCurrentPlanCardController.isTargetingProfile()" ng-click="myVolumioCurrentPlanCardController.goToProfile()" class="btn btn-success btn-labeled"><span class="btn-label"><i class="glyphicon glyphicon-user"></i></span> <span translate="MYVOLUMIO.GO_TO_PROFILE"></span></a> <button ng-if="!myVolumioCurrentPlanCardController.isLifeTimePlan() && myVolumioCurrentPlanCardController.isTargetingUpgrade()" type="button" class="btn btn-labeled btn-success" ng-click="myVolumioCurrentPlanCardController.goToPlans();"><span class="btn-label"><i class="glyphicon glyphicon-triangle-top"></i></span> <span translate="MYVOLUMIO.CHANGE_PLAN"></span></button></div></div></div></div>'),e.put("app/components/myvolumio/components/shareds/growsurf-referral-card/growsurf-referral-card.html","<div></div>"),e.put("app/components/myvolumio/components/shareds/plan-card/myvolumio-plan-card.html",'<div class="plan-box"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">{{myVolumioPlanCardController.product.name}}</h3></div><div class="panel-body"><div class="the-price"><h1>{{myVolumioPlanCardController.getShownPrice()}}</h1><span ng-if="myVolumioPlanCardController.product.plan.toLowerCase() != \'free\'" style="font-size: small;">{{\'MYVOLUMIO.\'+myVolumioPlanCardController.showMode.planDuration + \'_PER\'| uppercase | translate | lowercase}}</span><br><h4 class="trial-text" ng-if="myVolumioPlanCardController.isTrialAvailable() && !myVolumioPlanCardController.getTrialOverride()">{{myVolumioPlanCardController.getTrialDays()}} {{\'MYVOLUMIO.FREE_DAYS_TRIAL\' | translate}}</h4></div><table class="table"><tr ng-repeat="feature in myVolumioPlanCardController.product.features track by $index" ng-class-odd="\'active\'"><td ng-if="feature === \'EMPTY\'" class="myvolumio-feature">&nbsp;</td><td ng-if="feature !== \'EMPTY\'" class="myvolumio-feature">{{feature | translate}}</td></tr></table></div><div class="panel-footer"><div ng-if="myVolumioPlanCardController.product.plan === \'free\' && myVolumioPlanCardController.isDefaultBehaviour === true"><button type="button" class="btn btn-labeled btn-success" ng-if="!myVolumioPlanCardController.user.plan || myVolumioPlanCardController.user.plan === \'free\'"><span class="btn-label"><i class="glyphicon glyphicon-ok"></i></span> <span translate="MYVOLUMIO.CURRENT_PLAN"></span></button> <button ng-click="myVolumioPlanCardController.downgradeToFree();" type="button" class="btn btn-labeled btn-default" ng-if="myVolumioPlanCardController.user.plan !== myVolumioPlanCardController.product.plan && myVolumioPlanCardController.user.plan !== undefined"><span class="btn-label"><i class="glyphicon glyphicon-triangle-bottom"></i></span> <span translate="MYVOLUMIO.CHANGE_PLAN"></span></button></div><div ng-if="myVolumioPlanCardController.isDefaultBehaviour === true && myVolumioPlanCardController.product.plan !== \'free\'"><div ng-if="myVolumioPlanCardController.user.plan === undefined || myVolumioPlanCardController.user.plan === null || myVolumioPlanCardController.user.plan === \'free\'"><button ng-click="myVolumioPlanCardController.subscribe(myVolumioPlanCardController.product.plan)" class="btn btn-success btn-labeled"><span class="btn-label"><i class="glyphicon glyphicon-triangle-top"></i></span> <span ng-if="!myVolumioPlanCardController.isTrialAvailable()" translate="MYVOLUMIO.CHANGE_PLAN"></span> <span ng-if="myVolumioPlanCardController.isTrialAvailable()" translate="MYVOLUMIO.TRY_FOR_FREE"></span></button></div><button type="button" class="btn btn-labeled btn-success" ng-if="myVolumioPlanCardController.user.plan === myVolumioPlanCardController.product.plan && myVolumioPlanCardController.user.planDuration === myVolumioPlanCardController.showMode.planDuration"><span class="btn-label"><i class="glyphicon glyphicon-ok"></i></span> <span translate="MYVOLUMIO.CURRENT_PLAN"></span></button><button ng-click="myVolumioPlanCardController.goToChangePlan(myVolumioPlanCardController.product.plan)" type="button" class="btn btn-labeled btn-default" ng-if="(myVolumioPlanCardController.user.plan !== \'free\' && myVolumioPlanCardController.user.plan !== undefined) && (myVolumioPlanCardController.user.planDuration !== myVolumioPlanCardController.showMode.planDuration || myVolumioPlanCardController.user.plan !== myVolumioPlanCardController.product.plan)" ng-disabled="myVolumioPlanCardController.user.planDuration === \'yearly\' && myVolumioPlanCardController.showMode.planDuration === \'monthly\'"><span class="btn-label"><i class="fa fa-random"></i></span> <span translate="MYVOLUMIO.CHANGE_PLAN"></span></button></div><div ng-if="myVolumioPlanCardController.activateSubscribe"><paddle-pay-button paddle-product="myVolumioPlanCardController.product" callback="myVolumioPlanCardController.subscriptionCallback(subscribing)" user-id="myVolumioPlanCardController.user.uid" button-label="{{\'MYVOLUMIO.SUBSCRIBE\' | translate}}" button-class="btn-block" user-email="myVolumioPlanCardController.user.email" plan-duration="myVolumioPlanCardController.getCurrentPlanDuration()" is-trial="myVolumioPlanCardController.isTrialAvailable()"></paddle-pay-button></div><div ng-if="myVolumioPlanCardController.activateCancellation"><button ng-click="myVolumioPlanCardController.doDowngrade()" type="button" class="btn btn-labeled btn-default"><span class="btn-label"><i class="glyphicon glyphicon-remove"></i></span> <span translate="MYVOLUMIO.CANCEL_SUBSCRIPTION"></span></button></div><div ng-if="myVolumioPlanCardController.activateChangeSubscription"><button ng-click="myVolumioPlanCardController.changePlan();" type="button" class="btn btn-labeled btn-default"><span class="btn-label"><i class="fa fa-random"></i></span> <span translate="MYVOLUMIO.UPDATE_SUBSCRIPTION"></span></button></div></div></div></div>'),e.put("app/components/myvolumio/components/shareds/verification-card/auth-verification-card.html",'<div class="panel panel-default"><div class="panel-body"><h4><span class="glyphicon glyphicon-warning-sign"></span> <span translate="MYVOLUMIO.PLEASE_VERIFY_EMAIL_TITLE"></span></h4><p translate="MYVOLUMIO.PLEASE_VERIFY_EMAIL_DESC"></p><p><a style="cursor: pointer" ng-click="myVolumioVerificationCardController.resendEmailVerification()" translate="MYVOLUMIO.RESEND_VERIFICATION_EMAIL"></a></p><p><a style="cursor: pointer" ng-click="myVolumioVerificationCardController.reAuth()" translate="MYVOLUMIO.VERIFICATION_DONE_NOW_REMYVOLUMIO"></a></p></div></div>'),e.put("app/components/myvolumio/components/shareds/verification-card/myvolumio-verification-card.html",'<div class="panel panel-default"><div class="panel-body"><h4><span class="glyphicon glyphicon-warning-sign"></span> <span translate="MYVOLUMIO.PLEASE_VERIFY_EMAIL_TITLE"></span></h4><p translate="MYVOLUMIO.PLEASE_VERIFY_EMAIL_DESC"></p><p><a style="cursor: pointer" ng-click="myVolumioVerificationCardController.resendEmailVerification()" translate="MYVOLUMIO.RESEND_VERIFICATION_EMAIL"></a></p><p><a style="cursor: pointer" ng-click="myVolumioVerificationCardController.reAuth()" translate="MYVOLUMIO.VERIFICATION_DONE_NOW_REMYVOLUMIO"></a></p></div></div>'),e.put("app/themes/volumio/components/track-manager/elements/volumio-track-manager-button-bar.html","<favourite-track-btn></favourite-track-btn><add-track-to-playlist-btn></add-track-to-playlist-btn><track-actions-btn></track-actions-btn>"),e.put("app/themes/volumio3/components/track-manager/elements/volumio3-track-manager-button-bar.html","<favourite-track-btn></favourite-track-btn><add-track-to-playlist-btn></add-track-to-playlist-btn><track-actions-btn></track-actions-btn>")}]);